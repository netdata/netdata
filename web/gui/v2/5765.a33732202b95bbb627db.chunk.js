!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="52df8c28-5bff-4a1a-8f28-be843ce4cc36",e._sentryDebugIdIdentifier="sentry-dbid-52df8c28-5bff-4a1a-8f28-be843ce4cc36")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"6845f9ce010d5a446e5d4a40f17204cb8341a07a"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[5765],{39434:function(e,t,n){t.__esModule=!0,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(67294)),r=i(n(53087)),a=i(n(81743)),l=["text","maxLength","Component","noTooltip"];function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=function(e){var t=e.text,n=e.maxLength,i=void 0===n?15:n,c=e.Component,u=void 0===c?"div":c,s=e.noTooltip,d=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l),f=(0,o.useMemo)((function(){return t?(0,r.default)(t,i):null}),[t,i]);return s||f===t?o.default.createElement(u,d,f):o.default.createElement(a.default,{content:t},o.default.createElement(u,d,f))};t.default=u},7922:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var o=n(87462),r=n(29439),a=n(4942),l=n(93433),i=(n(41539),n(64211),n(2490),n(41874),n(26699),n(32023),n(85827),n(25387),n(72608),n(92222),n(66992),n(70189),n(78783),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(57327),n(88449),n(59849),n(21249),n(57640),n(9924),n(47941),n(67294)),c=n(48286),u=n(91966),s=n.n(u),d=n(89250),f=n(97945),g=n(97193),m=n(95248),p=n(46667),b=n(27261),h=n(9458),v=n(64969),y=n(6973),x=(0,i.forwardRef)((function(e,t){var n=e.selectedNodesNumber;return i.createElement(v.Flex,{"data-testid":"selectNodesIndicator",ref:t,cursor:"pointer"},i.createElement(v.Box,{margin:[0,1,0,0]},i.createElement(v.TextSmall,null,"Selected")),i.createElement(v.Flex,{border:{size:"1px",type:"solid",color:"dropdown"},round:!0,padding:[0,1],width:{min:7.5},height:5,background:"mainBackground",as:v.TextSmall,justifyContent:"center",alignItems:"center",color:"textDescription"},n||"-"))})),w=n(91128),O=n(4514),E=n(89149),C=n(50308),k=n.n(C),j=n(53030),S=function(e){var t=e.startAddingNodes,n=void 0===t?k():t,o=e.startShowingIntegrations,r=void 0===o?k():o,a=e.close,l=void 0===a?k():a,c=(0,i.useCallback)((function(){l(),n()}),[n]),u=(0,i.useCallback)((function(){l(),r()}),[r]);return i.createElement(i.Fragment,null,i.createElement(v.Flex,{gap:2,justifyContent:"end",padding:[2,4,0,4]},i.createElement(j.Z,{icon:"nodes_hollow",flavour:"hollow",onClick:c,small:!0,label:"Add Nodes"}),i.createElement(v.Button,{icon:"integrations",flavour:"hollow",onClick:u,small:!0,label:"Integrations"})))},Z=n(38671);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!0,hasAlerts:!0,hasFn:!0},node:{textColor:"text",showAlerts:!0,showMl:!0,showFn:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale",hasML:!0},node:{textColor:"text",showMl:!0}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},_=[],M=function(e,t,n,o){var r=!e.some((function(e){return!n.includes(e)})),a=n.length&&!r&&e.some((function(e){return n.includes(e)}));return e.length?e.reduce((function(e,r){var a=o[r],i=a.name,c=a.capabilities,u=n.includes(r);return[].concat((0,l.Z)(e),[L(L({value:r,label:i,nodeId:r,selected:u,status:t,capabilities:c},P[t].node),{},{maxLength:80})])}),[L(L({value:e,selected:r,indeterminate:a,status:t},P[t].head),{},{maxLength:80})]):[]},N=(0,i.memo)((function(){var e=(0,m.wT)(),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=(0,i.useState)(n||_),C=(0,r.Z)(u,2),k=C[0],j=C[1];(0,i.useEffect)((function(){j(n||_)}),[n]);var I=(0,p.Z)(!1),L=(0,r.Z)(I,4),P=L[0],N=L[1],T=L[3],D=(0,i.useCallback)((function(){P&&(a(k),T())}),[k]),F=(0,f.HZ)(),A=(0,f.e5)(),B=(0,f.mf)(),R=(0,f.Y0)(),W=(0,i.useCallback)((function(e){var t=e.value,n=e.checked;j((function(e){return Array.isArray(t)?n?(0,l.Z)(new Set([].concat((0,l.Z)(e),(0,l.Z)(t)))):s()(e,t):n?[].concat((0,l.Z)(e),[t]):e.filter((function(e){return e!==t}))}))}),[]),z=(0,i.useMemo)((function(){return{live:{counter:F.length,statusText:"Live"},stale:{counter:A.length,statusText:"Stale"},offline:{counter:B.length,statusText:"Offline"},unseen:{counter:R.length,statusText:"Unseen"}}}),[F.length,A.length,B.length,R.length]),Y=(0,d.bS)("/spaces/:spaceSlug/rooms/:roomSlug/nodes/:nodeId"),H=(0,w.Z)();(0,c.Z)((function(){H(P)}),[P]);var U=(0,f.d$)(),$=(0,i.useMemo)((function(){var e=M(F,"Live",k,U),t=M(A,"Stale",k,U),n=M(B,"Offline",k,U);return e.concat(t,n)}),[k,F.length,A.length,B.length]),q=(0,p.Z)(),G=(0,r.Z)(q,4),J=G[0],K=G[2],Q=G[3],V=(0,Z.Z)().onIntegrationsClick;return i.createElement(i.Fragment,null,i.createElement(v.Menu,{dropProps:{align:{top:"bottom",left:"left"},"data-toolbox":!0},dropdownProps:{height:{max:"60vh"},width:{max:"600px"},overflow:"auto",padding:[0,0,3],"data-testid":"filterNodes-drop"},itemProps:{padding:[1,4],maxLength:60},disabled:!!Y,items:$,Item:g.c,Footer:function(e){return i.createElement(S,(0,o.Z)({startAddingNodes:K,startShowingIntegrations:V},e))},onChange:W,value:k,"data-value":k.join(",")||"all-nodes",closeOnClick:!1,onClose:D,hasSearch:!0},i.createElement(O.Z,{"data-testid":"nodesIndicator",round:"2px",alignItems:"center",justifyContent:"end",width:{min:75},background:"elevationLevelOne",disabled:!!Y},i.createElement(v.Flex,{cursor:"pointer",onClick:N,padding:[1,3],gap:2,alignItems:"center"},i.createElement(v.TextSmall,{strong:!0},"Nodes"),i.createElement(h.Z,null),Object.keys(z).map((function(e){return i.createElement(i.Fragment,{key:e},i.createElement(b.Z,{statusText:z[e].statusText,counter:z[e].counter,statusColor:y.B[e]}),i.createElement(h.Z,null))})),i.createElement(x,{selectedNodesNumber:k.length}),i.createElement(v.Icon,{name:"chevron_down",size:"small",color:"textLite"})))),J&&i.createElement(E.Z,{onClose:Q}))}))},92087:function(e,t,n){var o=n(17854),r=n(19781),a=n(47045),l=n(67066),i=n(47293),c=o.RegExp,u=c.prototype;r&&i((function(){var e=!0;try{c(".","d")}catch(i){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",r=function(e,o){Object.defineProperty(t,e,{get:function(){return n+=o,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in e&&(a.hasIndices="d"),a)r(l,a[l]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==o||n!==o}))&&a(u,"flags",{configurable:!0,get:l})},82481:function(e,t,n){n(82109)({target:"String",proto:!0},{repeat:n(38415)})}}]);