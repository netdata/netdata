!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ceccaa67-ec29-4706-ac58-8d4dd8b985b2",e._sentryDebugIdIdentifier="sentry-dbid-ceccaa67-ec29-4706-ac58-8d4dd8b985b2")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"42ec0d6f0c4ba08a06a38e1a5fa6664dccfae1bf"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[5933],{39434:function(e,t,n){t.__esModule=!0,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(67294)),r=c(n(53087)),a=c(n(81743)),l=["text","maxLength","Component","noTooltip"];function c(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.default=function(e){var t=e.text,n=e.maxLength,c=void 0===n?15:n,i=e.Component,u=void 0===i?"div":i,d=e.noTooltip,s=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,l),f=(0,o.useMemo)((function(){return t?(0,r.default)(t,c):null}),[t,c]);return d||f===t?o.default.createElement(u,s,f):o.default.createElement(a.default,{content:t},o.default.createElement(u,s,f))}},7922:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var o=n(87462),r=n(29439),a=n(4942),l=n(93433),c=(n(41539),n(64211),n(2490),n(41874),n(26699),n(32023),n(85827),n(25387),n(72608),n(92222),n(66992),n(70189),n(78783),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(57327),n(88449),n(59849),n(21249),n(57640),n(9924),n(47941),n(67294)),i=n(48286),u=n(91966),d=n.n(u),s=n(89250),f=n(97945),m=n(97193),g=n(4822),p=n(46667),b=n(27261),h=n(9458),v=n(59978),y=n(6973),x=(0,c.forwardRef)((function(e,t){var n=e.selectedNodesNumber;return c.createElement(v.Flex,{"data-testid":"selectNodesIndicator",ref:t,cursor:"pointer"},c.createElement(v.Box,{margin:[0,1,0,0]},c.createElement(v.TextSmall,null,"Selected")),c.createElement(v.Flex,{border:{size:"1px",type:"solid",color:"dropdown"},round:!0,padding:[0,1],width:{min:7.5},height:5,background:"mainBackground",as:v.TextSmall,justifyContent:"center",alignItems:"center",color:"textDescription"},n||"-"))})),w=n(91128),O=n(4514),E=n(89149),C=n(50308),k=n.n(C),S=n(53030),j=function(e){var t=e.startAddingNodes,n=void 0===t?k():t,o=e.startShowingIntegrations,r=void 0===o?k():o,a=e.close,l=void 0===a?k():a,i=(0,c.useCallback)((function(){l(),n()}),[n]),u=(0,c.useCallback)((function(){l(),r()}),[r]);return c.createElement(c.Fragment,null,c.createElement(v.Flex,{gap:2,justifyContent:"end",padding:[2,4,0,4]},c.createElement(S.Z,{icon:"nodes_hollow",flavour:"hollow",onClick:i,small:!0,label:"Add Nodes"}),c.createElement(v.Button,{icon:"integrations",flavour:"hollow",onClick:u,small:!0,label:"Integrations"})))},Z=n(38671);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!0,hasAlerts:!0,hasFn:!0},node:{textColor:"text",showAlerts:!0,showMl:!0,showFn:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale",hasML:!0},node:{textColor:"text",showMl:!0}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},P=[],M=function(e,t,n,o){var r=!e.some((function(e){return!n.includes(e)})),a=n.length&&!r&&e.some((function(e){return n.includes(e)}));return e.length?e.reduce((function(e,r){var a=o[r],c=a.name,i=a.capabilities,u=n.includes(r);return[].concat((0,l.Z)(e),[I(I({value:r,label:c,nodeId:r,selected:u,status:t,capabilities:i},_[t].node),{},{maxLength:80})])}),[I(I({value:e,selected:r,indeterminate:a,status:t},_[t].head),{},{maxLength:80})]):[]},N=(0,c.memo)((function(){var e=(0,g.wT)(),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=(0,c.useState)(n||P),C=(0,r.Z)(u,2),k=C[0],S=C[1];(0,c.useEffect)((function(){S(n||P)}),[n]);var L=(0,p.Z)(!1),I=(0,r.Z)(L,4),_=I[0],N=I[1],T=I[3],D=(0,c.useCallback)((function(){_&&(a(k),T())}),[k]),F=(0,f.HZ)(),A=(0,f.e5)(),B=(0,f.mf)(),R=(0,f.Y0)(),W=(0,c.useCallback)((function(e){var t=e.value,n=e.checked;S((function(e){return Array.isArray(t)?n?(0,l.Z)(new Set([].concat((0,l.Z)(e),(0,l.Z)(t)))):d()(e,t):n?[].concat((0,l.Z)(e),[t]):e.filter((function(e){return e!==t}))}))}),[]),z=(0,c.useMemo)((function(){return{live:{counter:F.length,statusText:"Live"},stale:{counter:A.length,statusText:"Stale"},offline:{counter:B.length,statusText:"Offline"},unseen:{counter:R.length,statusText:"Unseen"}}}),[F.length,A.length,B.length,R.length]),Y=(0,s.bS)("/spaces/:spaceSlug/rooms/:roomSlug/nodes/:nodeId"),H=(0,w.Z)();(0,i.Z)((function(){H(_)}),[_]);var U=(0,f.d$)(),$=(0,c.useMemo)((function(){var e=M(F,"Live",k,U),t=M(A,"Stale",k,U),n=M(B,"Offline",k,U);return e.concat(t,n)}),[k,F.length,A.length,B.length]),q=(0,p.Z)(),G=(0,r.Z)(q,4),J=G[0],K=G[2],Q=G[3],V=(0,Z.Z)().onIntegrationsClick;return c.createElement(c.Fragment,null,c.createElement(v.Menu,{dropProps:{align:{top:"bottom",left:"left"},"data-toolbox":!0},dropdownProps:{height:{max:"60vh"},width:{max:"600px"},overflow:"auto",padding:[0,0,3],"data-testid":"filterNodes-drop"},itemProps:{padding:[1,4],maxLength:60},disabled:!!Y,items:$,Item:m.c,Footer:function(e){return c.createElement(j,(0,o.Z)({startAddingNodes:K,startShowingIntegrations:V},e))},onChange:W,value:k,"data-value":k.join(",")||"all-nodes",closeOnClick:!1,onClose:D,hasSearch:!0},c.createElement(O.Z,{"data-testid":"nodesIndicator",round:"2px",alignItems:"center",justifyContent:"end",width:{min:75},background:"elevationLevelOne",disabled:!!Y},c.createElement(v.Flex,{cursor:"pointer",onClick:N,padding:[1,3],gap:2,alignItems:"center"},c.createElement(v.TextSmall,{strong:!0},"Nodes"),c.createElement(h.Z,null),Object.keys(z).map((function(e){return c.createElement(c.Fragment,{key:e},c.createElement(b.Z,{statusText:z[e].statusText,counter:z[e].counter,statusColor:y.B[e]}),c.createElement(h.Z,null))})),c.createElement(x,{selectedNodesNumber:k.length}),c.createElement(v.Icon,{name:"chevron_down",size:"small",color:"textLite"})))),J&&c.createElement(E.Z,{onClose:Q}))}))}}]);