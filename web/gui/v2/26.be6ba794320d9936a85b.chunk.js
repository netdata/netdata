!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="368bfa36-bcf0-4763-a07d-7c8348b0ea06",e._sentryDebugIdIdentifier="sentry-dbid-368bfa36-bcf0-4763-a07d-7c8348b0ea06")}catch(e){}}(),(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[26],{35120:(e,t,n)=>{n.d(t,{Q0:()=>a,R4:()=>m,TT:()=>d,WL:()=>i,Y:()=>l,by:()=>u,qY:()=>c,rU:()=>f,xL:()=>s});var r=n(60677),o=n(54851),a=r.default.img.withConfig({displayName:"styled__Illustration",componentId:"sc-cmo4ym-0"})(["margin:0 auto;"]),c=(0,r.default)(o.Text).withConfig({displayName:"styled__StyledText",componentId:"sc-cmo4ym-1"})(["display:block;"]),l=r.default.div.withConfig({displayName:"styled__TextHeader",componentId:"sc-cmo4ym-2"})(["margin-bottom:",";font-weight:700;"],(0,o.getSizeBy)(2)),i=r.default.div.withConfig({displayName:"styled__StaticCheckmarks",componentId:"sc-cmo4ym-3"})(["margin-top:",";margin-bottom:",";"],(0,o.getSizeBy)(2),(0,o.getSizeBy)(5)),d=r.default.div.withConfig({displayName:"styled__CheckmarkLine",componentId:"sc-cmo4ym-4"})(["display:flex;align-items:center;"]),s=(0,r.default)(o.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-cmo4ym-5"})(["margin-right:4px;height:18px;> use{fill:",";}"],(0,o.getColor)("primary")),u=(0,r.default)(s).withConfig({displayName:"styled__HelpIcon",componentId:"sc-cmo4ym-6"})(["vertical-align:middle;"]),m=r.default.div.withConfig({displayName:"styled__LearnMoreSection",componentId:"sc-cmo4ym-7"})(["margin-top:",";"],(0,o.getSizeBy)(4)),f=r.default.a.withConfig({displayName:"styled__Link",componentId:"sc-cmo4ym-8"})(["text-decoration:underline;color:",";&:visited{color:",";}"],(0,o.getColor)("success"),(0,o.getColor)("success"))},81026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>bt});var r=n(67294),o=n(89250),a=n(28885);var c=n(98487),l=n(38700),i=n(32618),d=n(72840),s=n(99930),u=n(59447),m=n(16161),f=n(11033),p=n(11012);const b=function(){return r.createElement(p.Z,{title:"Loading charts...","data-testid":"dashboardLoading"})};var h=n(29439),g=n(32685),y=n(4942),v=n(45987),O=n(54851),E=n(70789),w=n(32802),C=["compact"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const x=function(e){var t=e.compact,n=(0,v.Z)(e,C),o=(0,g.Z)("addChartModal"),a=(0,h.Z)(o,2)[1],c=(0,w.Mm)().length>0;return r.createElement(O.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,alignItems:"center",justifyContent:"center",overflow:{vertical:"auto"},flex:!0,basis:0,"data-testid":"dashboardBlankSlate"},n),!t&&r.createElement(O.Flex,{as:"img",src:E.X,height:"35%"}),r.createElement(O.H3,{margin:[6,0,2]},"Empty Dashboard"),c?r.createElement(r.Fragment,null,r.createElement(O.Text,{textAlign:"center"},"Let\u2019s fill your dashboard."),r.createElement(O.Text,{textAlign:"center"},"Go to a node view or node list and add one chart to this Dashboard or just use")):r.createElement(r.Fragment,null,r.createElement(O.Text,{textAlign:"center"},"You don't have any available node to retrieve charts from."),r.createElement(O.Text,{textAlign:"center"},"Please verify your nodes' state and/or connect a new node to Netdata Cloud")),!t&&r.createElement(O.Button,{margin:[8,0,0,0],onClick:a,disabled:!c,label:"Add chart","data-testid":"dashboardBlankSlate-addChart"}))};var D=n(93433),P=n(40924),k=n(53843),I=n(16702),S=n(25464),Z=n(45381),T=n(21728),M=n(16476),N=n(4175),_=n(81238),F=n(37045),L=n(21194),B=n(22464),A=function(){return r.createElement(O.Flex,{column:!0,width:"300px",gap:1},r.createElement(O.TextSmall,{strong:!0,color:"white"},"Not finding a chart?"),r.createElement(O.TextSmall,{color:"white"},"When selecting",r.createElement(O.TextSmall,{strong:!0,color:"white",margin:[0,1]},"All Nodes"),"you search and add charts using their context. The outcome will be a composite chart over All Nodes, like on the Overview tab."),r.createElement(O.TextSmall,{color:"white"},"When you select a",r.createElement(O.TextSmall,{strong:!0,color:"white",margin:[0,1]},"specific Node"),"you search and add charts using their name. The result is a specific chart over the node selected, like on Single Node tab."))};const H=function(){return r.createElement(B.Z,{isBasic:!0,plain:!0,content:A,align:"bottom"},r.createElement(O.Icon,{name:"question",color:"textDescription",size:"small"}))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const z=function(e){var t=e.spaceId,n=e.roomId,o=e.value,a=e.onChange,c=e.options,l=e.testid,i=e.selectedNodeIds,d=null===o||void 0===o?void 0:o.value,s=(0,L.e)(),u=(0,T.Cd)(d&&n,d),m=(0,r.useMemo)((function(){s.getNodes({id:"newDashboardChart"}).forEach((function(e){return e.destroy()}));var e=(0,_.ZP)(u),r=e.info,o=e.valueRange,a=e.height,c=e.colors,l=s.makeChart({attributes:R({id:"newDashboardChart",contextScope:[d],host:"/api/v3/spaces/".concat(t,"/rooms/").concat(n),roomId:n,info:r,valueRange:o,height:"".concat(a+207,"px"),enabledNavigation:!1,selectedNodes:i},c&&{colors:c})});return s.getRoot().appendChild(l),l}),[s,d]);return(0,r.useEffect)((function(){return function(){return m.destroy()}}),[]),r.createElement(O.Flex,{gap:6,column:!0},r.createElement(O.Flex,{gap:2,column:!0,"data-testid":l},r.createElement(O.Flex,{gap:2},r.createElement(O.H5,null,"Context in room overview"),r.createElement(H,null)),r.createElement(O.Select,{options:c,value:o,onChange:a,isClearable:!0,form:l})),o&&r.createElement(O.Flex,{height:{min:"320px"},column:!0},r.createElement(F.Z,{chart:m,margin:[2,0,0]})))};var W={label:"All Nodes",value:"all-nodes"},J={label:"All Nodes (no reachable nodes)",value:"all-nodes",isDisabled:!0},q=function(e){var t=e.id,n=e.isLive,r=e.name;return{label:n?r:"".concat(r," (offline)"),value:t,isDisabled:!n}},V=function(e){return{value:e,label:e}};const Y=function(e){var t=e.id,n=e.onClose,o=(0,l.th)(),a=(0,d.UL)(),c=(0,u.LJ)(t,"name"),i=(0,d.Hm)("name"),s=(0,S.zN)(),m=(0,w.HZ)().length>0,f=(0,S.fD)(),p=(0,w.Ne)(s),b=(0,N.jN)(t),g=m?W:J,y=(0,r.useState)(g.value),v=(0,h.Z)(y,2),E=v[0],C=v[1],j=(0,r.useState)(null),x=(0,h.Z)(j,2),_=x[0],F=x[1],B=(0,r.useMemo)((function(){return[g].concat((0,D.Z)(p.map(q)))}),[p]),A=(0,r.useMemo)((function(){return B.find((function(e){return e.value===E}))}),[B,E]),H=(0,r.useCallback)((function(e){C((null===e||void 0===e?void 0:e.value)||g.value),F(null)}),[]),U=(0,r.useMemo)((function(){return E===g.value?[]:[E]}),[E]),R=(0,Z.Z)(a,U,{polling:!1,spaceId:o});if(R)throw R;var Y=(0,T.Cd)(a),K=(0,r.useMemo)((function(){return Object.keys(Y).sort((function(e,t){return e.localeCompare(t,void 0,{sensitivity:"accent"})})).map(V)}),[Y]);(0,r.useEffect)((function(){K.length&&A&&F((function(e){return e||K[0].value}))}),[_,K,A]);var Q=(0,r.useMemo)((function(){return _&&V(_)}),[_]),X=(0,r.useCallback)((function(e){return F(null===e||void 0===e?void 0:e.value)}),[]),G=Y[_],$=(0,L.e)(),ee=(0,r.useCallback)((function(){var e=$.getNode({id:"newDashboardChart"}).getAttributes(),t=e.aggregationMethod,r=e.selectedDimensions,o=e.groupBy,a=e.groupByLabel,c=e.groupingMethod,l=e.chartType,i=e.selectedLabels,d=e.selectedNodes,s=e.selectedInstances,u=e.nodesScope,m=e.contextScope;b(m,{aggregationMethod:t,selectedDimensions:r,groupBy:o,groupByLabel:a,groupingMethod:c,chartType:l,selectedLabels:i,selectedNodes:d,selectedInstances:s,nodesScope:u},(function(){return setTimeout(n)}))}),[E,G]),te=!_,ne=(0,M.Z)();return(0,r.useEffect)((function(){return ne(!0),function(){return ne(!1)}})),r.createElement(P.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:n,overflow:"visible"},r.createElement(k.x,{onClose:n,title:"Add Chart to Dashboard"},r.createElement(O.Button,{label:"Add chart",icon:"plus",onClick:ee,disabled:te,"data-testid":"addChartModal-addChart-button"})),r.createElement(I.B,null,"Add Charts to ",c),r.createElement(P.TZ,{overflow:"visible"},r.createElement(O.Flex,{gap:6,column:!0},r.createElement(O.Flex,{gap:2,column:!0,"data-testid":"addChartModal-selectNodes"},r.createElement(O.H5,null,"Nodes in ",i),r.createElement(O.Select,{options:B,value:A,onChange:H,isLoading:!f,isClearable:!0,form:"addChartModal-selectNodes"})),Q&&r.createElement(z,{id:t,spaceId:o,roomId:a,value:Q,onChange:X,options:K,testid:"addChartModal-selectChart",selectedNodeIds:U}))))};var K=n(41659),Q=["text","TextComponent"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const G=function(e){var t=e.text,n=e.TextComponent,o=void 0===n?O.Text:n,a=(0,v.Z)(e,Q),c=(0,r.useRef)(),l=(0,r.useState)(!1),i=(0,h.Z)(l,2),d=i[0],s=i[1];(0,r.useEffect)((function(){if(c.current){var e=c.current.offsetWidth<c.current.scrollWidth;s(e)}}),[]);var u=r.createElement(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:c,truncate:!0},a),t);return d?r.createElement(B.Z,{content:t,align:"bottom",stretch:"align",isBasic:!0},u):u};const $=function(e){var t=e.id,n=(0,u.LJ)(t,"name");return r.createElement(G,{TextComponent:O.H0,text:n})};const ee=function(){var e=(0,g.Z)("addChartModal"),t=(0,h.Z)(e,2)[1];return(0,w.Mm)().length>0?r.createElement(O.Button,{neutral:!0,flavour:"hollow",label:"Add chart",icon:"chart_added",onClick:t,"data-testid":"dashboardHeaderActionBar-addChart-button","data-ga":"action-bar::click-add-chart::cust-dashboard"}):null};const te=function(e){var t=e.id,n=(0,N.Kq)(t);return r.createElement(O.Button,{neutral:!0,flavour:"hollow",label:"Add text",icon:"text_add",onClick:n,"data-testid":"dashboardHeaderActionBar-addText-button","data-ga":"action-bar::click-add-text::cust-dashboard"})};var ne=n(88715),re=n(99057),oe=n(89328),ae=n(26503);const ce=function(e){var t=e.id,n=(0,ne.Z)(),o=(0,h.Z)(n,2)[1],a=(0,re.O9)(t,{onFail:o}),c=(0,u.LJ)(t,"processing"),l=(0,u.LJ)(t,"isOwner"),i=(0,u.DS)(t);return r.createElement(oe.Z,{permission:l?ae.mk.dashboardUpdate:ae.mk.dashboardUpdateSelf,flavour:"hollow",label:"Save",icon:"save",onClick:a,disabled:i,isLoading:c,"data-testid":"dashboardHeaderActionBar-save-button","data-ga":"action-bar::click-save::cust-dashboard"})};var le=function(e){var t=e.id;return r.createElement(O.Flex,{gap:2},r.createElement(ee,null),r.createElement(te,{id:t}),r.createElement(ce,{id:t}))};const ie=(0,r.memo)(le);var de=n(80255),se=n(15267),ue=n(6792),me=n(11847),fe=n(35120);const pe=function(e){var t=e.close,n=(0,r.useState)(!0),a=(0,h.Z)(n,2),c=a[0],l=a[1],i=(0,u.r0)(),s=(0,u.HI)({id:i,key:"name"}),f=(0,h.Z)(s,2),p=f[0],b=f[1],g=(0,r.useState)(p),y=(0,h.Z)(g,2),v=y[0],w=y[1],C=(0,re.O9)(i),j=(0,m.UK)(),x=(0,o.s0)(),D=(0,d.A3)(),S=v.length>0,Z=c&&S&&v!==p,T=(0,r.useCallback)((function(){b(v),C().then((function(e){var n=e.data.slug,r="".concat(D,"/dashboards/").concat(n);j({id:i,slug:n,path:r}),x(r,{replace:!0}),t()}))}),[t,v,i,D]);return r.createElement(P.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t,"data-testid":"renameDashboard-modal"},r.createElement(k.x,{onClose:t,title:"Rename Dashboard"},r.createElement(O.Button,{label:"Save Changes",onClick:T,disabled:!Z})),r.createElement(I.B,{"data-testid":"renameDashboard-title"},"Rename dashboard ",p),r.createElement(P.TZ,null,r.createElement(me.z,{value:v,label:"Name",onChange:function(e){w(e.target.value)},isValid:c,setIsValid:l,isDirty:S,instantFeedback:"all",onKeyDown:function(e){return e.keyCode===ue.DV&&Z&&T()},"data-testid":"renameDashboard-input"}),r.createElement(O.Flex,{column:!0,justifyContent:"between",height:"100%",margin:[8,0,16],"data-testid":"renameDashboard-learnMoreSection"},r.createElement(fe.R4,null,r.createElement(fe.by,{name:"help"}),r.createElement(O.Text,null,"Learn more about Dashboards")," ",r.createElement(fe.rU,{href:"https://learn.netdata.cloud/docs/cloud/visualize/dashboards",target:"_blank",rel:"noopener noreferrer"},"In our documentation")),r.createElement(fe.Q0,{src:E.X,alt:"No nodes",title:"No nodes"}))))};const be=function(){var e=(0,o.s0)(),t=(0,l.uk)(),n=(0,d.vf)(),a=(0,u.r0)(),c=(0,u.LJ)(a).name,i=(0,d.Hm)("name"),s=(0,se.Z)(),m=(0,h.Z)(s,4),f=m[0],p=m[2],b=m[3],g=(0,se.Z)(),y=(0,h.Z)(g,4),v=y[0],E=y[2],w=y[3],C=(0,r.useCallback)((function(){e("/spaces/".concat(t,"/rooms/").concat(n,"/dashboards"))}),[t,n]),j=(0,N.CO)(a,{onSuccess:C});return r.createElement(r.Fragment,null,r.createElement(de.Z,{category:"dashboard",context:"title",testId:"dashboardDropdown"},(function(e){var t=e.close;return r.createElement(r.Fragment,null,r.createElement(de.h,{icon:"pencilOutline",onClick:function(){t(),E()},"data-testid":"renameDashboard-option","data-ga":"dropdown-item::click-rename-dashboard::cust-dashboard"},"Rename Dashboard"),r.createElement(de.h,{icon:"trashcan",color:"errorText",onClick:function(){t(),p()},"data-testid":"removeDashboard-option","data-ga":"dropdown-item::click-remove-dashboard::cust-dashboard"},"Delete Dashboard"))})),v&&r.createElement(pe,{close:w}),f&&r.createElement(O.ConfirmationDialog,{confirmLabel:"Yes, delete","data-ga":"delete-dashboard-dialog","data-testid":"deleteDashboardDialog",handleConfirm:j,handleDecline:b,message:r.createElement(r.Fragment,null,"You are about to delete ",r.createElement("strong",null,c)," from ",r.createElement("strong",null,i),".",r.createElement("br",null),"Are you sure you want to continue?"),title:"Delete ".concat(c)}))};var he=function(e){var t=e.id;return r.createElement(O.Flex,{justifyContent:"between",padding:[3,2.5],"data-testid":"dashboardHeader"},r.createElement(O.Flex,{alignItems:"center"},r.createElement(be,null),r.createElement($,{id:t})),r.createElement(ie,{id:t}))};const ge=(0,r.memo)(he);var ye=n(69968),ve=n.n(ye),Oe=(n(28958),n(26585),n(81896)),Ee=["style","className","onMouseDown","onMouseUp","onTouchEnd","children"],we=["id","Component"];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=(0,ye.WidthProvider)(ve()),De=(0,r.forwardRef)((function(e,t){var n=e.style,o=e.className,a=e.onMouseDown,c=e.onMouseUp,l=e.onTouchEnd,i=e.children,d=(0,v.Z)(e,Ee);return r.createElement("div",je({style:n,className:o,ref:t,onMouseDown:a,onMouseUp:c,onTouchEnd:l},d),i.map((function(e){return"function"===typeof e?e({onMouseDown:a,onMouseUp:c,onTouchEnd:l}):e})))})),Pe=function(e){return{i:e.i,x:e.x,y:e.y,w:e.w,h:e.h,minW:e.minW,minH:e.minH}},ke=function(e){var t=e.id,n=e.Component,o=(0,v.Z)(e,we),a=(0,Oe.ZL)(t),c=(0,h.Z)(a,2),l=c[0],i=c[1],d=(0,r.useCallback)((function(e){var t=e.map(Pe);i(t)}),[]),s=(0,r.useMemo)((function(){return l.map((function(e){var o=e.i;return r.createElement(De,{key:o},(function(e){return r.createElement(n,je({key:o,id:t,cardId:o},e))}))}))}),[l]);return r.createElement(O.Flex,{column:!0,gap:2,width:"100%",overflow:"auto"},r.createElement(xe,je(je({},o),{},{layout:l,onLayoutChange:d,measureBeforeMount:!0,useCSSTransforms:!0,preventCollision:!1,isDroppable:!0}),s))};ke.defaultProps={rowHeight:30,cols:12};const Ie=ke;var Se=n(89315),Ze=n(56972),Te=n(60677);const Me=(0,Te.default)(O.Flex).attrs({height:"100%",background:"mainBackground",round:!0,cursor:"move"}).withConfig({displayName:"container__Card",componentId:"sc-esi601-0"})(["box-shadow:0px 0px 1px rgba(0,0,0,0.04),0px 2px 6px rgba(0,0,0,0.04),0px 10px 20px rgba(0,0,0,0.04);"]);var Ne=(0,Te.default)(O.Flex).attrs({column:!0,cursor:"default",height:{max:"100%"},overflow:"hidden",onMouseDown:function(e){return e.stopPropagation()}}).withConfig({displayName:"content__CardContent",componentId:"sc-1x8kdiw-0"})([""]);const _e=function(e){var t=e.chart;return r.createElement(Ne,{flex:!0,"data-testid":"chartContent"},r.createElement(F.Z,{chart:t}))};var Fe=["id","cardId","onMouseDown","onMouseUp","onTouchEnd"],Le=["nodeId"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=(0,r.memo)((function(e){var t=e.id,n=e.cardId,o=e.onMouseDown,a=e.onMouseUp,c=e.onTouchEnd,l=(0,v.Z)(e,Fe),i=(0,L.e)(),d=(0,Ze._q)(t,n)||{},s=d.nodeId,u=(0,v.Z)(d,Le),m=(0,r.useMemo)((function(){var e=i.makeChart({attributes:Ae(Ae({cardId:n,dashboardId:t},u),!!s&&{nodesScope:[s]}),makeTrack:Se.vL});return(0,Se.ZO)(i,t).appendChild(e),e}),[t,n]);return(0,r.useLayoutEffect)((function(){m.updateAttributes({onMouseDownDrag:o,onMouseUpDrag:a,onTouchEndDrag:c})}),[o,a,c]),r.createElement(Me,Ae({"data-testid":"chart","data-testId":"chartCard-".concat((u.contextScope||[]).join(","))},l),r.createElement(_e,{chart:m}))}));const Ue=He;var Re="text",ze="customDashboard",We=function(e){var t=e.id,n=e.cardId,o=e.onClick,a=(0,Ze.I_)(t,n,"editing"),c=(0,Ze.IT)(t,n,"editing");return r.createElement(de.h,{icon:"pencilSolid",onClick:function(){o(),c(!0)},"data-ga":"".concat(Re,"-reset::").concat(ze),"data-testid":"textCard-edit",disabled:a},"Edit")},Je=function(e){var t=e.id,n=e.cardId,o=(0,N.Zj)(t,n);return r.createElement(de.h,{icon:"trashcan",onClick:o,"data-ga":"".concat(Re,"-reset::").concat(ze),"data-testid":"textCard-remove"},"Remove")};const qe=function(e){var t=e.id,n=e.cardId;return r.createElement(de.Z,{category:Re,context:ze,testId:"chartTextDropdown"},(function(e){var o=e.close;return r.createElement(r.Fragment,null,r.createElement(We,{id:t,cardId:n,onClick:o}),r.createElement(Je,{id:t,cardId:n}))}))};const Ve=function(e){var t=e.id,n=e.cardId;return r.createElement(O.Flex,{alignSelf:"start","data-testid":"textCardHeader"},r.createElement(qe,{id:t,cardId:n}))};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ke=(0,n(80986).Z)((function(){return n.e(189).then(n.bind(n,31660))}),"Editor");const Qe=function(e){return r.createElement(r.Suspense,{fallback:""},r.createElement(Ke,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)))};var Xe=(0,Te.default)(O.Flex).attrs({as:"form",column:!0,flex:!0,gap:2,onMouseDown:function(e){return e.stopPropagation()}}).withConfig({displayName:"form__CardContent",componentId:"sc-3tcqxu-0"})(["cursor:auto;"]),Ge={toolbar:!1,placeholder:{text:"Type your text",hideOnClick:!1}};const $e=function(e){var t=e.id,n=e.cardId,o=(0,Ze.I_)(t,n,"text"),a=(0,Ze.IT)(t,n,"editing"),c=(0,Ze.IT)(t,n,"text"),l=(0,r.useState)(o),i=(0,h.Z)(l,2),d=i[0],s=i[1],u=(0,r.useCallback)((function(){return a(!1)}),[]),m=(0,r.useCallback)((function(){c(d),a(!1)}),[d]);return r.createElement(Xe,{"data-testid":"textCardForm"},r.createElement(O.Flex,{round:!0,border:!0,padding:[2],column:!0},r.createElement(Qe,{autoFocus:!0,text:d,options:Ge,onChange:s})),r.createElement(O.Flex,{justifyContent:"end",gap:1},r.createElement(O.Button,{type:"button",flavour:"borderless",label:"Cancel",small:!0,width:"initial",onClick:u,"data-testid":"textCardForm-cancel"}),r.createElement(O.Button,{type:"button",label:"Done",small:!0,width:"initial",onClick:m,"data-testid":"textCardForm-done"})))};var et=function(e){return e.stopPropagation()},tt={toolbar:!1,disableEditing:!0,placeholder:{text:"Type your text",hideOnClick:!1}};const nt=function(e){var t=e.id,n=e.cardId,o=(0,Ze.I_)(t,n,"text");return r.createElement(O.Box,{"data-testid":"textCardContent",onMouseDown:et},r.createElement(Qe,{text:o,options:tt}))};var rt=(0,Te.default)(Me).withConfig({displayName:"text__StyledCard",componentId:"sc-1f67m9f-0"})(["cursor:move;"]);var ot=["id","cardId"];function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ct={chart:Ue,text:(0,r.memo)((function(e){var t=e.id,n=e.cardId,o=(0,Ze.I_)(t,n,"editing");return r.createElement(rt,{column:!0,"data-testid":"textCard"},r.createElement(Ve,{id:t,cardId:n}),o&&r.createElement($e,{id:t,cardId:n}),!o&&r.createElement(nt,{id:t,cardId:n}))}))};const lt=function(e){var t=e.id,n=e.cardId,o=(0,v.Z)(e,ot),a=(0,Ze.I_)(t,n,"type"),c=ct[a]||ct.chart;return r.createElement(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,cardId:n},o))};var it=["id"];function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const st=function(e){var t=e.id,n=(0,v.Z)(e,it);return(0,Se.ZP)(t),r.createElement(Ie,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,Component:lt},n))};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,r.useContext)(o.Us).navigator,a=(0,o.TH)();(0,r.useEffect)((function(){if(t){var r=n.block((function(t){var n=mt(mt({},t),{},{retry:function(){r(),t.retry()}});e(n)}));return r}}),[n,e,t,a])}((0,r.useCallback)((function(t){"REPLACE"!==t.action?window.confirm(e)&&t.retry():t.retry()}),[e]),t)};const pt=function(e){var t=e.id,n=(0,g.Z)("addChartModal"),o=(0,h.Z)(n,4),a=o[0],c=o[3],l=(0,u.LJ)(t),i=l.fullyLoaded,d=l.cardIds;return function(e){var t=(0,u.DS)(e);ft("Are you sure you want to leave this dashboard?\nChanges will be lost.",!t)}(t),r.createElement(K.Z,{padding:[3],margin:[0,0,8,0]},r.createElement(ge,{id:t}),i&&d.length>0&&r.createElement(st,{id:t}),i&&0===d.length&&r.createElement(x,null),a&&r.createElement(Y,{id:t,onClose:c}))};const bt=(0,r.memo)((function(){(0,i.Z)(),function(){var e=(0,o.UO)().dashboardSlug,t=(0,a.Jh)(),n=(0,a.FP)();(0,r.useEffect)((function(){n!==e&&t(e)}),[n,e]),(0,r.useEffect)((function(){return function(){return t(null)}}),[])}(),(0,c.Pf)();var e=(0,l.th)(),t=(0,l.uk)(),n=(0,d.UL)(),p=(0,d.vf)(),h=(0,u.r0)(),g=(0,u.FV)("slug");(0,m.bV)({title:g,id:h,destination:g,type:"dashboards"});var y=(0,s.L)();return(0,f.Z)(y&&h,{spaceId:e,spaceSlug:t,roomId:n,roomSlug:p})?r.createElement(b,null):r.createElement(pt,{id:h})}))}}]);