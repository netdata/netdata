!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="104c82d6-d2ed-4fc9-8019-efe86c92f62f",e._sentryDebugIdIdentifier="sentry-dbid-104c82d6-d2ed-4fc9-8019-efe86c92f62f")}catch(e){}}(),(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[693],{7672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(4942),a=n(45987),o=n(60677),l=n(10928),c=n.n(l),i=n(67294),s=n(54851),u=["items","isBig","showBackButton","testid"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,o.default)(s.Box).withConfig({displayName:"breadcrumbs__StyledItemContainer",componentId:"sc-3u39st-0"})([""]),f=(0,o.css)(["&:hover{color:",";}"],(function(e){var t=e.withHover,n=e.theme;return t&&(0,s.getColor)("success")({theme:n})})),g=(0,o.default)(s.Text).withConfig({displayName:"breadcrumbs__StyledText",componentId:"sc-3u39st-1"})(["",""],f),b=(0,o.default)(s.TextSmall).withConfig({displayName:"breadcrumbs__StyledTextSmall",componentId:"sc-3u39st-2"})(["",""],f);const E=function(e){var t=e.items,n=e.isBig,r=e.showBackButton,o=void 0===r||r,l=e.testid,m=void 0===l?"":l,f=(0,a.Z)(e,u),E=(0,i.useMemo)((function(){return(null===t||void 0===t?void 0:t.length)&&o?c()(t.filter((function(e){return!!e.onClick}))).onClick:null}),[t,o]);if(!(null===t||void 0===t?void 0:t.length))return null;var h=n?g:b;return i.createElement(s.Flex,d({gap:4},f),o&&i.createElement(s.Button,{onClick:E,icon:"chevron_left",label:"Back",neutral:!0,flavour:"hollow",small:!0,padding:[0,2,0,1],textTransform:"uppercase","data-testid":"".concat(m,"-breadcrumbs-backButton")}),i.createElement(s.Flex,{gap:2,alignItems:"center"},t.map((function(e,t){var n=e.isDisabled,r=e.name,a=e.onClick;return i.createElement(p,d(d({key:t,alignItems:"center"},a&&{cursor:"pointer",onClick:a}),{},{"data-testid":"".concat(m,"-breadcrumbs-level-").concat(t)}),i.createElement(h,{color:n&&"textLite","data-testid":"".concat(m,"-breadcrumbs-level-").concat(t),withHover:!!a},0!==t&&" / ",r))}))))}},15317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4942),a=n(45987),o=n(67294),l=n(54851),c=["message","title"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const s=function(e){var t=e.message,n=e.title,s=(0,a.Z)(e,c),u=(null===s||void 0===s?void 0:s["data-testid"])||"functionError";return o.createElement(l.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alignItems:"center",column:!0,"data-testid":u,flex:!0,gap:1,justifyContent:"center"},s),o.createElement(l.H3,{"data-testid":"".concat(u,"-title")},n),o.createElement(l.TextBig,{color:"textDescription","data-testid":"".concat(u,"-message")},t))}},62594:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,p:()=>l});var r=n(93433),a=n(38141),o=n(97510),l=function(e){var t=(0,o.J7)().find((function(e){return"All nodes"==e.name}));return t?e?t[e]:t:null};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.all,n=e.internal,l=(0,o.J7)().map((function(e){var t=e.id;return{label:e.name,value:t}})),c=[];return n&&c.push(a.mN),t&&c.push(a.k_),c.push.apply(c,(0,r.Z)(l)),c}},26380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(4942),a=n(45987),o=n(67294),l=n(79655),c=n(54851),i=n(87053),s=n(28969),u=n(26503),m=n(57241),d=["classification"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const f=function(e){var t=e.classification,n=(0,a.Z)(e,d),f=(0,s.gI)(u.mk.billingReadAll),g=(0,m.Z)(t.toLowerCase()).url;return g?o.createElement(c.Flex,{background:"sideBarMini",border:{side:"all",color:"tabsBorder"},padding:[1,2],round:!0},o.createElement(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({align:"bottom",as:l.rU,boxProps:{as:c.Flex},color:"text",Component:c.TextMicro,content:"Available on ".concat(t," plan"),disabled:!f,hoverColor:"textFocus",showToolTip:!0,strong:!0,to:g},n),t)):null}},42339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(4942),a=n(45987),o=n(67294),l=n(54851),c=n(22464),i=["description","isRequired","title"];const s=function(e){var t=e.description,n=e.isRequired,r=e.title,s=(0,a.Z)(e,i),u=s["data-testid"]?"".concat(s["data-testid"],"-label"):"fieldLabel";return o.createElement(l.Flex,{"data-testid":"".concat(u,"-container"),gap:1},o.createElement(l.TextSmall,{color:"textLite","data-testid":u},r,n&&" *"),t&&o.createElement(c.Z,{align:"top",content:t,"data-testid":"".concat(u,"-info"),plain:!0},o.createElement(l.Icon,{color:"textLite",name:"information",size:"small"})))};var u=["data-testid","description","isRequired","onChange","title"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const d=function(e){var t=e["data-testid"],n=void 0===t?"input":t,c=e.description,i=e.isRequired,d=e.onChange,p=e.title,f=(0,a.Z)(e,u);return o.createElement(l.Flex,{column:!0,"data-testid":n,flex:"grow",gap:1},o.createElement(s,{"data-testid":n,description:c,isRequired:i,title:p}),o.createElement(l.TextInput,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"data-testid":"".concat(n,"-field"),size:"tiny",onChange:function(e){var t=e.target;return d(t.value)}},f)))};var p=["data-testid","description","getDataGa","fields","id","isRequired","onChange","secrets","setSecrets","title"],f=["getValue","id","onChange"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const E=function(e){var t,n=e["data-testid"],r=void 0===n?"select":n,c=e.description,i=e.getDataGa,u=e.fields,m=e.id,d=e.isRequired,g=e.onChange,E=e.secrets,h=e.setSecrets,v=e.title,y=(0,a.Z)(e,p);return o.createElement(l.Flex,{column:!0,"data-testid":r,flex:"grow",gap:1},o.createElement(s,{"data-testid":r,description:c,isRequired:d,title:v}),o.createElement(l.Select,b({"data-testid":"".concat(r,"-field"),menuPortalTarget:document.body,onChange:function(e){return g(e)},styles:{size:"tiny"},menuPlacement:"auto"},y)),Object.values((null===u||void 0===u?void 0:u[null===(t=y.value)||void 0===t?void 0:t.value])||{}).map((function(e){var t=e.getValue,n=e.id,l=e.onChange,c=(0,a.Z)(e,f);return o.createElement(I,b({"data-ga":i("".concat(m,"-").concat(n,"-").concat(c.component)),"data-testid":"".concat(r,"-").concat(n),key:n,id:n,onChange:l({id:m,setSecrets:h,subsetId:n}),value:t({id:m,secrets:E,subsetId:n})},c))})))};var h=n(29439),v=n(57557),y=n.n(v),O=n(73955),w=n.n(O),x=n(12177),P=n(65528);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=["component"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D={default:function(){return null},pairs:function(e){var t=e.componentPairs,n=e["data-testid"],a=void 0===n?"pairs":n,c=e.description,i=e.getDataGa,u=e.id,m=e.isRequired,d=e.placeholder,p=e.setSecrets,f=e.title,g=(0,o.useState)({}),b=(0,h.Z)(g,2),E=b[0],v=b[1];(0,o.useEffect)((function(){var e=Object.values(E).reduce((function(e,t){var n=t.key,a=t.value;return n?C(C({},e),{},(0,r.Z)({},n,a||"")):e}),{});p((function(t){return Object.keys(e).length?C(C({},t),{},(0,r.Z)({},u,e)):y()(t,u)}))}),[E]);return o.createElement(l.Flex,{column:!0,"data-testid":a,gap:1},o.createElement(l.Flex,{alignItems:"center",justifyContent:"between"},o.createElement(s,{"data-testid":a,description:c,isRequired:m,title:f}),t.map((function(e){var n=(0,x.XM)(e);return o.createElement(P.nO,{"data-ga":i("".concat(u,"-").concat(n,"-add")),"data-testid":"".concat(a,"-").concat(n,"Add"),key:n,label:1===t.length?"Add":"Add ".concat(n),onClick:function(){return function(e){return v((function(t){return C(C({},t),{},(0,r.Z)({},w()("pair_"),{key:"",components:e,value:""}))}))}(e)}})}))),Object.entries(E).map((function(e){var t=(0,h.Z)(e,2),n=t[0],c=t[1],s=c.key,m=c.components,p=c.value,f=(0,h.Z)(m,2),g=f[0],b=f[1],E=(0,x.XM)(m);return o.createElement(l.Flex,{alignItems:"end",key:"".concat(E,"-").concat(n),gap:2},o.createElement(I,{component:g,"data-ga":i("".concat(u,"-").concat(E,"-key")),"data-testid":"".concat(a,"-").concat(E,"Key"),onChange:function(e){return v((function(t){return C(C({},t),{},(0,r.Z)({},n,C(C({},t[n]),{},{key:e})))}))},value:s,placeholder:d,title:"Key"}),o.createElement(I,{component:b,"data-ga":i("".concat(u,"-").concat(E,"-value")),"data-testid":"".concat(a,"-").concat(E,"Value"),onChange:function(e){return v((function(t){return C(C({},t),{},(0,r.Z)({},n,C(C({},t[n]),{},{value:e})))}))},value:p,placeholder:d,title:"Value"}),o.createElement(l.Button,{flavour:"borderless",icon:"trashcan",margin:[0,0,1,0],neutral:!0,onClick:function(){v((function(e){return y()(e,n)}))}}))})))},input:d,select:E};const I=function(e){var t=e.component,n=(0,a.Z)(e,S),l=D[t]||D.default;return o.createElement(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}},65528:(e,t,n)=>{"use strict";n.d(t,{A3:()=>p,Ce:()=>i,QD:()=>f,aN:()=>g,bb:()=>m,fb:()=>b,hz:()=>d,nO:()=>u,zT:()=>s});var r=n(4942),a=n(60677),o=n(54851);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=(0,a.default)(o.Flex).attrs({alignItems:"center",color:"text",gap:1,hoverColor:"text"}).withConfig({displayName:"styled__AnchorComponent",componentId:"sc-wc4x41-0"})(["&,&:hover{text-decoration:none;}"]),s=(0,a.default)(o.Icon).attrs({height:"130px",width:"130px"}).withConfig({displayName:"styled__BlurredIcon",componentId:"sc-wc4x41-1"})(["filter:blur(70px);position:absolute;left:0;top:0;opacity:0.5;"]),u=(0,a.default)(o.Button).attrs({height:"22px",icon:"plus",padding:[.5,2,.5,1],small:!0,width:"auto"}).withConfig({displayName:"styled__IntegrationAction",componentId:"sc-wc4x41-2"})(["&& > span{font-weight:bold;margin-left:4px;}"]),m=((0,a.default)(o.Flex).withConfig({displayName:"styled__FormRow",componentId:"sc-wc4x41-3"})(["flex-flow:row nowrap;align-items:center;justify-content:space-between;"]),(0,a.default)(o.TextSmall).withConfig({displayName:"styled__LearnMoreTest",componentId:"sc-wc4x41-4"})(["position:relative;"])),d=(0,a.default)(o.ModalContent).attrs({background:"dropdown",height:{base:150,max:150,min:45},overflow:{vertical:"auto"},width:{base:121,max:140,min:70}}).withConfig({displayName:"styled__ModalContent",componentId:"sc-wc4x41-5"})(["box-shadow:0 18px 28px rgb(9 30 66 / 15%),0 0 1px rgb(9 30 66 / 31%);"]),p=(0,a.default)(o.ModalCloseButton).attrs({color:"text",height:"16px",width:"16px"}).withConfig({displayName:"styled__ModalClose",componentId:"sc-wc4x41-6"})(["&:hover{fill:",";}"],(0,o.getColor)("selected")),f=(0,a.default)(o.Flex).attrs((function(e){return c(c({},e.hasBorder?{border:{side:"bottom",color:"disabled"}}:{}),{},{column:!0,padding:[3,4]})})).withConfig({displayName:"styled__ModalSection",componentId:"sc-wc4x41-7"})([""]),g=(0,a.default)(o.Icon).attrs({name:"warning_triangle",height:"18px",width:"18px",color:["yellow","amber"]}).withConfig({displayName:"styled__WarningIcon",componentId:"sc-wc4x41-8"})(["position:absolute;top:0;right:0;z-index:1;"]),b=(0,a.default)(o.Icon).attrs({height:"12px",width:"12px",color:"white"}).withConfig({displayName:"styled__SystemIcon",componentId:"sc-wc4x41-9"})(["position:relative;top:2px;"])},26693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>rl});var r=n(67294),a=n(89250),o=n(29439),l=n(45987),c=n(4942),i=n(12599),s=n(60677),u=n(54851),m=n(53100),d=n(40924),p=n(53843),f=n(21197),g=n(28969),b=n(26503),E=n(97510),h=n(38700),v=n(15267),y=n(56547);const O=[{id:"name",accessor:"name",header:"War Rooms",cell:function(e){var t=e.getValue,n=e.row.original.isMember,a=t(),o=(0,g.gI)(b.mk.roomReadAll);return r.createElement(u.Flex,{alignItems:"center"},o&&n&&r.createElement(y.Z,{margin:[0,1,0,0]}),r.createElement(u.Text,{margin:o&&!n&&[0,0,0,4]},a))}},{id:"nodeCount",accessor:"nodeCount",header:"Nodes",cell:function(e){var t=e.getValue;return"".concat(t()||0)}},{id:"memberCount",accessor:"memberCount",header:function(){return"Users"},cell:function(e){var t=e.getValue;return"".concat(t()||0)}}];var w=n(15861),x=n(64687),P=n.n(x),j=n(4480),C=n(93073),S=n(31981),k=n(72840),D=n(549),I=n(98487),T=function(){var e=(0,w.Z)(P().mark((function e(t,n){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map((function(e){return(0,S.GX)(t,e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var Z=n(78145);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const N=function(e){var t=e.spaceId,n=e.spaceName,a=e.startIsCreating,l=function(e){return(0,j._8)((function(t){var n=t.snapshot,r=t.set,a=t.reset;return function(){var t=(0,w.Z)(P().mark((function t(l){var c,i,s,u,m,d,p,f,g,b=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(c=b.length>1&&void 0!==b[1]?b[1]:{}).onSuccess,s=c.onFail,t.next=3,n.getPromise((0,E.Ad)({id:e,key:"ids"}));case 3:return u=t.sent,m=l.map((function(e){return e.id})),d=u.filter((function(e){return!m.includes(e)})),r((0,E.Ad)({id:e,key:"ids"}),d),t.next=9,Promise.all(d.map((function(e){return n.getPromise((0,k.n2)({id:e}))})));case 9:return p=t.sent,t.prev=10,t.next=13,T(e,m);case 13:r(D.IV,(0,I.rZ)(p)),l.forEach((function(t){var n=t.id,r=t.slug;a((0,k.n2)({id:n})),a((0,D.xh)([e,r]))})),i&&i(),l.length>1?(0,C.$T)("War Rooms were successfully deleted from Space!"):(f=(0,o.Z)(l,1),g=f[0],(0,C.$T)("War Room ".concat(g.name," was successfully deleted!"))),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(10),r((0,E.Ad)({id:e,key:"ids"}),u),s&&s(t.t0);case 23:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e){return t.apply(this,arguments)}}()}),[e])}(t),c=(0,g.gI)(b.mk.spaceDelete),i=(0,g.gI)(b.mk.roomCreate),s=function(e){if(e){var t=Array.isArray(e)?e.map((function(e){return{id:e.id,name:e.name}})):[{id:e.id,name:e.name}];l(t)}},u=function(e,t){var n=t.length;return n?1===n?(0,Z.CE)(t[0].name):(0,Z.CE)(n):""},m=function(e,t){var a=t.length;if(!a)return"";var o=A(A({},1===a?{name:t[0].name}:{roomsLength:a}),{},{spaceName:n});return r.createElement(Z.M5,A({},o))},d=(0,r.useMemo)((function(){return{delete:{confirmLabel:"Yes, delete",confirmationMessage:function(e){return r.createElement(Z.M5,{name:e.name,spaceName:n})},confirmationTitle:function(e){return(0,Z.R4)(e.name)},dataGa:function(e){var t=e.slug;return"manage-rooms::click-delete::".concat(t)},declineLabel:"Cancel",handleAction:s,isDisabled:function(e){return e.untouchable||!c},tooltipText:"Delete war room"}}}),[c]);return{bulkActions:(0,r.useMemo)((function(){return{addEntry:{dataGa:"manage-rooms::click::add-room",handleAction:a,isDisabled:!i,tooltipText:"Create war room"},delete:{confirmationMessage:m,confirmationTitle:u,confirmLabel:"Yes, delete",dataGa:"manage-rooms::delete-bulk",declineLabel:"Cancel",handleAction:s,isDisabled:!c,tooltipText:"Delete war rooms"}}}),[i,c,m,u]),rowActions:d}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const R=function(){var e=(0,E.J7)(),t=(0,g.gI)(b.mk.roomDelete),n=e.map((function(e){return L(L({},e),{},{disabled:e.untouchable||!t})})),l=(0,r.useState)(""),c=(0,o.Z)(l,2),i=c[0],s=c[1],u=(0,h.OS)("name"),m=(0,h.OS)("id"),d=(0,v.Z)(),p=(0,o.Z)(d,4),f=p[0],y=p[2],w=p[3],x=(0,r.useState)([]),P=(0,o.Z)(x,2)[1],j=N({startIsCreating:y,spaceId:m,spaceName:u}),C=j.bulkActions,S=j.rowActions,k=(0,a.TH)().pathname,D=(0,a.s0)(),I=(0,r.useCallback)((function(e){var t=e.data.slug;D("".concat(k,"/").concat(t))}),[k,D]);return{roomList:n,globalFilter:i,spaceName:u,spaceId:m,isCreating:f,rowActions:S,bulkActions:C,columns:O,startIsCreating:y,stopIsCreating:w,setGlobalFilter:s,onRowSelected:P,onClickRow:I,dataGa:"manage-rooms",canDeleteRoom:t}};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const _=function(e){var t=R(),n=t.roomList,a=t.spaceName,o=t.isCreating,l=t.columns,i=t.setGlobalFilter,s=t.stopIsCreating,m=t.onRowSelected,d=t.rowActions,p=t.bulkActions,g=t.onClickRow,b=t.dataGa;t.canDeleteRoom;return r.createElement(r.Fragment,null,r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,height:"100%",overflow:"hidden",gap:3},e),r.createElement(u.H3,null,"War Rooms of ",a),r.createElement(u.NetdataTable,{onGlobalSearchChange:i,onRowSelected:m,onClickRow:g,enableSorting:!0,dataColumns:l,enableSelection:!0,data:n,bulkActions:p,rowActions:d,dataGa:b,testPrefixCallback:function(e){return e.name}})),o&&r.createElement(f.U,{onClose:s}))};var U=n(77291),W=n(25213),V=n(73251),H=n(40318),z=n(17563),G=n(25464),Y=n(32802);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const $=function(){var e=(0,G.zN)();return{nodes:(0,Y.Ne)(e).map((function(e){return K(K({},e),{},{disabled:e.hasAccessibleData})}))||[],nodeIds:e}};var X=n(43427),Q=["roomUntouchable"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const ee=(0,r.memo)((function(e){var t=e.roomUntouchable,n=(0,l.Z)(e,Q),a=$({roomUntouchable:t}),o=a.nodes,i=a.nodeIds;return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,height:"100%",overflow:"hidden",gap:3},n),r.createElement(u.H3,null,"Nodes in this War Room (",i.length,") "),r.createElement(X.Z,{showClaimNodeOnEmptySpace:!0,enableSelection:!0,customNodes:o,roomUntouchable:t}))}));var te=n(16702),ne=n(48155),re=n(6557),ae=n.n(re),oe=n(91966),le=n.n(oe),ce=n(87357),ie=n(29256),se=n(64472);const ue=[{id:"user",accessorKey:"user",header:"Name",cell:function(e){var t=e.cell.row.original,n=t.avatarURL,a=t.name;return r.createElement(u.Flex,{alignItems:"center",gap:2},r.createElement(se.Z,{src:n||"",width:24,height:24,title:a,borderWidth:0}),r.createElement(u.TextSmall,null,a))}},{id:"email",accessorKey:"email",header:"Email",cell:function(e){var t=e.getValue;return r.createElement(u.TextSmall,null,t())}}];var me=[{id:"user",desc:!1}];const de=function(e){var t=e.setSelected,n=(0,ce.H4)(),a=(0,ne.e1)(),o=(0,r.useMemo)((function(){return le()(n,a)}),[n,a]),l=(0,r.useCallback)((function(e){t(e.map((function(e){return e.id})))}),[]),c=(0,ie.Vr)(o);return r.createElement(u.Flex,{alignItems:"start",padding:[1],overflow:{horizontal:"hidden",vertical:"auto"}},r.createElement(u.NetdataTable,{dataColumns:ue,data:c,autoResetSelectedRows:!0,sortableBy:me,onGlobalSearchChange:ae(),onRowSelected:l,enableSelection:!0,enableSorting:!0}))};const pe=function(e){var t=e.onAdd,n=e.onClose,a=e.selected,o=e.error,l=e.name;return r.createElement(u.Flex,{alignItems:"center",justifyContent:"between"},o?r.createElement(u.Text,{color:"error"},"Select at least 1 user to add to ",l):r.createElement("div",null),r.createElement(u.Flex,{gap:2},r.createElement(u.Button,{neutral:!0,flavour:"hollow",onClick:n,label:"Cancel"}),r.createElement(u.Button,{disabled:!a.length,label:"Add ".concat(a.length," members"),onClick:t})))};var fe=n(4661),ge=n(36569),be=n(70516),Ee=n(39246),he=n(12070),ve=n(20383),ye=n(88715),Oe=n(19389),we=n(87053),xe=n(16503);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var je=function(e){var t=e.email;return(0,be.vV)(t)},Ce={header:"Invitations",text:"Invitations successfully sent!"};const Se=function(e){var t=(0,h.OS)(),n=t.id,a=t.slug,l=(0,k.UL)(),i=(0,k.tE)(l,"name"),s=(0,r.useState)([]),m=(0,o.Z)(s,2),d=m[0],p=m[1],f=(0,Ee.E)(n),b=(0,o.Z)(f,4),E=b[2],v=b[3],y=(0,ye.Z)(),O=(0,o.Z)(y,2)[1],w=(0,r.useState)(),x=(0,o.Z)(w,2),P=x[0],j=x[1],C=(0,r.useState)(),S=(0,o.Z)(C,2),D=S[0],I=S[1],T=function(e){var t=e||Ce,n=t.header,r=t.text,a=(0,he.sc)({header:n,text:r,success:!0});ve.Z.success(a,{context:"manageInvitations"}),p([]),j(Math.random())},Z=(0,r.useCallback)((function(){var e=d.filter(je).map((function(e){return{email:e.email,name:e.name,role:D,roomIDs:[l]}})),t="".concat(window.location.origin,"/spaces/").concat(a,"/join-space");E(e,t,{onSuccess:T,onError:O})}),[d,l,D]),F=(0,g.QB)();return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0},e),r.createElement(u.H4,null,"Send invitations to ",i," room"),r.createElement(fe.ne,null,"TIP: You can send more invitations at once, separate each with a comma."),r.createElement(ge.m,{key:P,invitations:d,setInvitations:p}),r.createElement(u.H5,{margin:[4,0,0]},"Role"),r.createElement(fe.ne,null,"Choose a role for invited user."," ",r.createElement(we.Z,{href:xe.R,target:"_blank",rel:"noopener noreferrer",Component:u.TextSmall},"Learn more")),r.createElement(Oe.Z,{availableRoles:F,dataGA:"invite-to-room",dataTestId:"invite-selectRole",onChange:function(e){I(e.target.value)},value:D}),r.createElement(u.Box,{alignSelf:"end",margin:[4,0,0]},r.createElement(u.Button,{label:"Send",onClick:Z,disabled:0===d.length||!D,flavour:"hollow",isLoading:v})))};const ke=function(e){var t=e.onClose,n=e.room,a=(0,r.useState)([]),l=(0,o.Z)(a,2),c=l[0],i=l[1],s=(0,r.useState)(!1),m=(0,o.Z)(s,2),f=m[0],g=m[1],b=(0,ne.r3)(n.spaceId,n.id),E=(0,r.useCallback)((function(){if(!c.length)return g(!0);g(!1),b(c),t()}),[c,b]);return r.createElement(d.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t},r.createElement(p.x,{onClose:t,isSubmodal:!0,title:r.createElement(r.Fragment,null,"Manage War Room",r.createElement(u.TextBig,{color:"textLite"},"\xa0/ Add Users"))}),r.createElement(te.B,null,"Add users to room\xa0",n.name),r.createElement(d.TZ,null,r.createElement(Se,{margin:[0,0,4]}),r.createElement(u.Flex,{column:!0,flex:!0,overflow:"hidden",padding:[0,0,2,0]},r.createElement(de,{setSelected:i})),r.createElement(pe,{onClose:t,onAdd:E,selected:c,error:f,name:n.name})))};var De=n(33666),Ie=n(2086),Te=function(e){return"Remove ".concat(e)},Ze=function(e){var t,n=e.name,r=e.usersLength;return r?1===r&&n?Te(n):"Remove ".concat(t=r," ").concat(1===t?"user":"users"):""},Fe=function(e){var t=e.name,n=e.roomName;return r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,t)," from War Room ",r.createElement("strong",null,n),".",r.createElement("br",null),"Are you sure you want to continue?")},Ae=function(e){var t=e.roomName,n=e.usersLength,a="".concat(n,1===n?" user":" users");return r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,a)," from War Room ",r.createElement("strong",null,t),".",r.createElement("br",null),"Are you sure you want to continue?")},Ne=function(e){var t=e.name,n=e.roomName,a=e.usersLength;return a?1===a&&t?r.createElement(Fe,{name:t,roomName:n}):r.createElement(Ae,{roomName:n,usersLength:a}):""};const Me=function(e){var t=e.spaceId,n=e.roomId,a=e.startIsInviting,o=(0,ne.GA)(t,n),l=(0,k.Hm)("name"),c=function(e){if(e){var t=Array.isArray(e)?e.map((function(e){return e.user.id})):[null===e||void 0===e?void 0:e.user.id];o(t)}};return{rowActions:(0,r.useMemo)((function(){return{remove:{confirmLabel:"Yes, remove",confirmationMessage:function(e){return r.createElement(Fe,{name:e.name,roomName:l})},confirmationTitle:function(e){return Te(e.name)},declineLabel:"Cancel",disabledTooltipText:"Remove is disabled",handleAction:c,isDisabled:function(e){return e.disabled},tooltipText:"Remove user from room"}}}),[Te,c,Fe,l]),bulkActions:(0,r.useMemo)((function(){return{addEntry:{handleAction:a,tooltipText:"Invite users"},remove:{confirmLabel:"Yes, remove",confirmationMessage:function(e,t){return r.createElement(Ne,{name:t[0].name,roomName:l,usersLength:t.length})},confirmationTitle:function(e,t){return Ze({name:t[0].name,usersLength:t.length})},declineLabel:"Cancel",disabledTooltipText:"Remove is disabled",handleAction:c,tooltipText:"Remove users from room"}}}),[c,Ne,l,a,Ze])}};const Le=function(e){var t=e.untouchable,n=(0,r.useMemo)((function(){return[{id:"email",accessor:"email",header:"Email",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"name",accessor:"name",header:"Name",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"user",accessor:"user",header:"Users",cell:function(e){var t=(0,e.getValue)(),n=t.name,a=t.avatarURL,o=t.email;return r.createElement(u.Flex,{alignItems:"center",gap:2},r.createElement(se.Z,{src:a||"",width:24,height:24,title:"".concat(n," - ").concat(o||"email not set"),borderWidth:0}),r.createElement(u.TextSmall,null,n))}}]}),[]),a=(0,ne.lA)(),l=(0,Ie.Iy)("id"),c=(0,g.gI)(b.mk.spaceRemoveUser),i=(0,r.useState)([]),s=(0,o.Z)(i,2),m=s[0],d=s[1],p=(0,r.useState)(""),f=(0,o.Z)(p,2),E=f[0],y=f[1],O=(0,v.Z)(),w=(0,o.Z)(O,4),x=w[0],P=w[2],j=w[3],C=(0,h.OS)("id"),S=(0,k.UL)(),D=Me({selectedRows:m,spaceId:C,roomId:S,startIsInviting:P}),I=D.rowActions,T=D.bulkActions;return{columns:n,data:(0,r.useMemo)((function(){return(0,De.k)({data:a,currentUserId:l,canRemoveUser:c,untouchable:t})}),[a]),columnVisibility:{email:!1,name:!1},members:a,rowActions:I,bulkActions:T,isInviting:x,globalFilter:E,stopIsInviting:j,onRowSelected:d,setGlobalFilter:y,canRemoveUser:c}};var Re=["room"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const _e=function(e){var t=e.room,n=(0,l.Z)(e,Re),a=t.untouchable,o=Le({untouchable:a}),i=o.columns,s=o.data,m=o.columnVisibility,d=o.members,p=o.rowActions,f=o.bulkActions,g=o.isInviting,b=o.stopIsInviting,E=o.onRowSelected,h=o.setGlobalFilter;o.canRemoveUser;return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,height:"100%",overflow:"hidden",gap:3},n),r.createElement(u.H3,null,"Users in this War Room (",d.length,")"),r.createElement(u.NetdataTable,{enableSelection:!0,enableSorting:!0,columnVisibility:m,data:s,dataColumns:i,rowActions:p,bulkActions:f,onRowSelected:E,onGlobalSearchChange:h,testPrefixCallback:function(e){return e.name}}),g&&r.createElement(ke,{onClose:b,room:t}))};var Ue={room:0,nodes:1,users:2},We=(0,s.default)(u.Box).attrs({height:"100%",padding:[4,0]}).withConfig({displayName:"manageRoomModal__TabContent",componentId:"sc-lrxs0y-0"})([""]),Ve=function(){var e=(0,a.s0)(),t=(0,h.th)(),n=(0,a.UO)(),l=n.roomSlug,c=n.spaceSlug,s=n.settingsTab,m=(0,k.HM)(t,l);(0,W.Z)({spaceId:t,id:m,polling:!1}),(0,V.Z)(t,m);var d=(0,g.gI)(b.mk.roomReadUsers),p=(0,k.tE)(m),f=(0,r.useState)(p.name),E=(0,o.Z)(f,2),v=E[0],y=E[1],O=(0,a.TH)().search,w=z.parse(O).tab,x=Ue[void 0===w?"room":w],P=(0,r.useState)(x),j=(0,o.Z)(P,2),C=j[0],S=j[1],D=(0,u.useInputValue)({maxChars:255,value:p.description}),I=(0,o.Z)(D,3),T=I[0],Z=I[1],F=I[2],A=(0,r.useCallback)((function(){e((0,i.Gn)(H.Sr,{spaceSlug:c,settingsTab:s}))}),[c,s]),N=(0,k.s)(p.id,{shouldPersist:!0,onSuccess:A}),M=(0,r.useCallback)((function(){return N({name:v,description:T})}),[v,T,N]);return r.createElement(u.Flex,{column:!0,justifyContent:"between",overflow:"hidden","data-testid":"manageRoom"},r.createElement(u.Flex,{column:!0,gap:4,height:"100%"},r.createElement(u.Tabs,{"data-testid":"manageRoom-tabs",selected:C,onChange:S,TabContent:We,flex:!0,height:"100%"},r.createElement(u.Tab,{"data-testid":"manageRoom-roomTab",label:r.createElement(u.H5,null,"War Room"),height:"100%"},r.createElement(U.Q,{roomName:v,setRoomName:y,roomDescription:T,setRoomDescription:Z,charsDescIndicator:F,"data-testid":"manageRoom-roomTabContent",id:p.id,navigateToParent:A,onSaveClick:M})),r.createElement(u.Tab,{"data-testid":"manageRoom-nodesTab",label:r.createElement(u.H5,null,"Nodes")},r.createElement(ee,{roomUntouchable:p.untouchable,"data-testid":"manageRoom-nodesTabContent"})),d&&r.createElement(u.Tab,{"data-testid":"manageRoom-usersTab",label:r.createElement(u.H5,null,"Users")},r.createElement(_e,{"data-testid":"manageRoom-usersTabContent",room:p})))),C===Ue.room&&r.createElement(u.Flex,{justifyContent:"end"}))},He=n(81616),ze=function(e){var t=e.children;return(0,He.QF)(),t},Ge=function(e){var t=e.children;return(0,k.Hm)().loaded?t:null};const Ye=function(){return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(_,null)}),r.createElement(a.AW,{path:":roomSlug",element:r.createElement(ze,null,r.createElement(Ge,null,r.createElement(Ve,null)))}))};var qe=n(64514),Ke=n(51801),$e=n(22464);const Xe=[{id:"email",accessor:"email",header:"Email",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"name",accessor:"name",header:"Name",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"user",accessor:"user",width:300,header:"Users",cell:function(e){var t=(0,e.getValue)(),n=t.name,a=t.avatarURL,o=t.email;return r.createElement(u.Flex,{alignItems:"center",gap:2},r.createElement(se.Z,{src:a||"",width:24,height:24,title:"".concat(n," - ").concat(o||"email not set"),borderWidth:0}),r.createElement(u.TextSmall,null,n))}},{id:"type",accessor:"type",width:100,header:"Role",cell:function(e){var t=e.getValue,n=e.row.original.user.deactivated;return r.createElement(u.Flex,{alignItems:"center",gap:1},r.createElement(u.TextSmall,{strong:!0},(0,Ke.fm)(t())),n&&r.createElement($e.Z,{content:"This user's role doesn't have permission to access any information on the Space. Please review user's role or space's plan."},r.createElement(u.Icon,{name:"warning_triangle",height:"18px",width:"18px",color:["yellow","amber"]})))}}];var Qe=n(40816);var Je=["role"],et=["id"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(){var e=(0,w.Z)(P().mark((function e(t,n,r){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map(function(){var e=(0,w.Z)(P().mark((function e(n){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qe.lh)(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var at="change-user-role",ot="changeUserRole";const lt=function(e){var t=e.handleAction,n=e.ids,a=e.onClose,l=(0,ce.kf)(n),c=1===l.length?l[0]:null,i=(0,g.QB)(),s=(0,r.useState)(c),m=(0,o.Z)(s,2),d=m[0],p=m[1];return r.createElement(u.ConfirmationDialog,{confirmLabel:"Save","data-ga":at,"data-testid":ot,handleConfirm:function(){t(d),a()},handleDecline:a,isConfirmDisabled:!d,isConfirmPositive:!0,message:r.createElement(u.Flex,{gap:2,column:!0},r.createElement(u.TextSmall,null,"Learn more about Netdata role-based access model on"," ",r.createElement(we.Z,{href:xe.R,target:"_blank",rel:"noopener noreferrer",Component:u.TextSmall},"our documentation")),r.createElement(Oe.Z,{availableRoles:i,dataGA:at,dataTestId:ot,onChange:function(e){p(e.target.value)},value:d})),title:"Change roles"})};var ct=["data"],it=["data"];function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const mt=function(e){var t=e.spaceId,n=e.startIsInviting,a=function(e){return(0,j._8)((function(t){var n=t.snapshot,r=t.set;return function(){var t=(0,w.Z)(P().mark((function t(a,o){var l,c,i,s;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o.onSuccess,c=o.onError,t.next=3,n.getPromise((0,ce.WA)({id:e,key:"ids"}));case 3:return i=t.sent,s=i.filter((function(e){return!e.includes(a)})),r((0,ce.WA)({id:e,key:"ids"}),s),t.prev=6,t.next=9,(0,Qe.Sz)(e,a);case 9:l&&l(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(6),r((0,ce.WA)({id:e,key:"ids"}),i),c&&c();case 16:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e,n){return t.apply(this,arguments)}}()}),[e])}(t),o=function(e){return(0,j._8)((function(t){var n=t.snapshot,r=t.set;return function(){var t=(0,w.Z)(P().mark((function t(a,o){var c,i,s,u,m,d,p,f=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(c=f.length>2&&void 0!==f[2]?f[2]:{}).onSuccess,s=c.onError,t.next=3,n.getPromise((0,ie.W3)(a));case 3:return u=t.sent,t.next=6,Promise.all(a.map(function(){var t=(0,w.Z)(P().mark((function t(r){var a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getPromise((0,ce.ZN)({id:r,spaceId:e}));case 2:return a=t.sent,t.abrupt("return",{mId:r,role:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return m=t.sent,d=o.role,p=(0,l.Z)(o,Je),a.forEach((function(e){r((0,ie.mX)({id:e}),(function(e){return nt(nt({},e),p)}))})),d&&a.forEach((function(t){r((0,ce.ZN)({id:t,spaceId:e}),d)})),t.prev=10,t.next=13,rt(e,a,o);case 13:i&&i(),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(10),u.forEach((function(e){var t=e.id,n=(0,l.Z)(e,et);return r((0,ie.mX)({id:t}),nt({id:t},n))})),d&&m.forEach((function(t){var n=t.mId,a=t.role;return r((0,ce.ZN)({id:n,spaceId:e}),a)})),s&&s();case 21:case"end":return t.stop()}}),t,null,[[10,16]])})));return function(e,n){return t.apply(this,arguments)}}()}),[e])}(t),c=(0,g.gI)(b.mk.spaceInviteUser),i=(0,r.useCallback)((function(e){var t=e.role,n=e.members;o(n,{role:t})}),[]),s=function(e){return function(t){if(e){var n=Array.isArray(e)?e.map((function(e){return e.user.id})):[null===e||void 0===e?void 0:e.user.id];i({role:t,members:n})}}},u=function(e){if(e){var t=Array.isArray(e)?e.map((function(e){return e.user.id})):[null===e||void 0===e?void 0:e.user.id];a(t,{})}},m=(0,r.useCallback)((function(){return"Delete User"}),[]),d=(0,r.useCallback)((function(e){return r.createElement(r.Fragment,null,"You are about to delete ",r.createElement("strong",null,e.name),".",r.createElement("br",null),"Are you sure you want to continue?")}),[]),p=(0,r.useCallback)((function(e,t){var n=t.length;return n?1===n?"Delete User":"Delete Users":""}),[]),f=(0,r.useCallback)((function(e,t){var n=t.length;return n?r.createElement(r.Fragment,null,"You are about to delete"," ",r.createElement("strong",null,1===n?t[0].name:"".concat(t.length," users")),".",r.createElement("br",null),"Are you sure you want to continue?"):""}),[]);return{rowActions:(0,r.useMemo)((function(){return{userSettings:{CustomUIAction:function(e){var t=e.data,n=(0,l.Z)(e,ct);return r.createElement(lt,ut({ids:[t.user.id]},n))},handleAction:s,tooltipText:"Change Role",isDisabled:function(e){return e.disabled},disabledTooltipText:"Changing roles is disabled"},delete:{handleAction:u,confirmationTitle:m,confirmationMessage:d,isDisabled:function(e){return e.disabled},disabledTooltipText:"Delete is disabled"}}}),[]),bulkActions:(0,r.useMemo)((function(){return{addEntry:{handleAction:n,tooltipText:"Invite user",isDisabled:function(){return!c},disabledTooltipText:"Invitations are disabled"},userSettings:{CustomUIAction:function(e){var t=e.data,n=(0,l.Z)(e,it);return r.createElement(lt,ut({ids:t.map((function(e){return e.user.id}))},n))},handleAction:s,tooltipText:"Change Roles",disabledTooltipText:"Changing roles is disabled"},delete:{handleAction:u,confirmationTitle:p,confirmationMessage:f,disabledTooltipText:"Delete is disabled"}}}),[c,p,f])}};const dt=function(){var e=(0,h.th)(),t=(0,h.vu)(e,"name"),n=(0,ce.Qk)(),a=(0,Ie.Iy)("id"),l=(0,v.Z)(),c=(0,o.Z)(l,4),i=c[0],s=c[2],u=c[3],m=(0,r.useState)(""),d=(0,o.Z)(m,2),p=d[0],f=d[1],E=(0,r.useState)([]),y=(0,o.Z)(E,2),O=y[0],w=y[1],x=mt({selectedRows:O,spaceId:e,startIsInviting:s}),P=x.rowActions,j=x.bulkActions,C=(0,g.gI)(b.mk.spaceRemoveUser),S=(0,g.gI)(b.mk.userChangeRoles),k=(0,g.M2)(),D=C||S,I=(0,r.useMemo)((function(){return function(e){var t=e.fromRolePermissions,n=e.userList,r=e.canModifyUser,a=e.currentUserId;return n.reduce((function(e,n){var o=a===(null===n||void 0===n?void 0:n.id),l=t.includes(n.role);return e.push({name:n.name,email:n.email,user:{avatarURL:n.avatarURL,deactivated:n.deactivated,name:n.name,email:n.email,id:n.id},type:n.role,disabled:!l||!r||o}),e}),[])}({userList:n,currentUserId:a,canModifyUser:D,fromRolePermissions:k})}),[n]);return{columns:Xe,spaceName:t,members:n,currentUserId:a,data:I,isInviting:i,globalFilter:p,rowActions:P,bulkActions:j,columnVisibility:{email:!1,name:!1},onRowSelected:w,setGlobalFilter:f,startIsInviting:s,stopIsInviting:u,canModifyUser:D}};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const ft=function(e){var t=dt(),n=t.columns,a=t.spaceName,o=t.data,l=t.isInviting,i=t.rowActions,s=t.bulkActions,m=t.columnVisibility,d=t.stopIsInviting,p=t.setGlobalFilter,f=t.onRowSelected;return r.createElement(r.Fragment,null,r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,height:"100%",overflow:"hidden"},e),r.createElement(u.H3,null,"Members of ",a),r.createElement(u.TextSmall,{margin:[1,0,3]},"Learn more about Netdata role-based access model on"," ",r.createElement(we.Z,{href:xe.R,target:"_blank",rel:"noopener noreferrer",Component:u.TextSmall},"our documentation")),r.createElement(u.NetdataTable,{onGlobalSearchChange:p,data:o,dataColumns:n,enableSorting:!0,enableSelection:!0,onRowSelected:f,bulkActions:s,rowActions:i,columnVisibility:m,testPrefixCallback:function(e){return e.name}})),l&&r.createElement(qe.l,{onClose:d,isSubmodal:!0}))};var gt=n(87381);const bt=function(){var e=(0,k.Jb)().id,t=void 0===e?"":e,n=(0,G.X7)(t,"ids"),r=(0,G.X7)(t,"loaded"),a=(0,Y.Ne)(n),l=(0,h.th)(),c=(0,v.Z)(),i=(0,o.Z)(c,4),s=i[0],u=i[3];return(0,W.Z)({id:t,spaceId:l,polling:!0}),{areDefaultRoomNodesLoaded:r,nodes:a,isClaimNodeModalOpen:s,closeClaimNodeModal:u}};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ht=(0,r.memo)((function(e){var t=(0,h.th)(),n=(0,h.OS)("name"),a=bt().nodes;(0,gt.Z)(t);var o="Connect Nodes to ".concat(n);return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,"data-testid":"manageClaimedNodes",height:"100%",overflow:"hidden",gap:3},e),r.createElement(u.H3,{"data-testid":"manageClaimedNodes-header"},o),r.createElement(X.Z,{showClaimNodeOnEmptySpace:!0,showClaimModalWithRoomSelection:!0,enableSelection:!0,customNodes:a,isSpace:!0}))}));const vt=ht;var yt=n(80986),Ot=n(85329),wt=n(20687),xt=n(38141);const Pt=function(e){var t=e.name,n=e.spaceName;return r.createElement(r.Fragment,null,"You are about to delete ",r.createElement("strong",null,t)," channel from ",r.createElement("strong",null,n)," space.",r.createElement("br",null),"This cannot be undone. Are you sure you want to continue?")};var jt=n(12177),Ct=n(65528),St=["integration","testId"],kt=["testId","tooltipContent"],Dt=["data-testid","enabled","id","integration","isAvailable","name","spaceId","tooltipContent"];function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt=function(e){var t=e.integration,n=e.testId,a=(0,l.Z)(e,St),o=a.checked?"disable":"enable";return r.createElement(u.Toggle,Tt({colored:!0,"data-testid":"".concat(n,"-toggle"),"data-ga":"manage-channels::toggle-".concat(t,"-").concat(o,"::notifications-tab")},a))},Ft=function(e){var t=e.testId,n=e.tooltipContent,a=void 0===n?"plan":n,o=(0,l.Z)(e,kt);return o.disabled?r.createElement($e.Z,{align:"top",content:xt.rc[a],"data-testid":"".concat(t,"-warning"),plain:!0},r.createElement(u.Flex,{padding:[2,2,0,0],position:"relative"},r.createElement(Ct.aN,{"data-testid":"".concat(t,"-warningIcon")}),r.createElement(Zt,Tt({testId:t},o)))):r.createElement(Zt,Tt({testId:t},o))};const At=function(e){var t=e["data-testid"],n=void 0===t?"cellName":t,a=e.enabled,o=e.id,c=e.integration,i=e.isAvailable,s=e.name,m=e.spaceId,d=e.tooltipContent,p=(0,l.Z)(e,Dt),f=(0,wt.pV)(m,"channels"),g=(0,wt.rz)(m,"channels");return r.createElement(u.Flex,Tt({alignItems:"center","data-testid":n,gap:4},p),r.createElement(Ft,{checked:a,disabled:!i,integration:c,onChange:function(e){var t=e.target.checked;g(f.map((function(e){return e.id===o?Tt(Tt({},e),{},{enabled:t}):e}))),(0,Ot.eZ)(m,o,t)},testId:n,tooltipContent:d}),r.createElement(u.Text,{"data-testid":"".concat(n,"-label")},s))};var Nt=["data-testid","integration","kind","kindLabel"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Rt=function(e){var t=e["data-testid"],n=void 0===t?"cellService":t,a=e.integration,o=e.kind,c=e.kindLabel,i=(0,l.Z)(e,Nt),s=xt.aU[a]||{};return r.createElement(u.Flex,Lt({alignItems:"center","data-testid":n,gap:2,justifyContent:"between",width:"100%"},i),r.createElement(u.Flex,{alignItems:"center","data-testid":"".concat(n,"-integration"),gap:2},r.createElement(u.Icon,Lt({"data-testid":"".concat(n,"-icon")},s)),r.createElement(u.Text,{"data-testid":"".concat(n,"-label")},a)),r.createElement($e.Z,{content:c,"data-testid":"".concat(n,"-kind"),plain:!0},r.createElement(u.Icon,{color:"textLite",height:"16px",name:xt.XK[o].icon,width:"16px"})))};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ut=function(e){var t=e.canManageChannels,n=e.roomOptions,a=e.spaceId;return[{accessor:"name",cell:function(e){var n=e.getValue,o=e.row;return r.createElement(At,{enabled:o.original.enabled,id:o.original.id,integration:o.original.integration,isAvailable:t&&o.original.available,name:n(),spaceId:a,tooltipContent:t?"plan":"role"})},header:"Name",id:"name"},{accessor:"integration",cell:function(e){var t=e.getValue,n=e.row;return r.createElement(Rt,{integration:t(),kind:n.original.kind,kindLabel:n.original.kindLabel})},enableColumnFilter:!0,filterFn:function(e,t,n){var r=e.original.integration;return n.length<1||n.some((function(e){var t=e.value;return""===t||t===r}))},header:"Service",id:"integration",meta:{filter:{component:"select",isMulti:!0,options:Object.keys(xt.aU).map((function(e){return{label:e,value:e}})),tiny:!0,"data-ga":"manage-integrations::select-service::notification-integrations-tab"},tooltip:r.createElement(u.Flex,{column:!0,width:{max:"200px"},gap:2},r.createElement(u.TextMicro,{color:"white"},"Services are distinguished in two categories."),r.createElement(u.TextMicro,{color:"white"},r.createElement(Ct.fb,{name:xt.XK.PERSONAL.icon})," ",r.createElement(u.TextMicro,{color:"white",strong:!0},"Personal:")," ",xt.XK.PERSONAL.tooltip),r.createElement(u.TextMicro,{color:"white"},r.createElement(Ct.fb,{name:xt.XK.SYSTEM.icon})," ",r.createElement(u.TextMicro,{color:"white",strong:!0},"System:")," ",xt.XK.SYSTEM.tooltip))}},{accessor:"notificationLabel",cell:function(e){var t=e.getValue;return r.createElement(u.Text,{"data-testid":"channelNotificationsCell"},t())},enableColumnFilter:!0,filterFn:function(e,t,n){var r=e.original.notificationLabel;return n.length<1||n.some((function(e){var t=e.label;return""===t||t===r}))},header:"Notifications",id:"notificationLabel",meta:{filter:{component:"select",isMulti:!0,options:Object.values(xt.uK),tiny:!0,"data-ga":"manage-integrations::select-notification::notification-integrations-tab"}}},{accessor:"rooms",cell:function(e){var t,a=e.getValue,o=e.row,l={"data-testid":"channelRoomsCell"};if(o.original.internal)return r.createElement(u.Text,_t({},l),xt.mN.label);if(!o.original.rooms&&!(null===(t=o.original.rooms)||void 0===t?void 0:t.length))return r.createElement(u.Text,_t({},l),xt.k_.label);var c=(0,jt.ae)({roomIds:a(),roomOptions:n});return r.createElement(u.Text,{"data-testid":"channelRoomsCell"},c)},enableColumnFilter:!0,filterFn:function(e,t,n){return n.length<1||n.some((function(t){var n=t.label,r=t.value;if(e.original.internal)return n===xt.mN.label;var a=e.original.rooms||[];return a.length?a.includes(r):n===xt.k_.label}))},header:"Rooms",id:"rooms",meta:{filter:{component:"select",isMulti:!0,options:n,tiny:!0,"data-ga":"manage-integrations::select-room::notification-integrations-tab"}}}]};var Wt=n(57064),Vt=n(14111),Ht=n(62594);function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Yt=function(e,t){var n=(0,wt.Cz)(t),r=(0,Ht.Z)({all:!0});(0,Vt.Z)((function(){return{enabled:!!t,fetch:function(){return(0,Ot.$3)(e,t)},onFail:function(e){return n(Gt(Gt({},Wt.C),{},{error:e.message}))},onSettle:function(){return n({loading:!1,loaded:!0})},onSuccess:function(e){return n(Gt(Gt(Gt({},Wt.C),e.rooms?{roomSelections:r.filter((function(t){var n=t.value;return e.rooms.includes(n)}))}:{}),e))}}}),[e,t])};var qt=n(84445);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Xt=function(){var e=(0,a.s0)(),t=(0,g.gI)(b.mk.channelManage),n=(0,h.th)(),l=(0,h.OS)("name"),c=(0,h.uk)(),s=(0,ye.Z)(),u=(0,o.Z)(s,2),m=u[0],d=u[1],p=(0,r.useState)(""),f=(0,o.Z)(p,2),E=f[0],v=f[1];(0,qt.Z)(n);var y=(0,wt.pV)(n,"channels"),O=(0,wt.pV)(n,"currentChannelId"),x=(0,wt.rz)(n,"channels"),j=(0,wt.rz)(n,"currentChannelId"),C=(0,Ht.Z)({all:!0,internal:!0}),S=(0,wt.su)(O),k=S.alerts,D=S.name,I=S.rooms,T=S.secrets;Yt(n,O);var Z=(0,r.useCallback)((function(e){j(e)}),[]),F=(0,r.useCallback)(function(){var e=(0,w.Z)(P().mark((function e(t){var r;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,e.prev=1,e.next=4,(0,Ot.JV)(n,r);case 4:x(y.filter((function(e){return e.id!==r}))),m({header:"Configuration deleted successfully!"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[y,n]),A=(0,r.useCallback)((function(){e((0,i.Gn)(H.xN,{spaceSlug:c,settingsTab:H.bK,settingsSubTab:H.Q$}))}),[c]),N=(0,r.useMemo)((function(){return{addEntry:$t({dataGa:"manage-channels::click-add-channel::notifications-tab",flavour:"hollow",handleAction:A,iconColor:"success",label:t?"Add Configuration":"View configurations",small:!0,strong:!0,width:"auto"},t?{}:{icon:""})}}),[t,A]),M=(0,r.useMemo)((function(){return{edit:{dataGa:function(e){var t=e.slug;return"manage-rooms::click-edit::".concat(t)},disabledTooltipText:"Edit is disabled",handleAction:function(e){var t=e.id;Z(t)},isDisabled:function(e){var n=e.available,r=e.internal;return!t||!n||r},TooltipComponent:$e.Z,tooltipText:"Edit setting"},delete:{confirmLabel:"Yes, delete",confirmationMessage:function(e){var t=e.name;return r.createElement(Pt,{name:t,spaceName:l})},confirmationTitle:function(e){var t=e.name;return(0,jt.D4)(t)},dataGa:function(e){var t=e.slug;return"manage-rooms::click-delete::".concat(t)},declineLabel:"Cancel",handleAction:F,isDisabled:function(e){var n=e.internal;return!t||n},TooltipComponent:$e.Z,tooltipText:"Delete setting"}}}),[t,F,A]);return{bulkActions:N,channelData:y,currentChannelId:O,columns:Ut({canManageChannels:t,roomOptions:C,spaceId:n}),dataGa:"manage-channels",onFilter:function(e,t,n){var r=e.original,a=n.toLowerCase();if(r.name.toLowerCase().includes(a))return!0;if(r.integration.toLowerCase().includes(a))return!0;if(r.notificationLabel.toLowerCase().includes(a))return!0;if(r.internal)return xt.mN.label.toLowerCase().includes(a);var o=r.rooms||[];return o.length?(0,jt.ae)({roomIds:o,roomOptions:C}).toLowerCase().includes(a):xt.k_.label.toLowerCase().includes(a)},onModalClose:function(){x(y.map((function(e){return e.id===O?$t($t({},e),{},{alerts:k,name:D,rooms:I,secrets:T}):e}))),j("")},rowActions:M,search:E,setSearch:v}};var Qt=n(42339),Jt=["id","integrationId","onClose"],en=["id","getValue","onChange"];function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn="modal";const an=function(e){var t=e.id,n=void 0===t?"new":t,c=e.integrationId,s=e.onClose,m=(0,l.Z)(e,Jt),d=(0,wt.su)(n),p=d.alarms,f=d.description,g=d.docsLink,b=d.fields,v=d.integration,y=d.loaded,O=d.name,x=d.required,j=d.rooms,C=d.roomSelections,S=d.secrets,k=function(e){return"manage-".concat(v,"-channel::").concat(e,"::notification-").concat(c?"integrations":"channels","-tab")},D=(0,a.s0)(),I=(0,ye.Z)(),T=(0,o.Z)(I,2),Z=T[0],F=T[1],A=(0,Ht.Z)({all:!0}),N=(0,E.J7)(),M=(0,h.th)(),L=(0,h.uk)(),R=(0,wt.Cz)(n,"alarms"),B=(0,wt.Cz)(n,"name"),_=(0,wt.Cz)(n,"roomSelections"),U=(0,wt.Cz)(n,"secrets"),W=(0,wt.Cz)(n,"rooms"),V=(0,r.useState)({}),z=(0,o.Z)(V,2),G=z[0],Y=z[1];if(!y)return null;var q=Object.keys(G),K=x.every((function(e){return(0,jt.xW)(e,S[e],b[e])})),$=!q.length||q.every((function(e){var t=S[e].selection;return G[e].every((function(n){return(0,jt.xW)(n,S[e][n],b[e].fields[t][n])}))})),X=p&&K&&$,Q=(0,i.Gn)(H.Sr,{spaceSlug:L,settingsTab:H.bK}),J=function(){var e=(0,w.Z)(P().mark((function e(){var t;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=nn(nn(nn({alarms:p,integrationID:c},O?{name:O}:{}),(null===j||void 0===j?void 0:j.length)?{Rooms:j}:{}),{},{secrets:S}),"new"!==n){e.next=7;break}return e.next=5,(0,Ot.Y0)(M,t);case 5:e.next=9;break;case 7:return e.next=9,(0,Ot.IU)(M,n,t);case 9:Z({header:"new"===n?"Configuration created successfully!":"Configuration updated successfully!"}),s(),D(Q),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),F(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(u.Modal,{onEsc:s},r.createElement(Ct.hz,{"data-testid":m["data-testid"]||rn},r.createElement(u.ModalHeader,{border:{side:"bottom",color:"disabled"},column:!0,"data-testid":"".concat(rn,"-header"),gap:.5,padding:[6,4,3]},r.createElement(u.Flex,{alignItems:"center","data-testid":"".concat(rn,"-headerMain")},r.createElement(u.Flex,{"data-testid":"".concat(rn,"-titleContainer"),gap:1},r.createElement(u.Icon,nn({"data-testid":"".concat(rn,"-titleIcon")},xt.aU[v]||{})),r.createElement(u.H3,{"data-testid":"".concat(rn,"-title")},v)),s&&r.createElement(Ct.A3,{"data-ga":k("close-modal"),"data-testid":"".concat(rn,"-close"),onClose:s})),r.createElement(u.TextSmall,{as:u.Box,"data-testid":"".concat(rn,"-description")},f,"\xa0",r.createElement(we.Z,{Component:u.TextSmall,"data-ga":k("click-docs"),"data-testid":"".concat(rn,"-docsLink"),href:g,target:"_blank",whiteSpace:"nowrap"},"Learn how to configure it."))),r.createElement(u.ModalBody,{"data-testid":"".concat(rn,"-body"),overflow:{vertical:"auto"},padding:[0]},r.createElement(Ct.QD,{gap:2,"data-testid":"".concat(rn,"-standardFields"),hasBorder:!0},r.createElement(u.Text,{"data-testid":"".concat(rn,"-standardFields-header")},"Notification settings"),r.createElement(u.Flex,{column:!0,"data-testid":"".concat(rn,"-standardFields-body"),gap:3},r.createElement(Qt.Z,{component:"input","data-ga":k("configuration-name-input"),"data-testid":"".concat(rn,"-configurationName"),onChange:B,placeholder:"i.e All alerts from All nodes",title:"Configuration name",value:O}),r.createElement(Qt.Z,{component:"select","data-ga":k("rooms-select"),"data-testid":"".concat(rn,"-rooms"),isMulti:!0,onChange:function(e){var t;if(1!==N.length){if(0===e.length)return W([]),void _([]);if(e.length===N.length||!(null===(t=e[e.length-1])||void 0===t?void 0:t.value))return W([]),void _([xt.k_]);var n=e.map((function(e){return e.value})).filter(Boolean),r=e.length>1?e.filter((function(e){return e.value})):e;W(n),_(r)}},options:A,placeholder:"Select rooms",title:"Rooms",value:C}),r.createElement(Qt.Z,{component:"select","data-ga":k("notification-select"),"data-testid":"".concat(rn,"-notifications"),isRequired:!0,onChange:function(e){var t=e.value;R(t)},options:Object.values(xt.Nq),placeholder:"Select notifications",title:"Notifications",value:xt.Nq[p]}))),r.createElement(Ct.QD,{gap:2,"data-testid":"".concat(rn,"-dynamicFields"),hasBorder:!0},r.createElement(u.Text,{"data-testid":"".concat(rn,"-dynamicFields-header")},"Integration configuration"),r.createElement(u.Flex,{column:!0,"data-testid":"".concat(rn,"-dynamicFields-body"),gap:3},Object.values(b).map((function(e){var t=e.id,n=e.getValue,a=e.onChange,o=(0,l.Z)(e,en);return r.createElement(Qt.Z,nn({"data-ga":k("".concat(t,"-").concat(o.component)),"data-testid":"".concat(rn,"-").concat(t),getDataGa:k,key:t,id:t,onChange:null===a||void 0===a?void 0:a({id:t,setRequiredSubsets:Y,setSecrets:U}),secrets:S,setSecrets:U,value:null===n||void 0===n?void 0:n({id:t,secrets:S})},o))}))))),r.createElement(Ct.QD,{alignItems:"end","data-testid":"".concat(rn,"-footer"),justifyContent:"center"},r.createElement(u.Button,{"data-ga":k("new"===n?"create-click":"edit-click"),"data-testid":"".concat(rn,"-confirmButton"),disabled:!X,label:"OK",onClick:J,textTransform:"uppercase"}))))};var on=["data-testid"];function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var cn={maxHeight:"none",whiteSpace:"initial"};const sn=function(e){var t=e["data-testid"],n=void 0===t?"channelList":t,a=(0,l.Z)(e,on),o=Xt(),i=o.bulkActions,s=o.channelData,m=o.currentChannelId,d=o.columns,p=o.dataGa,f=o.onFilter,g=o.onModalClose,b=o.rowActions,E=o.search,h=o.setSearch;return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,"data-testid":n,gap:4,height:"100%",margin:[3,0]},a),r.createElement(u.NetdataTable,{bulkActions:i,data:s,dataColumns:d,dataGa:p,globalFilter:E,globalFilterFn:f,onGlobalSearchChange:h,rowActions:b,testPrefixCallback:function(e){return e.name},meta:cn}),!!m&&r.createElement(an,{"data-testid":"editChannelModal",id:m,onClose:g}))};var un=n(16812);function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=(0,yt.Z)((function(){return n.e(355).then(n.bind(n,14355))}),"SilencingRules"),fn={side:"top",type:"solid",size:"1px",color:"border"};const gn=function(){var e=(0,un.m$)().notificationsActiveTab,t=void 0===e?0:e,n=(0,r.useCallback)((function(e){var t=(0,un.m$)();(0,un.xs)(dn(dn({},t),{},{notificationsActiveTab:e}))}),[]);return r.createElement(r.Fragment,null,r.createElement(u.Flex,{padding:[0,0,0,4]},r.createElement(u.H3,null,"Alerts & Notifications")),r.createElement(u.Tabs,{selected:parseInt(t,10),onChange:n,height:"calc(100% - 44px)",margin:[4,0,0,0]},r.createElement(u.Tab,{"data-testid":"spaceSettings-notifications-methods-tab","data-ga":"manage-space::click-tab::notifications-methods-tab",label:r.createElement(u.Text,null,"Notification Methods")},r.createElement(u.Flex,{padding:[2,4],border:fn,flex:!0},r.createElement(sn,null))),r.createElement(u.Tab,{"data-testid":"spaceSettings-notifications-silencing-rules-tab","data-ga":"manage-space::click-tab::notifications-silencing-rules-tab",label:r.createElement(u.Text,null,"Notification Silencing Rules")},r.createElement(u.Flex,{border:fn,flex:!0},r.createElement(r.Suspense,null,r.createElement(pn,null))))))};var bn=n(79655),En=n(27856),hn=n(11012),vn=n(60506),yn=n(15317),On=n(26380),wn=["available","classification","data-testid","description","docsLink","fields","id","internal","kind","kindLabel","slug","required","title"];function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jn=function(e){var t=e.available,n=e.classification,a=e["data-testid"],c=void 0===a?"card":a,i=e.description,s=e.docsLink,m=e.fields,d=e.id,p=e.internal,f=e.kind,E=e.kindLabel,h=e.slug,y=e.required,O=e.title,w=(0,l.Z)(e,wn),x=xt.aU[h]||{},P=(0,wt.h3)("new"),j=(0,wt.Cz)("new"),C=(0,g.gI)(b.mk.channelManage),S=(0,v.Z)(!1),k=(0,o.Z)(S,4),D=k[0],I=k[2],T=k[3],Z=(0,r.useCallback)((function(){j(Pn(Pn({},Wt.C),{},{description:i,docsLink:s,fields:m,integration:h,loading:!1,loaded:!0,required:y,secrets:(0,jt.A_)(m,y)})),I()}),[i,s,m,h,y]);return r.createElement(r.Fragment,null,r.createElement(u.Flex,Pn({background:"elementBackground",column:!0,"data-testid":c,justifyContent:"between",flex:!1,height:37,padding:[3,2,2,3],margin:[0,0,4,0],position:"relative",overflow:"hidden",round:.5,width:75},w),r.createElement(Ct.zT,Pn({"data-testid":"".concat(c,"-blurredIcon")},x)),r.createElement(u.Flex,{column:!0,"data-testid":"".concat(c,"-details"),gap:3,margin:[0,0,3,0]},r.createElement(u.Flex,{"data-testid":"".concat(c,"-header"),justifyContent:"between"},r.createElement(u.Flex,{alignItems:"center","data-testid":"".concat(c,"-titleContainer"),gap:1},r.createElement(u.Icon,Pn({"data-testid":"".concat(c,"-icon")},x)),r.createElement(u.Text,{"data-testid":"".concat(c,"-title")},O)),!p&&t&&r.createElement($e.Z,{align:"bottom",content:C?"":xt.Ue,plain:!0},r.createElement(u.Box,null,r.createElement(Ct.nO,{"data-ga":"manage-integration-".concat(h,"::click-add::notification-integrations-tab"),"data-testid":"".concat(c,"-button"),disabled:!C,label:"Add",onClick:Z}))),!p&&!t&&r.createElement(On.Z,{classification:n,"data-ga":"manage-integration-".concat(h,"::click-plan-badge-").concat(n.toLowerCase(),"::notification-integrations-tab")})),r.createElement(u.TextSmall,{color:"textDescription","data-testid":"".concat(c,"-description")},i,s&&r.createElement(r.Fragment,null,"\xa0",r.createElement(we.Z,{Component:Ct.bb,"data-ga":"manage-integration-".concat(h,"::click-docs::notification-integrations-tab"),"data-testid":"".concat(c,"-docsLink"),href:s,target:"_blank",whiteSpace:"nowrap"},"Learn more.")))),r.createElement($e.Z,{align:"top",content:xt.XK[f].tooltip,"data-testid":"".concat(c,"-kindContainer"),plain:!0},r.createElement(u.Flex,{alignItems:"end",alignSelf:"end","data-testid":"".concat(c,"-kindContainer"),gap:1},r.createElement(u.Icon,{color:"textLite","data-testid":"".concat(c,"-kindIcon"),height:"16px",name:xt.XK[f].icon,width:"16px"}),r.createElement(u.TextSmall,{color:"textLite","data-testid":"".concat(c,"-kind")},E)))),D&&r.createElement(an,{"data-testid":"createChannelModal",integrationId:d,onClose:function(){T(),P()}}))};var Cn=["data-testid","integrations","title"];function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Dn=function(e){var t=e["data-testid"],n=void 0===t?"group":t,a=e.integrations,o=e.title,c=(0,l.Z)(e,Cn);return a.length?r.createElement(u.Flex,kn({column:!0,"data-testid":n,gap:2,position:"relative"},c),r.createElement(u.TextBig,{color:"textDescription","data-testid":"".concat(n,"-title")},o),r.createElement(u.Flex,{flexWrap:!0,"data-testid":"".concat(n,"-integrations"),gap:4},a.map((function(e){return r.createElement(jn,kn({"data-testid":"".concat(e.slug,"Card"),key:e.slug},e))})))):null};var In=n(73066);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Fn=function(e){var t=(0,wt.R1)(e);(0,Vt.Z)((function(){return{enabled:!!e,fetch:function(){return(0,Ot.h3)(e)},onFail:function(e){return t(Zn(Zn({},In.E),{},{error:e.message}))},onSettle:function(){return t({loading:!1,loaded:!0})},onSuccess:function(e){t(Zn(Zn({},In.E),e))}}}),[e])};var An=["data-testid"];function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ln=function(e){var t=e["data-testid"],n=void 0===t?"integrations":t,a=(0,l.Z)(e,An),c=(0,h.th)(),s=(0,h.uk)();Fn(c);var m=(0,wt.ry)(c),d=m.available,p=m.error,f=m.loaded,g=m.unavailable,b=(0,r.useState)([]),E=(0,o.Z)(b,2),v=E[0],y=E[1],O=(0,r.useState)([]),w=(0,o.Z)(O,2),x=w[0],P=w[1],j=(0,r.useState)(""),C=(0,o.Z)(j,2),S=C[0],k=C[1];if(!f)return r.createElement(hn.Z,{"data-testid":"".concat(n,"-loader"),title:"Loading services..."});if(p)return r.createElement(yn.Z,{"data-testid":"".concat(n,"-error"),message:p,title:"Services of ".concat(s," are currently unavailable")});var D=(0,En.D)(300,(function(e){var t=e.target.value;k(t),y((0,jt.uf)(d,t)),P((0,jt.uf)(g,t))})),I=(0,i.Gn)(H.Sr,{spaceSlug:s,settingsTab:H.bK});return r.createElement(u.Flex,Mn(Mn({column:!0,"data-testid":n},a),{},{padding:[0,4]}),r.createElement(u.Flex,{border:{side:"bottom",color:"separator"},"data-testid":"".concat(n,"-header"),margin:[0,0,4,0],padding:[0,0,4,0],width:"100%"},r.createElement(we.Z,{as:bn.rU,Component:Ct.Ce,"data-ga":"manage-integrations::click-back::notification-integrations-tab","data-testid":"".concat(n,"-backLink"),to:I},r.createElement(u.Icon,{"data-testid":"".concat(n,"-backIcon"),name:"arrow_left"}),r.createElement(u.H3,{"data-testid":"".concat(n,"-title")},H.fV[H.Q$]))),r.createElement(u.Flex,{column:!0,"data-testid":"".concat(n,"-content"),gap:4},r.createElement(u.Box,{as:vn.Z,"data-ga":"manage-integrations::search::notification-integrations-tab","data-testid":"".concat(n,"-search"),iconLeft:r.createElement(u.Icon,{name:"magnify",color:"textLite"}),onChange:D,placeholder:"Search service",size:"small",width:{max:49.5}}),r.createElement(u.Flex,{column:!0,"data-testid":"".concat(n,"-groups")},r.createElement(Dn,{"data-testid":"integrationGroupAvailable",integrations:S?v:d,title:"Available"}),r.createElement(Dn,{"data-testid":"integrationGroupUnavailable",integrations:S?x:g,title:"Unavailable"}))))};const Rn=function(){return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(gn,null)}),r.createElement(a.AW,{path:"/".concat(H.Q$),element:r.createElement(Ln,null)}))};var Bn=n(73575);const _n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[(0,u.useInputValue)({maxChars:20,value:e.name||""})||{},(0,u.useInputValue)({maxChars:50,value:e.description||""})||{}]};var Un=n(19262),Wn=/^[a-zA-Z0-9@_.-\s!]*$/,Vn={minLength:"Space name should be more than 5 characters",allowedChars:"Please use alphanumberic characters (A-Z, a-z, 0-9), spaces, periods and supported special characters @, -, _,."},Hn=function(e){return e.length<5?"minLength":!Wn.test(e)&&"allowedChars"},zn=function(e){return!Wn.test(e)&&"allowedChars"},Gn=n(41582),Yn=["nameInput","descriptionInput"];function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Kn=function(e){var t=e.nameInput,n=e.descriptionInput,a=(0,l.Z)(e,Yn),i=(0,o.Z)(t,4),s=i[0],m=i[1],d=i[2],p=i[3],f=(0,o.Z)(n,4),g=f[0],E=f[1],h=f[2],v=f[3],y=(0,r.useMemo)((function(){return Hn(s)}),[s]),O=(0,r.useMemo)((function(){return zn(g)}),[g]);return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0},a),r.createElement(Gn.Z,{Component:u.TextInput,permission:b.mk.spaceUpdateMeta,label:"Name",value:s,onChange:m,error:Vn[y],isDirty:p,instantFeedback:"all",fieldIndicator:d,"data-testid":"textInputs-spaceName"}),r.createElement(Gn.Z,{Component:u.TextInput,permission:b.mk.spaceUpdateMeta,label:"Description",value:g,onChange:E,error:Vn[O],isDirty:v,instantFeedback:"all",fieldIndicator:h,"data-testid":"textInputs-spaceDescription"}))};var $n=n(19086),Xn=["id"];function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Jn=function(e){var t=e.id,n=(0,l.Z)(e,Xn);return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,gap:1},n),r.createElement(u.Text,{strong:!0},"Space Id"),r.createElement($n.ZP,{confirmationText:"Space ID copied to your clipboard."},t))};var er=n(79870),tr=n(52476);function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ar=["nameInput","descriptionInput","onClose"];function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const lr=function(e){var t=e.nameInput,n=e.descriptionInput,a=e.onClose,i=(0,l.Z)(e,ar),s=(0,h.OS)(),m=function(e){var t=(0,ye.Z)(),n=(0,o.Z)(t,2),r=n[0],a=n[1];return(0,j._8)((function(t){var n=t.snapshot,o=t.set;return function(){var t=(0,w.Z)(P().mark((function t(l,c){var i,s,u;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.onSuccess,s=c.onFail,t.next=3,n.getPromise((0,h.U7)({id:e}));case 3:return u=t.sent,o((0,h.U7)({id:e}),(function(e){return rr(rr({},e),l)})),t.prev=5,t.next=8,(0,tr.$F)(e,l);case 8:r({header:"Space successfully updated!"}),i&&i(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(5),o((0,h.U7)({id:e}),u),a(t.t0),s&&s();case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}),[e])}(s.id),d=(0,r.useState)(!1),p=(0,o.Z)(d,2),f=p[0],g=p[1],b=(0,o.Z)(t,1)[0],E=(0,o.Z)(n,1)[0],v=function(){a(),g(!1)},y=function(){return g(!1)},O=(0,r.useCallback)((function(){g(!0),m({name:b,description:E},{onSuccess:v,onFail:y})}),[b,E]),x=(0,r.useMemo)((function(){var e=Hn(b),t=zn(E);return!!(f||e||t)||s.name===b&&(s.description===E||!s.description&&!E)}),[s,b,E,f]);return r.createElement(u.Button,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:"SAVE",onClick:O,isLoading:f,disabled:x,"data-testid":"saveSpace-button"},i))};var cr=["onClose"];function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const sr=(0,r.memo)((function(e){var t=e.onClose,n=(0,l.Z)(e,cr),a=(0,h.OS)(),i=(0,h.GM)("ids"),s=(0,v.Z)(),m=(0,o.Z)(s,4),d=m[0],p=m[2],f=m[3],g=_n({name:a.name,description:a.description}),b=(0,o.Z)(g,2),E=b[0],y=b[1];if(!a.id)return null;var O=1===i.length;return r.createElement(r.Fragment,null,r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({column:!0,"data-testid":"manageSpace",flex:"grow",justifyContent:"between"},n),r.createElement(u.Flex,{column:!0,"data-testid":"manageSpace-settings"},r.createElement(u.H3,{margin:[0,0,4,0]},"Info"),r.createElement(u.Flex,{column:!0,gap:8},r.createElement(u.Box,null,r.createElement(Kn,{"data-testid":"manageSpace-nameInputs",nameInput:E,descriptionInput:y}),r.createElement(Jn,{"data-testid":"manageSpace-spaceIdInput",id:a.id}),r.createElement(u.Flex,{column:!0,gap:1,margin:[4,0,0]},r.createElement(u.TextInput,{label:"Your role in space",value:(0,Ke.fm)(a.roleInSpace),disabled:!0})),r.createElement(u.Flex,{column:!0,gap:1,margin:[4,0,0]},r.createElement(u.TextInput,{label:"Plan",value:(0,Ke.db)(a.plan),disabled:!0}))))),r.createElement(u.Flex,{"data-testid":"manageSpace-actions",justifyContent:"between",alignItems:"center",padding:[0,10,0,0]},r.createElement(u.Flex,{"data-testid":"manageSpace-deleteLeaveActions",gap:4},r.createElement($e.Z,{align:"top",content:O&&Bn.T$.leave,isBasic:!0,stretch:"align"},r.createElement(u.Flex,{alignItems:"center"},r.createElement(u.Button,{"data-ga":"manage-space-tab::click-leave-space::manage-space-modal","data-testid":"manageSpace-leave",disabled:O,icon:"switch_off",flavour:"borderless",label:"Leave space",neutral:!0,padding:[0],width:"fit-content",onClick:p}))),r.createElement(er.Z,{"data-testid":"manageSpace-delete",id:a.id,isLastSpace:O,name:a.name,onClose:t})),r.createElement(lr,{"data-testid":"manageSpace-save",nameInput:E,descriptionInput:y,onClose:t}))),d&&r.createElement(Un.Z,{id:a.id,name:a.name,onClose:f}))}),(function(){return!0}));var ur=n(96477),mr=n(50526);const dr=function(e){var t=e.toggleCreation,n=(0,h.th)(),a=(0,ur.hq)(n),o=(0,mr.Z)(n),l=(0,r.useCallback)((function(e){return o({name:e},!0)}),[]),c=(0,r.useMemo)((function(){return[{id:"name",accessor:"name",header:"Bookmark",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"url",accessor:"url",header:"Url",cell:function(e){var t=e.getValue;return"".concat(t())}},{id:"description",accessor:"url",header:"Description",cell:function(e){var t=e.getValue;return"".concat(t())}}]}),[]),i=function(e){e&&l(e.name)},s=(0,r.useMemo)((function(){return{delete:{confirmLabel:"Yes, delete",confirmationMessage:function(e){return r.createElement(r.Fragment,null,"You are about to delete bookmark ",r.createElement("strong",null,e.name),".",r.createElement("br",null),"Are you sure you want to continue?")},confirmationTitle:"Delete bookmark",declineLabel:"Cancel",handleAction:i,tooltipText:"Delete bookmark"}}}),[]),u=(0,r.useMemo)((function(){return{addEntry:{handleAction:t,tooltipText:"Create Bookmark"}}}),[]),m=(0,g.gI)(b.mk.bookmarkCreate),d=(0,g.gI)(b.mk.bookmarkDelete);return{data:a,schema:c,deleteBookmark:l,rowActions:d?s:[],bulkActions:m?u:[]}};var pr=["toggleCreation"];function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gr=n(87060),br=n(49286),Er=n(7672);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const yr=function(){var e=(0,a.s0)(),t=(0,h.th)(),n=(0,a.bS)(H.xN),o=(0,a.bS)(H.Sr),l=(n||o||{}).params,c=l.spaceSlug,s=void 0===c?"":c,u=l.settingsTab,m=void 0===u?"":u,d=l.settingsSubTab,p=void 0===d?"":d,f=(0,h.OS)("name"),g=(0,k.HM)(t,p),b=(0,k.tE)(g,"name"),E=H.fV[m],v=(0,r.useCallback)((function(){e((0,i.Gn)(H.Sr,{spaceSlug:s,settingsTab:m}))}),[s,m]),y=(0,r.useMemo)((function(){var e=[{name:"Manage Space",isDisabled:!0},{name:f,isDisabled:!0},vr({name:E},!!p&&{onClick:v})];return p&&e.push({name:E===H.fV[H.eq]?b:H.fV[p]||p}),e}),[v,b,f,E,p]);return r.createElement(Er.Z,{isBig:!0,items:y,showBackButton:!1,testid:"manageSpace"})};var Or=n(15057),wr=n(97431),xr=(0,r.createContext)(),Pr=(0,r.createContext)(),jr=function(e){var t=e.children,n=(0,v.Z)(!1),a=(0,o.Z)(n,2),l=a[0],c=a[1];return r.createElement(xr.Provider,{value:l},r.createElement(Pr.Provider,{value:c},t))},Cr=function(){return(0,r.useContext)(xr)},Sr=function(){return(0,r.useContext)(Pr)},kr=n(43337);function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Ir=function(e){return r.createElement(u.Box,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({as:"hr",height:"100%",sx:{borderWidth:"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}},e))},Tr=function(){return r.createElement(Ir,{height:"1px",width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}})};var Zr=function(e){return["free","earlyBird"].includes(e)},Fr=function(e,t){var n=t.amountPerNode;if(e.amountPerNode&&e.monthlyDiscountPercentagePerNode){var r=e.amountPerNode/12;n=Rr(r,e.monthlyDiscountPercentagePerNode)}return n},Ar=function(e){if(!e)return null;var t=e.city,n=e.country,r=e.line_1,a=e.line_2,o=e.postalCode,l=e.state;return[[r,a].filter(Boolean).join(" "),t,o,l,n].filter(Boolean).join(", ")},Nr=function(e,t){return Zr(t)?"hollow":"business"===t||"pro"===t&&Zr(e)?"default":"hollow"},Mr=function(){return{cellStyles:{height:"40px"},headStyles:{height:"32px"}}},Lr=function(e,t,n,r,a){return((t||0)-e)*(n||0)+(r||0)-(a||0)},Rr=function(e,t){return e*(1/(1-t))};const Br=function(e){var t=e.currentPlan,n=e.billingEmail,a=e.paymentMethod,l=e.businessName,c=e.vatNo,i=e.billingAddress,s=(0,wr.SH)(),m=(0,o.Z)(s,2),d=m[0],p=m[1],f=!!t.billingEmail&&!p;return r.createElement(u.Flex,{column:!0,gap:3},r.createElement(u.Flex,{gap:3},r.createElement(u.TextInput,{value:n||"",label:"Billing email",placeholder:"Not specified",disabled:!0}),r.createElement(u.TextInput,{value:(null===a||void 0===a?void 0:a.id)?"**** ".concat(null===a||void 0===a?void 0:a.id):"",label:"Default payment method",placeholder:"Not specified",disabled:!0})),c&&r.createElement(u.Flex,{gap:3},r.createElement(u.TextInput,{value:l||"",label:"Business name",placeholder:"Not specified",disabled:!0}),r.createElement(u.TextInput,{value:c,label:"VAT number",placeholder:"Not specified",disabled:!0})),r.createElement(u.Flex,{gap:3},r.createElement(u.TextInput,{value:Ar(i)||"",label:"Billing address",placeholder:"Not specified",disabled:!0})),r.createElement(we.Z,{Component:u.Flex,cursor:f?"pointer":"default",disabled:!f,onClick:d,alignItems:"center",gap:1,"data-ga":"billing-options::click::billing"},r.createElement("span",null,"Change billing information and payment method"),r.createElement(u.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"})))};var _r=function(e){var t=e.onReset;return r.createElement(u.Box,{as:u.Icon,name:"close_circle",onClick:t,cursor:"pointer",width:3,height:3,color:"border",position:"absolute",left:"2px"})},Ur=function(e){var t=e.promotionCode,n=e.onReset;return r.createElement(u.Flex,{width:"100%"},r.createElement(u.Pill,{background:"nodeBadgeBackground",padding:[0],borderColor:"nodeBadgeBackground"},r.createElement(u.Flex,{position:"relative",gap:2,alignItems:"center",padding:[1,2,1,5]},r.createElement(_r,{onReset:n}),r.createElement(u.Text,null,t))))};const Wr=function(e){var t=e.promotionCode,n=e.onApply,a=e.error,l=(0,r.useState)(a?t:""),c=(0,o.Z)(l,2),i=c[0],s=c[1],m=function(){s(""),n("")};return r.createElement(u.Flex,{column:!0,gap:1},r.createElement(u.Text,{strong:!0},"Promotion code"),t&&!a?r.createElement(Ur,{promotionCode:t,onReset:m}):r.createElement(u.Flex,{column:!0,gap:1},r.createElement(u.Flex,{gap:3,alignItems:"baseline"},r.createElement(u.TextInput,{value:i,onChange:function(e){return s(e.target.value)},placeholder:"Promotion code"}),a?r.createElement(u.Button,{label:"Clear",flavour:"hollow",onClick:m,padding:[3,4],disabled:!i}):r.createElement(u.Button,{label:"Apply",onClick:function(){return n(i)},padding:[3,4],disabled:!i})),a&&r.createElement(u.Text,{color:"error"},a)))},Vr=function(e){var t=e.needsCommitment,n=e.commitment,a=e.handleCommitmentChange;return t&&r.createElement(u.Flex,{column:!0,gap:2},r.createElement(u.Flex,{gap:4,alignItems:"baseline"},r.createElement(u.Text,{strong:!0,style:{whiteSpace:"nowrap"}},"Committed Nodes"),r.createElement(u.TextInput,{onChange:a,value:n,placeholder:"i.e. 14",type:"number",min:1})),r.createElement(u.TextSmall,null,"Nodes that you'll have a discount of 25% on the original cost per node of the plan. This amount will be part of your annual prepayment."))},Hr=function(e){return"earlyBird"===e.currentPlan.slug&&r.createElement(r.Fragment,null,r.createElement(Ir,{height:"1px",width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),r.createElement(u.Flex,{gap:3},r.createElement(u.Icon,{size:"large",color:"warning",name:"warning_triangle"}),r.createElement(u.Text,null,"You are moving from ",r.createElement(u.Text,{strong:!0},"Early Bird")," plan to another plan, you won't be able to come back to this. The ",r.createElement(u.Text,{strong:!0},"Community")," free plan will be there if you wish to cancel but this doesn't allow you to invite or change users using the Member role.")))};var zr=function(e){return"earlyBird"===(null===e||void 0===e?void 0:e.slug)?"earlyBird":e&&e.slug&&"free"!==e.slug?"".concat(e.slug,"-").concat(e.interval):"free"};function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Yr=s.default.div.withConfig({displayName:"withTableWrapper__TableWrapper",componentId:"sc-drcfxi-0"})(["margin-top:30px;"]);const qr=function(e){return function(t){return r.createElement(Yr,null,r.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)))}},Kr=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qr={size:50,minSize:50,maxSize:100},Jr=function(e){return function(){return r.createElement(u.Flex,{width:"100%",justifyContent:"end"},e)}},ea=function(e){var t=e.getValue;return r.createElement(u.Flex,{width:"100%",justifyContent:"end"},t())},ta=[Xr({id:"name",accessor:"name",header:""},Qr),Xr({id:"price",accessor:"price",header:Jr("Price"),cell:ea},Qr),Xr({id:"qty",accessor:"qty",header:Jr("Qty"),cell:ea},Qr),Xr({id:"month",accessor:"month",header:Jr("Month"),cell:ea},Qr),Xr({id:"total",accessor:"total",header:Jr("Total"),cell:ea},Qr)];function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const ra=function(e){return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({gap:3},e),r.createElement(u.Icon,{size:"large",color:"warning",name:"warning_triangle"}),r.createElement(u.Text,null,"No immediate charges are applicable to this plan subscription. On-demand usage charges will be applied based on your node period count."))};var aa=qr(u.NetdataTable),oa=function(e){var t=e.needsCommitment,n=e.price,a=e.spaceTotal,o=e.commitment,l=e.currentCommitment,c=e.onlyCommitment,i=e.balance,s=e.nodesTotal,m=e.zeroSubscriptionTotal,d=e.checkoutIsDisabled,p=function(e,t,n,r,a){if(!r)return r;var o=Lr(a,e,t,n);return r-o<0?r:o}(o,n.pricing.primary.amountPerNode,c?0:n.pricing.primary.amountFlat,i.amount,l),f=((null===n||void 0===n?void 0:n.pricing)||{}).primary,g=(null===f||void 0===f?void 0:f.monthlyDiscountPercentagePerNode)||0,b=parseFloat(s+a),E=parseFloat(b*g),h=parseFloat(b-E);return r.createElement(r.Fragment,null,m?d?null:r.createElement(ra,null):r.createElement(r.Fragment,null,t&&r.createElement(r.Fragment,null,r.createElement(u.Flex,{justifyContent:"between"},r.createElement(u.Text,null,"Subscription Total"),r.createElement(u.Text,null,Kr.format(b))),r.createElement(u.Flex,{justifyContent:"between"},r.createElement(u.Text,{color:"primary"},"Discount (",100*g,"%)"),r.createElement(u.Text,{color:"primary"},"- ",Kr.format(E)))),r.createElement(u.Flex,{justifyContent:"between"},r.createElement(u.Text,null,"Total"),r.createElement(u.Text,null,Kr.format(h))),!!i.amount&&r.createElement(u.Flex,{justifyContent:"between"},r.createElement(u.Text,null,"Credit amount"),r.createElement(u.Text,null,"- ",Kr.format(p))),r.createElement(Tr,null),r.createElement(u.Flex,null,r.createElement(u.TextMicro,null,"Additional taxes may be applicable"))),r.createElement(u.Flex,{justifyContent:"between"},r.createElement(u.H0,{strong:!0},"Total payable"),r.createElement(u.H0,{strong:!0,"data-testid":"totalPayableAmountCheckout"},Kr.format(function(){var e=Lr.apply(void 0,arguments);return e<0?0:e}(l,o,n.pricing.primary.amountPerNode,c?0:n.pricing.primary.amountFlat,p)))))};const la=function(e){var t=e.price,n=e.needsCommitment,a=e.currentCommitment,o=e.onlyCommitment,l=e.balance,c=e.spaceTotal,i=e.amountPerNodePerMonth,s=e.amountPerSpacePerMonth,u=e.commitment,m=e.nodesTotal,d=e.months,p=e.tableMeta,f=void 0===p?Mr:p,g=e.checkoutIsDisabled,b=(0,r.useMemo)((function(){return 0==parseFloat(m+c)}),[m,c]),E=(0,r.useMemo)((function(){var e=!isNaN(c)&&c>0?{id:"space",name:"Space",price:Kr.format(s),qty:1,month:d,total:Kr.format(c)}:null;return n?[isNaN(m)?null:{id:"nodes",name:"Nodes",price:Kr.format(i),qty:u||0,month:d,total:Kr.format(m)},e].filter(Boolean):[e]}),[n,s,c,m,d]);return r.createElement(r.Fragment,null,!b&&r.createElement(r.Fragment,null,r.createElement(aa,{meta:f,dataColumns:ta,data:E}),r.createElement(Tr,null)),r.createElement(oa,{needsCommitment:n,price:t,spaceTotal:c,commitment:u,currentCommitment:a,onlyCommitment:o,balance:l,nodesTotal:m,zeroSubscriptionTotal:b,checkoutIsDisabled:g}))};var ca=n(93433);function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ua,ma=qr(u.NetdataTable),da=function(e){var t=e.lineItems;return r.createElement(r.Fragment,null,t.map((function(e){var t,n,a=(n=e).description?n.description.startsWith("Discount")?{color:"primary"}:n.description.startsWith("VAT")?{color:"textLite"}:{}:{},o=e.isInfo?u.TextSmall:u.Text;return r.createElement(u.Flex,{key:e.description,justifyContent:"between"},r.createElement(o,sa({},a),e.description),r.createElement(o,sa({},a),Kr.format(null===(t=e.total)||void 0===t?void 0:t.amount)))})))},pa=(ua=function(e){var t=e.lineItems;return r.createElement(u.Flex,{justifyContent:"between",margin:[4,0,0,0]},r.createElement(u.H0,{strong:!0},"Total payable"),r.createElement(u.H0,{strong:!0,"data-testid":"totalPayableAmountPreview"},Kr.format(t.totalPayable.total.amount)))},function(e){var t;return e.lineItems.totalPayable?(null===(t=e.lineItems.info)||void 0===t?void 0:t.length)?r.createElement(u.Flex,{column:!0,gap:1},r.createElement(ua,sa({},e)),r.createElement(da,{lineItems:e.lineItems.info})):r.createElement(ua,sa({},e)):null}),fa=function(e){var t=e.lineItems,n=e.agree,a=e.toggleAgree,o=e.zeroPreviewSubscriptionTotal;return r.createElement(r.Fragment,null,r.createElement(Tr,null),o&&r.createElement(ra,{padding:[0,0,2,0]}),r.createElement(u.Flex,{gap:3},r.createElement(u.Checkbox,{checked:n,onChange:a}),r.createElement(u.Text,null,"I agree to Netdata Inc's"," ",r.createElement(we.Z,{href:"https://www.netdata.cloud/service-terms/",rel:"noopener noreferrer",target:"_blank"},"Terms of Service")," ","and"," ",r.createElement(we.Z,{href:"https://netdata.cloud/privacy",rel:"noopener noreferer",target:"_blank"},"Privacy Policy"))),r.createElement(pa,{lineItems:t}))};const ga=function(e){var t=e.lineItems,n=e.tableMeta,a=void 0===n?Mr:n;return r.createElement(r.Fragment,null,r.createElement(ma,{meta:a,dataColumns:ta,data:t.table}),r.createElement(Tr,null),r.createElement(da,{lineItems:t.footer}))},ba=function(e){var t=e.title,n=e.onConfirm,a=e.onClose,o="Community"==t,l=o?"Cancellation":"Downgrading";return r.createElement(u.ConfirmationDialog,{confirmLabel:"Yes","data-ga":"downgrade-dialog","data-testid":"downgradeDialog",handleConfirm:function(){n(),a()},handleDecline:function(){a()},message:r.createElement(u.Flex,{column:!0,gap:2},r.createElement(u.Text,null,"Are you sure you want to ",r.createElement(u.Text,{strong:!0},"move to the ",t," plan")," and cancel your current plan?"),o&&r.createElement(u.Text,null,"Upon cancellation,"," ",r.createElement(u.Text,{strong:!0},"a credit of the value related to the unused period will be credited to your Netdata account.")," ","The credit will be available for you to use on future plan subscriptions with us."),r.createElement(u.Text,null,"For the next 24 hours, you will be able to use all your current notification method configurations."," ",r.createElement(u.Text,{strong:!0},"After 24 hours, any of the notification method configurations that aren't available on your space's plan will be automatically disabled.")),r.createElement(u.Text,null,l," might affect your Space users. Please check what roles are available on the"," ",r.createElement(we.Z,{href:"https://learn.netdata.cloud/docs/nightly/concepts/netdata-plans#areas-impacted-by-plans",rel:"noopener noreferrer",strong:!0,target:"_blank"},t," plan"),"."," ",r.createElement(u.Text,{strong:!0},"Users with unavailable roles on the ",t," plan will immediately have restricted access to the Space.")),r.createElement(u.Text,null,"Do you wish to proceed?")),title:"Go to ".concat(t," plan?")})};var Ea=n(99626),ha=["title","isDowngrade","showProrations","checkoutOrUpdate"];function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oa=function(e){return e?"::commited-".concat(e):""},wa=(0,s.default)(u.Flex).withConfig({displayName:"checkoutTotals__CheckoutButtonWrapper",componentId:"sc-1q0h6ca-0"})(["background:",";padding:16px 0;position:sticky;bottom:0;z-index:20;"],(0,u.getColor)("mainBackground")),xa=function(e){return function(t){var n=t.title,a=t.isDowngrade,c=t.showProrations,i=t.checkoutOrUpdate,s=(0,l.Z)(t,ha),u=(0,v.Z)(),m=(0,o.Z)(u,4),d=m[0],p=m[2],f=m[3];return c&&a?r.createElement(r.Fragment,null,d&&r.createElement(ba,{title:n,onConfirm:i,onClose:f}),r.createElement(e,ya({onClick:p},s))):r.createElement(e,ya({onClick:i},s))}}((0,s.default)(u.Button).withConfig({displayName:"checkoutTotals__CheckoutButton",componentId:"sc-1q0h6ca-1"})(["flex:auto;"]));const Pa=function(e){var t,n=e.title,a=e.slug,l=e.onClose,c=e.currentPlan,i=e.price,s=e.balance,m=e.commitment,d=e.currentCommitment,p=void 0===d?0:d,f=e.email,g=e.needsCommitment,b=e.onlyCommitment,E=e.previewData,h=e.loadingPreview,y=e.showProrations,O=e.promotionCode,w=function(e,t){var n,r;return((null===(n=Ea.Vc[t])||void 0===n?void 0:n.level)||0)<((null===(r=Ea.Vc[e])||void 0===r?void 0:r.level)||0)}(c.slug,a),x=(0,v.Z)(!1),P=(0,o.Z)(x,2),j=P[0],C=P[1],S=y&&!j||!y&&!f||g&&(p===m||!m||m<1),k=(0,v.Z)(),D=(0,o.Z)(k,2),I=D[0],T=D[1],Z=(0,wr.eY)(),F=(0,wr.Zn)(),A=y||c.billingEmail?F:Z,N=(null===i||void 0===i?void 0:i.pricing)||{},M=N.primary,L=N.secondary,R="year"===i.interval?12:1,B=Fr(M,L),_=g?B*R*(m||0):0,U=function(e){var t=e.amountFlat||0;if(e.monthlyDiscountPercentagePerNode&&e.amountFlat){var n=e.amountFlat/12;t=Rr(n,e.monthlyDiscountPercentagePerNode)}return t}(M),W=U*R,V=(t=null===E||void 0===E?void 0:E.invoiceLineItems,(0,r.useMemo)((function(){if(!(null===t||void 0===t?void 0:t.length))return null;var e=!1;return t.reduce((function(t,n){var r;return"Total payable"==n.description?(t.totalPayable=n,e=!0,t):(n.unitPrice?t.table=[].concat((0,ca.Z)(t.table),[{id:n.description,name:n.description,price:Kr.format(n.unitPrice.amount),qty:n.quantity,month:n.month,total:null===(r=n.total)||void 0===r?void 0:r.amount}]):e?t.info=[].concat((0,ca.Z)(t.info),[sa(sa({},n),{},{isInfo:!0})]):t.footer=[].concat((0,ca.Z)(t.footer),[n]),t)}),{table:[],footer:[],info:[]})}),[t])),H=((null===V||void 0===V?void 0:V.footer)||[]).some((function(e){var t=e.description,n=e.total;return"Subscription Total"==t&&0==(null===n||void 0===n?void 0:n.amount)}));return r.createElement(u.Flex,{column:!0,gap:3},y?h||!V||H?null:r.createElement(ga,{lineItems:V,agree:j,toggleAgree:C}):r.createElement(la,{price:i,needsCommitment:g,currentCommitment:p,onlyCommitment:b,balance:s,spaceTotal:W,amountPerNodePerMonth:B,amountPerSpacePerMonth:U,commitment:m,nodesTotal:_,months:R,checkoutIsDisabled:S}),r.createElement(wa,{column:!0,gap:2},y&&!h&&V&&r.createElement(fa,{lineItems:V,agree:j,toggleAgree:C,zeroPreviewSubscriptionTotal:H}),r.createElement(xa,{title:n,isDowngrade:w,label:y?"Checkout":"Proceed to checkout",disabled:!!S||I,checkoutOrUpdate:function(){T(),A(ya(ya({productId:i.id,email:(null===E||void 0===E?void 0:E.billingEmail)||f},g&&{commitment:m}),y&&O&&{promotionCode:O})).then(l).finally(T)},isLoading:I,"data-ga":"proceedTocheckoutButton::click-".concat(zr(i)).concat(Oa(m),"::billing"),"data-testid":"billingCheckoutTotals-proceedToCheckoutButton",showProrations:y})))};var ja=function(e){var t=e.prices,n=e.currentPlan,a=(0,r.useState)(0),l=(0,o.Z)(a,2),c=l[0],i=l[1],s=t[c],u=null===s||void 0===s?void 0:s.commitment,m=(0,r.useState)(n.committedNodes||1),d=(0,o.Z)(m,2),p=d[0],f=d[1];return{recurringIndex:c,setRecurringIndex:i,price:s,needsCommitment:u,commitment:p,handleCommitmentChange:function(e){return f(e.target.value?parseInt(e.target.value,10):"")}}};function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Sa=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).title,t=void 0===e?"Checkout":e;return function(e){return function(n){return r.createElement(d.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:n.onClose},r.createElement(p.x,{onClose:n.onClose,title:t}),r.createElement(u.Flex,{column:!0,padding:[4,4,0,4],justifyContent:"between",height:"calc(100vh - 60px)",overflow:"auto"},r.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))))}}};function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=3e5;const Ta=Sa({title:"Update plan"})((function(e){var t=e.title,n=e.onClose,a=e.prices,l=e.currentPlan,c=void 0===l?{}:l,i=e.children,s=ja({prices:a,currentPlan:c}),m=s.recurringIndex,d=s.setRecurringIndex,p=s.price,f=s.needsCommitment,g=s.commitment,b=s.handleCommitmentChange,E=(0,r.useState)(""),h=(0,o.Z)(E,2),v=h[0],y=h[1],O=(0,r.useState)(0),w=(0,o.Z)(O,2),x=w[0],P=w[1],j=(0,r.useState)(Ia),C=(0,o.Z)(j,2),S=C[0],k=C[1],D=(0,wr.fG)(Da({productId:p.id,promotionCode:v},f&&g&&{commitment:g}),x),I=D.loading,T=D.value,Z=D.promoCodeError;return(0,kr.Z)((function(){I||P((function(e){return e+1}))}),S),(0,r.useEffect)((function(){k(I?null:Ia)}),[I]),r.createElement(r.Fragment,null,r.createElement(u.Flex,{column:!0,gap:4},r.Children.map(i,(function(e){return(0,r.cloneElement)(e,{recurringIndex:m,setRecurringIndex:d})})),r.createElement(Vr,{needsCommitment:f,commitment:g,handleCommitmentChange:b}),r.createElement(Tr,null),I?r.createElement(hn.Z,{title:"Loading billing info...",height:"auto"}):T?r.createElement(r.Fragment,null,r.createElement(Br,Da({currentPlan:c},T)),r.createElement(Tr,null),r.createElement(Wr,{promotionCode:v,onApply:y,error:Z})):r.createElement("div",null,"No data available"),r.createElement(Hr,{currentPlan:c})),r.createElement(Pa,{title:t,slug:p.slug,currentPlan:c,onClose:n,price:p,balance:c.balance,commitment:g,needsCommitment:f,previewData:T,loadingPreview:I,showProrations:!0,promotionCode:v}))}));const Za=Sa()((function(e){var t=e.onClose,n=e.prices,a=e.currentPlan,l=void 0===a?{}:a,c=e.children,i=ja({prices:n,currentPlan:l}),s=i.recurringIndex,m=i.setRecurringIndex,d=i.price,p=i.needsCommitment,f=i.commitment,g=i.handleCommitmentChange,b=(0,Ie.Iy)("email"),E=(0,r.useState)(l.billingEmail||b||""),h=(0,o.Z)(E,2),v=h[0],y=h[1];return r.createElement(r.Fragment,null,r.createElement(u.Flex,{column:!0,gap:4},r.Children.map(c,(function(e){return(0,r.cloneElement)(e,{recurringIndex:s,setRecurringIndex:m})})),r.createElement(Vr,{needsCommitment:p,commitment:f,handleCommitmentChange:g}),r.createElement(Tr,null),r.createElement(u.TextInput,{onChange:function(e){return y(e.target.value)},value:v,label:"Billing email",placeholder:"jsmith@example.com"}),r.createElement(Hr,{currentPlan:l})),r.createElement(Pa,{currentPlan:l,onClose:t,price:d,balance:l.balance,commitment:f,email:v,needsCommitment:p}))}));var Fa=n(41174),Aa=["inModal","recurringIndex","setRecurringIndex"];function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La=function(e){var t=e.primary,n=e.secondary;return r.createElement(u.Flex,{column:!0,gap:2},t||n?r.createElement(r.Fragment,null,r.createElement($e.Z,{align:"top",content:t.amountPerNode?"Price per active node per month for committed usage of nodes for a year":"Price per node per month",isBasic:!0,plain:!0,stretch:"align"},r.createElement(u.H0,null,Kr.format(Fr(t,n)),r.createElement(u.TextSmall,{color:"textLite"},"/",r.createElement(we.Z,{Component:u.TextSmall,href:"https://www.netdata.cloud/pricing/#do-i-have-to-pay-for-nodes-that-are-no-longer-online",rel:"noopener noreferrer",target:"_blank"},"Node"),"/month")))):r.createElement(u.H0,null,"Free, Forever"),(null===t||void 0===t?void 0:t.monthlyDiscountPercentagePerNode)&&r.createElement(u.Flex,null,r.createElement(u.Text,null,r.createElement(u.Text,{strong:!0},100*t.monthlyDiscountPercentagePerNode,"% discount")," applicable on space and committed node prices, billed annually.")))},Ra=s.default.div.withConfig({displayName:"pricingDetails__OneLine",componentId:"sc-hbslp4-0"})(["white-space:nowrap white-space:nowrap;"]),Ba=function(e){var t=e.interval,n=e.currentPeriodTo,a=e.committedNodes,o=e.nodesLastPeriod,l=e.showPromotion,c=e.cancelling,i=e.onCancelPlan,s=(0,Fa.rA)().localeDateString,m=o-a;return r.createElement(u.Flex,{column:!0,gap:1},!!n&&r.createElement(u.TextSmall,null,r.createElement(u.TextSmall,{strong:!0,"data-testid":"billingPricingDetails-interval"},"Billing ".concat(Ea.go[t]))," ","(renews ",s(new Date(n),{long:!1}),")"),l&&"month"===t&&r.createElement(we.Z,{onClick:i,disabled:c},r.createElement(Ra,null,"Save 25% by changing your billing frequency to yearly")),"year"===t&&r.createElement(r.Fragment,null,r.createElement(u.TextSmall,null,"Committed Nodes:"," ",r.createElement(u.Text,{strong:!0,"data-testid":"billingPricingDetails-committedNodesNumber"},a)),"number"===typeof o&&r.createElement(u.TextSmall,null,0===m&&"Your current Period count is equal to commitment",0!==m&&r.createElement(r.Fragment,null,"Your current Period count is ",m>0?"above":"below"," by"," ",r.createElement(u.TextSmall,{color:m>0?"error":"success",strong:!0},m>0?"+":"",m," node",1===Math.abs(m)?"":"s")))))},_a=function(e){var t=e.features;return r.createElement(u.Flex,{column:!0,gap:1},t.map((function(e){return r.createElement(u.Flex,{gap:2,key:e},r.createElement(u.Box,{width:5},r.createElement(u.Icon,{name:"check",width:"20px",height:"20px",color:"primary"})),r.createElement(u.TextSmall,null,e))})),r.createElement(u.Flex,{gap:2},r.createElement(u.Box,{width:5}),r.createElement(we.Z,{Component:u.Flex,as:bn.rU,cursor:"pointer",alignItems:"center",gap:1,color:"text",hoverColor:"textFocus",to:"all-plans"},r.createElement(u.Text,{strong:!0},"View full details"),r.createElement(u.Icon,{name:"chevron_right",width:"16px",height:"16px"}))))},Ua=function(e){return function(t){var n=t.inModal,a=t.recurringIndex,o=t.setRecurringIndex,c=(0,l.Z)(t,Aa);return n?r.createElement(u.Flex,{width:"100%",justifyContent:"between",alignItems:"center"},r.createElement(e,Ma({},c)),r.createElement(u.Flex,{gap:3,padding:[0,10]},Ea.FC.map((function(e,t){return r.createElement(u.RadioButton,{key:e,checked:a===t,onChange:function(){return o(t)},"data-testid":"billingPaidPlans-".concat(e,"-radioButton")},r.createElement(u.Text,{color:"textDescription"},(0,Ke.fm)(Ea.go[e])))})))):r.createElement(e,Ma({},c))}}((function(e){var t=e.children;return r.createElement(u.H3,{"data-testid":"billingPricingDetails-activePlanName"},t)}));const Wa=function(e){var t,n=e.slug,a=e.prices,o=e.recurringIndex,l=void 0===o?1:o,c=e.setRecurringIndex,i=e.currentPlan,s=void 0===i?{}:i,m=e.isActive,d=e.showAllDetails,p=e.showTeaserDetails,f=e.cancelling,g=e.onCancelPlan,b=e.title,E=e.features,h=e.nodesLastPeriod,v=e.inModal;return r.createElement(u.Flex,{column:!0,gap:2},r.createElement(u.Flex,{alignItems:"center",gap:2},r.createElement(Ua,{inModal:v,recurringIndex:l,setRecurringIndex:c},b),m&&r.createElement(u.Pill,{flavour:"success","data-testid":"active-plan",icon:"checkmark_s",size:"normal",iconSize:"16px"},"Active")),(d||!m||"free"===n)&&r.createElement(La,Ma({},(null===(t=a[l])||void 0===t?void 0:t.pricing)||{})),p&&!!E&&r.createElement(_a,{features:E}),m&&!Zr(n)&&r.createElement(Ba,Ma(Ma({},s),{},{showPromotion:!0,cancelling:f,onCancelPlan:g,nodesLastPeriod:h})))};var Va=["slug","prices","freePlanId","isSmall","isActive","currentPlan","showAllPlans","showTeaserDetails","allPlansView","nodesLastPeriod"];function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ga=function(e){var t=e.slug,n=e.prices,a=void 0===n?[]:n,c=e.freePlanId,i=e.isSmall,s=e.isActive,m=e.currentPlan,d=e.showAllPlans,p=e.showTeaserDetails,f=e.allPlansView,E=void 0!==f&&f,h=e.nodesLastPeriod,y=(0,l.Z)(e,Va),O=Cr(),w=Sr(),x=Ea.Vc[t]||Ea.Vc.free,P=x.title,j=x.features,C=(0,g.gI)(b.mk.billingManage),S=(0,r.useState)({}),k=(0,o.Z)(S,2),D=k[0],I=k[1],T=(0,v.Z)(),Z=(0,o.Z)(T,4),F=Z[0],A=Z[2],N=Z[3],M=function(e){var t=e.currentPlan,n=e.slug,r=t.slug,a=t.interval;return r===n?Zr(n)?"Current plan":"year"===a?"Update plan options":"Change billing frequency":Zr(r)&&!Zr(n)||"pro"===r&&"business"===n?"Upgrade":"Select"}({currentPlan:m,slug:t}),L=(0,ye.Z)(),R=(0,o.Z)(L,2),B=R[0],_=R[1],U=(0,v.Z)(),W=(0,o.Z)(U,2),V=W[0],H=W[1],z=(0,wr.Zn)(),G=function(){V||O||(Zr(t)?I({type:"cancel"}):Zr(m.slug)?J("checkout"):J("update"))},Y=!!m.billingEmail,q=Y?Ta:Za,K=(0,un.m$)(),$=K.billingModalType,X=K.billingModalSlug,Q=["checkout","update"].includes($)&&t==X,J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,un.m$)();(0,un.xs)(za(za({},n),{},{billingModalType:e,billingModalSlug:""==e?e:t}))};return r.createElement(u.Flex,{column:!0,gap:7},r.createElement(u.Flex,za({column:!0,height:i?"auto":d?57:90,width:99.5,flex:i,padding:i?[6,10]:[0,10],gap:2,justifyContent:"between"},y),r.createElement(Wa,{slug:t,prices:a,isActive:s,currentPlan:m,cancelling:O,showAllDetails:d,showTeaserDetails:p,title:P,features:j,nodesLastPeriod:h,onCancelPlan:G}),!E&&r.createElement(Gn.Z,{Component:u.Button,permission:b.mk.billingManage,"data-ga":"upgrade-button::click-".concat(zr({slug:t}),"::current-").concat(zr(m),"::billing"),"data-testid":"billingPlan-".concat(t,"-").concat(s?"currentPlan":"upgradeButton"),label:M,flavour:Nr(null===m||void 0===m?void 0:m.slug,t),disabled:V||O||!!s&&Zr(t),width:"100%",onClick:G,isLoading:V,loadingLabel:"Cancelling"}),!d&&!Zr(m.slug)&&r.createElement(we.Z,{Component:u.Flex,as:bn.rU,cursor:"pointer",alignItems:"center",gap:1,color:"text",hoverColor:"textFocus",to:"all-plans",padding:[4,0,0],disabled:O,"data-testid":"billingPlan-viewMorePlansLink","data-ga":"change-plan::click::billing"},r.createElement("span",null,C?"Change plan":"View plans"),r.createElement(u.Icon,{name:"chevron_right",width:"16px",height:"16px"})),"cancel"===D.type&&!Zr(m.slug)&&!F&&r.createElement(ba,{title:P,onConfirm:function(){A(),w(),H(),z({productId:c}).then((function(){return B({header:"Successfully canceled subscription",text:"You are now on Community plan"})})).catch((function(){return _({header:"Failed to cancel the subscription",text:"Remained on ".concat(P," plan")})})).finally((function(){H(),w()}))},onClose:function(){N(),I({})}}),Q&&r.createElement(q,{title:P,onClose:function(){N(),J()},prices:a,currentPlan:m,showProrations:Y},r.createElement(Wa,{slug:t,prices:a,currentPlan:m,title:P,inModal:!0}))))};const Ya=function(e){var t=e.plans,n=e.freePlanId,a=e.isSmall,o=e.currentPlan,l=e.showAllPlans,c=e.showTeaserDetails;return r.createElement(u.Flex,{column:!0,gap:2,flex:!0},r.createElement(u.Flex,{column:a},r.createElement(Ga,{slug:"pro",prices:t.pro,freePlanId:n,isActive:"pro"===o.slug,isSmall:a,currentPlan:o,showAllPlans:l,showTeaserDetails:c}),r.createElement(Ir,{height:a?"1px":"100%",width:a?"100%":"1px",sx:{borderWidth:a?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}}),r.createElement(Ga,{slug:"business",prices:t.business,freePlanId:n,isActive:"business"===o.slug,isSmall:a,currentPlan:o,showAllPlans:l,showTeaserDetails:c})))};const qa=function(e){var t=e.isSmall,n=e.plans,a=e.currentPlan,o=e.showAllPlans,l=void 0!==o&&o,c=e.showTeaserDetails,i=void 0!==c&&c,s=e.children,m="earlyBird"===a.slug,d=((null===n||void 0===n?void 0:n.free)||[]).length>0?n.free[0].id:"Community";return r.createElement(u.Flex,{column:t,justifyContent:"between"},s,(l||!m)&&r.createElement(r.Fragment,null,r.createElement(Ga,{slug:"free",prices:n.free,freePlanId:d,width:t?"auto":70,isSmall:t,isActive:"free"===a.slug,currentPlan:a,showAllPlans:l}),r.createElement(Ir,{height:t?"1px":"100%",width:t?"100%":"1px",sx:{borderWidth:t?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}})),m&&r.createElement(r.Fragment,null,r.createElement(Ga,{slug:"earlyBird",prices:n.earlyBird,freePlanId:d,width:t?"auto":70,isSmall:t,isActive:"earlyBird"===a.slug,currentPlan:a,showAllPlans:l}),r.createElement(Ir,{height:t?"1px":"100%",width:t?"100%":"1px",sx:{borderWidth:t?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}})),r.createElement(Ya,{plans:n,freePlanId:d,isSmall:t,currentPlan:a,showAllPlans:l,showTeaserDetails:i}))};var Ka=["children"];function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Xa=function(e){var t=e.children,n=(0,l.Z)(e,Ka);return r.createElement(u.Flex,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alignItems:"center",gap:2},n),t)};const Qa=function(){return r.createElement(u.Flex,{column:!0,gap:2,width:65},r.createElement(u.TextMicro,{color:"bright"},r.createElement(u.TextMicro,{color:"bright",strong:!0},"Available credit")," ","for you to use on any plan subscriptions with us."),r.createElement(u.TextMicro,{color:"bright"},"It is ok to change your mind, we will give you full flexibility! You can change the plan level, billing frequency or committed nodes, we won't hold you to any choice. When applicable, we'll credit you back on any unused amount."))};const Ja=function(e){e.isSmall;var t=e.currentPlan,n=(0,wr.SH)(),a=(0,o.Z)(n,2),l=a[0],c=a[1],i=!!t.billingEmail&&!c,s=(0,g.gI)(b.mk.billingReadAll);return r.createElement(u.Flex,{column:!0,gap:2},r.createElement(u.H3,null,"Plan & Billing"),s&&r.createElement(r.Fragment,null,r.createElement(Xa,null,r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Credit:"),r.createElement(u.Text,{"data-testid":"billingHeader-credits",strong:!0},Kr.format(t.balance.amount||0)),r.createElement($e.Z,{content:Qa,align:"bottom",isBasic:!0},r.createElement(u.Icon,{name:"information",width:"16px",height:"16px",color:"textLite"}))),r.createElement(Ir,null),r.createElement(u.Text,null,"Billing email:"," ",r.createElement(u.Text,{strong:!0,"data-testid":"billingHeader-email"},t.billingEmail||"-")),r.createElement(Ir,null),r.createElement(we.Z,{Component:u.Flex,cursor:i?"pointer":"default",disabled:!i,onClick:l,alignItems:"center",gap:1,"data-ga":"billing-options::click::billing","data-testid":"billingHeader-goToPortal"},r.createElement("span",null,"Billing options and Invoices"),r.createElement(u.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"}))),r.createElement(Ir,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}})))};var eo=n(69119),to=n(71002),no=n(77349),ro=n(13882),ao=n(83946);var oo=n(11640);var lo=n(28789),co=n(23148),io=n(36337),so=n(26495),uo=n(92567),mo=n(23250),po=n(6264),fo=n(91182);function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eo={nodes:1,p90:2,committed_nodes:3},ho={"Daily count":"The weighted 90th percentile of the live node count during the day, taking time as the weight. If you have 30 live nodes throughout the day, except for a two hour peak of 44 live nodes, the daily value is 31.","Committed nodes":"The number of nodes committed to in the yearly plan. In case the period count is higher than the number of committed nodes, the difference is billed as overage.","Period count":"The 90th percentile of the daily counts for this period up to the date. The last value for the period is used as the number of nodes for the bill for that period."};co.kL.register(co.f$,co.uw,co.ZL,co.od,co.jn,co.De,co.u,co.ST,co.vn,io.Z),co.u.positioners.follow=function(e,t){return!(null===e||void 0===e?void 0:e.length)||t.y>360?(this._resolveAnimations().update(this,{opacity:0}),!1):(0===this.opacity&&this._resolveAnimations().update(this,{opacity:1}),{x:t.x,y:t.y})};var vo=function(e){return{nodes:{label:"Daily count",type:"bar",color:(0,u.getColor)("text")({theme:e}),backgroundColor:(0,u.getColor)("primary")({theme:e}),borderColor:(0,u.getColor)("primary")({theme:e}),borderWidth:2,pointStyle:"rectangle",usePointStyle:!0},p90:{label:"Period count",type:"line",color:(0,u.getColor)("text")({theme:e}),borderColor:(0,u.getColor)(["purple","lilac"])({theme:e}),borderWidth:2,fill:!1,stepped:!0},committed_nodes:{label:"Committed nodes",type:"line",color:(0,u.getColor)("text")({theme:e}),borderColor:(0,u.getColor)(["blue","aquamarine"])({theme:e}),borderWidth:2,fill:!1,borderDash:[1,2],borderDashOffset:1,pointStyle:!1}}},yo={border:{side:"all",color:"inputBorder",padding:[3]},round:!0},Oo=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(0);return a.setFullYear(t,n,r-1),a.setHours(23,59,59,999),a}(),wo=(0,eo.Z)(function(e,t){if((0,ro.Z)(2,arguments),!t||"object"!==(0,to.Z)(t))return new Date(NaN);var n=t.years?(0,ao.Z)(t.years):0,r=t.months?(0,ao.Z)(t.months):0,a=t.weeks?(0,ao.Z)(t.weeks):0,o=t.days?(0,ao.Z)(t.days):0,l=t.hours?(0,ao.Z)(t.hours):0,c=t.minutes?(0,ao.Z)(t.minutes):0,i=t.seconds?(0,ao.Z)(t.seconds):0,s=function(e,t){(0,ro.Z)(2,arguments);var n=(0,ao.Z)(t);return(0,no.Z)(e,-n)}(function(e,t){(0,ro.Z)(2,arguments);var n=(0,ao.Z)(t);return(0,oo.Z)(e,-n)}(e,r+12*n),o+7*a),u=1e3*(i+60*(c+60*l));return new Date(s.getTime()-u)}(Oo,{months:1}));const xo=function(e){var t=e.onNodesLastPeriodFetch,n=(0,po.by)("offset"),a=(0,h.th)(),l=(0,r.useState)((function(){return{start:wo,end:Oo}})),i=(0,o.Z)(l,2),m=i[0],d=i[1],p=(0,Vt.Z)((function(){return{enabled:!!a&&!!m.start&&!!m.end,fetch:function(){return(0,fo.fA)(a,{after:Math.floor((0,lo.Z)((0,Fa.tb)(m.start,n))/1e3),before:Math.floor((0,lo.Z)((0,Fa.tb)(m.end,n))/1e3)})},initialValue:{labels:[],data:[]},onSuccess:function(e){var n=e.data,r=e.labels;if(n.length){var a=n.at(-1),o=a[r.indexOf("nodes")],l=a[r.indexOf("timestamp")];t((function(e){return e.timestamp>l?e:{timestamp:l,value:o}}))}}}}),[a,m,t]),f=(0,o.Z)(p,3),g=f[0],b=f[1],E=f[2],v=(0,r.useContext)(s.ThemeContext),y=(0,r.useMemo)((function(){var e=g.data.map((function(e){return(0,o.Z)(e,1)[0]})),t=g.labels.reduce((function(t,n,r){return r?[bo(bo({},vo(v)[n]),{},{data:e.map((function(e,t){return g.data[t][r]})),order:Eo[n]})].concat((0,ca.Z)(t)):t}),[]);return{labels:e,datasets:t}}),[g]),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,a=t.annotations,l=void 0===a?[]:a,i=(0,Fa.rA)().localeDateString,s=(0,r.useRef)(!1),m=(0,r.useRef)(),d=(0,r.useMemo)((function(){return{interaction:{axis:"x"},plugins:{legend:{position:"bottom",align:"start",onClick:function(e,t,n){var r=n.legendItems.findIndex((function(e){return e.text===t.text}));n.chart.isDatasetVisible(r)?n.chart.hide(r):n.chart.show(r)},labels:{generateLabels:function(e){return e.data.datasets.map((function(t,n){return{fontColor:t.color,text:t.label,fillStyle:t.backgroundColor,strokeStyle:t.borderColor,pointStyle:"Daily count"===t.label?"rect":"line",hidden:!e.isDatasetVisible(n),order:t.order}})).sort((function(e,t){return e.order-t.order}))},usePointStyle:!0},onHover:function(e,t){!s.current&&m.current&&(s.current=!0,m.current.innerHTML=ho[t.text],m.current.style.left=e.x+"px",m.current.style.top=e.y+"px",m.current.style.visibility="visible",m.current.style.transform="translateY(-100%)")},onLeave:function(){m.current&&(s.current=!1,m.current.innerHTML="",m.current.style.visibility="hidden")}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,yAlign:"bottom",usePointStyle:!0,position:"follow",backgroundColor:(0,u.getColor)("panel")({theme:e}),color:(0,u.getColor)(["neutral","iron"])({theme:e}),callbacks:{title:function(e){var t=(0,o.Z)(e,1)[0];return t?i(1e3*t.label,{month:"2-digit",day:"2-digit",year:"numeric",long:!1,dateStyle:void 0}):""},labelPointStyle:function(e){return{pointStyle:"Total Nodes"===e.dataset.label?"rect":"line"}},label:function(e){return"  ".concat(e.formattedValue," ").concat(e.dataset.label||"")}}},annotation:{annotations:l.reduce((function(t,r,a){return bo(bo({},t),{},(0,c.Z)({},"annotation".concat(a),{type:"line",value:n.findIndex((function(e){return e[0]===r.timestamp})),borderColor:(0,u.getRgbColor)(["blue","indigo"],.3)({theme:e}),borderDashOffset:0,borderWidth:10,drawTime:"afterDatasetsDraw",label:{drawTime:"afterDatasetsDraw",display:!1,backgroundColor:(0,u.getRgbColor)(["blue","indigo"],.8)({theme:e}),borderWidth:0,color:"white",content:r.name,textAlign:"center"},scaleID:"x",enter:function(e,t){var n=e.chart,r=n.options.plugins.annotation.annotations["annotation".concat(a)];r.label.display=!0,r.label.position=t.y/e.chart.chartArea.height>.5?"start":"end",n.update()},leave:function(e){var t=e.chart;t.options.plugins.annotation.annotations["annotation".concat(a)].label.display=!1,t.update()}}))}),{})}},responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{callback:function(e){return i(1e3*this.getLabelForValue(e),{month:"2-digit",day:"2-digit",year:"numeric",long:!1,dateStyle:void 0})},color:(0,u.getColor)("textLite")({theme:e})}},y:{beginAtZero:!0,ticks:{color:(0,u.getColor)("textLite")({theme:e})}}}}}),[e,n]);return[d,m]}(v,g),w=(0,o.Z)(O,2),x=w[0],P=w[1];return r.createElement(u.Flex,{column:!0,gap:4},r.createElement(u.Flex,{alignItems:"center",justifyContent:"between"},r.createElement(u.H3,null,"Usage"),r.createElement(uo.Z,{values:m,utc:n,onChange:d,tagging:"billing-usage",isPlaying:!1,onlyDates:!0,accessorProps:yo,padding:[4,0],width:"auto",maxDate:Oo})),r.createElement(u.Flex,{position:"relative",height:90},b?r.createElement(hn.Z,{title:"Loading billing data..."}):E?r.createElement(mo.NY,{title:"Chart couldn't be loaded"}):r.createElement(so.kL,{type:"bar",data:y,options:x}),r.createElement(u.Flex,{ref:P,background:"panel",color:["neutral","iron"],position:"absolute",round:!0,padding:[3],width:{max:75},sx:{visibility:"hidden"},onMouseOver:function(){return P.current.style.visibility="hidden"}})))};const Po=function(e){var t=e.isSmall,n=e.currentPlan,a=e.loaded,l=e.currentLoaded,c=e.plans,i=((null===c||void 0===c?void 0:c.free)||[]).length>0?c.free[0].id:"Community",s=(0,r.useState)({timestamp:null,value:null}),u=(0,o.Z)(s,2),m=u[0],d=u[1];return r.createElement(r.Fragment,null,r.createElement(Ja,{isSmall:t,currentPlan:n}),a&&l?r.createElement(r.Fragment,null,Zr(n.slug)?r.createElement(qa,{isSmall:t,plans:c,currentPlan:n,showTeaserDetails:!0}):r.createElement(Ga,{slug:n.slug,prices:c[n.slug],freePlanId:i,width:t?"auto":120,padding:[0],height:"auto",isSmall:t,isActive:!0,currentPlan:n,allPlansView:!0,nodesLastPeriod:m.value}),r.createElement(Ir,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),r.createElement(xo,{onNodesLastPeriodFetch:d})):r.createElement(hn.Z,{title:a?"Loading billing info...":"Loading Netdata plans..."}))};var jo=n(28317),Co={year:"Yearly",month:"Monthly"};const So=function(e){var t,n=e.plans,a=e.currentPlan,l=(0,h.uk)(),c=Cr(),i=Sr(),s=(0,wr.SH)(),m=(0,o.Z)(s,2),d=m[0],p=m[1],f=!!a.billingEmail&&!p,E=(0,v.Z)(),y=(0,o.Z)(E,2),O=y[0],w=y[1],x=(0,v.Z)(),P=(0,o.Z)(x,2),j=P[0],C=P[1],S=(0,ye.Z)(),k=(0,o.Z)(S,2),D=k[0],I=k[1],T=(0,wr.Zn)(),Z=(Ea.Vc[a.slug]||Ea.Vc.free).title,F=((null===n||void 0===n?void 0:n.free)||[]).length>0?n.free[0].id:"Community",A=(0,g.gI)(b.mk.billingManage),N=(0,g.gI)(b.mk.billingReadAll),M=(Ea.Vc[null===a||void 0===a?void 0:a.slug]||Ea.Vc.free).title,L=Co[null===a||void 0===a?void 0:a.interval];return r.createElement(u.Flex,{column:!0,gap:2},r.createElement(u.Flex,{gap:2,alignItems:"center"},r.createElement(we.Z,{as:bn.rU,to:"/spaces/".concat(l,"/settings/billing"),disabled:c,color:"text",hoverColor:"textLite",showToolTip:!0,content:"Back to Plan & Billing",align:"bottom",isBasic:!0},r.createElement(u.Icon,{name:"arrow_left",width:"20px",height:"20px",margin:[1.5,0,0]})),r.createElement(u.H3,null,"All Plans")),r.createElement(Xa,null,r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Active plan:"),r.createElement(u.Text,{strong:!0},M)),r.createElement(Ir,null),L&&r.createElement(r.Fragment,null,r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Billing frequency:"),r.createElement(u.Text,{strong:!0},L)),r.createElement(Ir,null)),"Yearly"===L&&r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Committed Nodes:"),r.createElement(u.Text,{strong:!0},(null===a||void 0===a?void 0:a.committedNodes)||0)),r.createElement(Ir,null),N&&r.createElement(r.Fragment,null,r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Credit:"),r.createElement(u.Text,{strong:!0},Kr.format((null===(t=null===a||void 0===a?void 0:a.balance)||void 0===t?void 0:t.amount)||0)),r.createElement($e.Z,{content:Qa,align:"bottom",isBasic:!0},r.createElement(u.Icon,{name:"information",width:"16px",height:"16px",color:"textLite"}))),r.createElement(Ir,null),r.createElement(u.Flex,{gap:1,alignItems:"center"},r.createElement(u.Text,null,"Billing email:"),r.createElement(u.Text,{strong:!0},(null===a||void 0===a?void 0:a.billingEmail)||"-")),r.createElement(Ir,null)),r.createElement(we.Z,{Component:u.Flex,cursor:f?"pointer":"default",disabled:!f,onClick:d,alignItems:"center",gap:1},r.createElement("span",null,"Billing options and Invoices"),r.createElement(u.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"})),!Zr(null===a||void 0===a?void 0:a.slug)&&r.createElement(r.Fragment,null,r.createElement(Ir,null),r.createElement(we.Z,{Component:u.Flex,cursor:"pointer",onClick:w,alignItems:"center",gap:1,disabled:j||c||!A,"data-ga":"cancel-plan::click::billing"},r.createElement(u.Text,{textDecoration:"underline"},j||c?"Canceling plan...":"Cancel plan")))),r.createElement(Ir,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),O&&r.createElement(ba,{title:"Community",onConfirm:function(){C(),i(),T({productId:F}).then((function(){return(0,jo.L)("billing","cancel-plan","global-view",{slug:null===a||void 0===a?void 0:a.slug,interval:null===a||void 0===a?void 0:a.interval,success:!0}),D({header:"Successfully canceled subscription",text:"You are now on Community plan"})})).catch((function(){return(0,jo.L)("billing","cancel-plan","global-view",{slug:null===a||void 0===a?void 0:a.slug,interval:null===a||void 0===a?void 0:a.interval,success:!1}),I({header:"Failed to cancel the subscription",text:"Remained on ".concat(Z," plan")})})).finally((function(){C(),i()}))},onClose:w}))};var ko=["center","end"];function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Io=s.default.div.withConfig({displayName:"plansDetails__Container",componentId:"sc-t6ze2m-0"})(["display:grid;",""],(function(e){return e.isEarlyBird?"grid-template-columns: 1fr 1.5fr 1.5fr 1.5fr 1.5fr;":"grid-template-columns: 1fr 1.5fr 1.5fr 1.5fr;"})),To=s.default.div.withConfig({displayName:"plansDetails__Header",componentId:"sc-t6ze2m-1"})(["display:contents;> *{background:",";border-bottom:1px solid ",";}"],(0,u.getColor)("panelBg"),(0,u.getColor)("separator")),Zo=(0,s.default)(u.Collapsible).withConfig({displayName:"plansDetails__Content",componentId:"sc-t6ze2m-2"})(["display:contents;"]),Fo=function(e){var t=e.center,n=e.end,a=(0,l.Z)(e,ko);return r.createElement(u.Flex,{alignItems:"center",justifyContent:t?"center":n?"end":"start",padding:[2]},r.createElement(u.Text,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a)))},Ao=function(){return r.createElement(u.Icon,{name:"check",color:"primary"})},No=function(){return r.createElement(u.Icon,{name:"checkmark_partial_s",color:"textLite"})},Mo=function(){return r.createElement(u.Icon,{name:"chevron_down_thin",color:"text"})},Lo=function(){return r.createElement(u.Icon,{name:"chevron_up_thin",color:"text"})};const Ro=function(e){var t="earlyBird"===(e.currentPlan||{}).slug,n=(0,r.useState)((function(){return[!1,!1,!1,!1,!1]})),a=(0,o.Z)(n,2),l=a[0],c=a[1],i=function(e){return c((function(t){return t[e]=!t[e],(0,ca.Z)(t)}))};return r.createElement(r.Fragment,null,r.createElement(Io,{isEarlyBird:t},r.createElement(To,{onClick:function(){return i(0)}},r.createElement(Fo,{strong:!0},"Usage Allowances"),r.createElement(Fo,null),t&&r.createElement(Fo,null),r.createElement(Fo,null),r.createElement(Fo,{end:!0},l[0]?r.createElement(Lo,null):r.createElement(Mo,null))),r.createElement(Zo,{open:!l[0]},r.createElement(Fo,null,"Single Node Metrics Access Limit"),r.createElement(Fo,{center:!0},"UNLIMITED"),t&&r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,null,"Multi-Node Infrastructure Metrics Access Limit"),r.createElement(Fo,{center:!0},"UNLIMITED"),t&&r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,{center:!0},"UNLIMITED"),r.createElement(Fo,null,r.createElement(u.Text,{id:"auditing-events"},"Auditing Events"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"events-related-to-actions-done-on-your-space-eg-invite-user-change-user-role-or-create-room"},"Events related to actions done on your Space, e.g. invite user, change user role or create room")),r.createElement(Fo,{center:!0},"4 hours"),t&&r.createElement(Fo,{center:!0},"4 hours"),r.createElement(Fo,{center:!0},"7 days"),r.createElement(Fo,{center:!0},"90 days"),r.createElement(Fo,null,r.createElement(u.Text,{id:"topology-events"},"Topology Events"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"node-state-transition-events-eg-live-or-offline"},"Node state transition events, e.g. live or offline")),r.createElement(Fo,{center:!0},"4 hours"),t&&r.createElement(Fo,{center:!0},"4 hours"),r.createElement(Fo,{center:!0},"7 days"),r.createElement(Fo,{center:!0},"14 days"),r.createElement(Fo,null,r.createElement(u.Text,{id:"alert-events"},"Alert Events"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"alert-state-transition-events-can-be-seen-as-an-alert-history-log"},"Alert state transition events, can be seen as an alert history log")),r.createElement(Fo,{center:!0},"4 hours"),t&&r.createElement(Fo,{center:!0},"4 hours"),r.createElement(Fo,{center:!0},"7 days"),r.createElement(Fo,{center:!0},"60 days"),r.createElement(Fo,null,"Globally Administered Alerts Notifications Integrations"),r.createElement(Fo,{center:!0},"Email and Discord"),t&&r.createElement(Fo,{center:!0},"Email and Discord"),r.createElement(Fo,{center:!0},"Email, Discord and Webhook"),r.createElement(Fo,{center:!0},"UNLIMITED"))),r.createElement(Io,{isEarlyBird:t},r.createElement(To,{onClick:function(){return i(1)}},r.createElement(Fo,{strong:!0},"User Administration"),r.createElement(Fo,null),t&&r.createElement(Fo,null),r.createElement(Fo,null),r.createElement(Fo,{end:!0},l[1]?r.createElement(Lo,null):r.createElement(Mo,null))),r.createElement(Zo,{open:!l[1]},r.createElement(Fo,null,"Role Based Access"),r.createElement(Fo,{center:!0},"Basic"),t&&r.createElement(Fo,{center:!0},"Basic"),r.createElement(Fo,{center:!0},"Basic"),r.createElement(Fo,{center:!0},"Advanced"),r.createElement(Fo,null,r.createElement(u.Text,{id:"administrators"},"Administrators"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"administrators-have-unrestricted-access-to-a-space"},"Administrators have unrestricted access to a space")),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,r.createElement(u.Text,{id:"managers"},"Managers"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"same-as-admins-but-unable-to-add-nodes-or-manage-the-space-settings"},"Same as admins, but unable to add nodes, or manage the space settings")),r.createElement(Fo,{center:!0},r.createElement(No,null)),t&&r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,r.createElement(u.Text,{id:"troubleshooters"},"Troubleshooters"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"same-as-managers-but-unable-to-manage-users-or-rooms"},"Same as managers, but unable to manage users or rooms")),r.createElement(Fo,{center:!0},r.createElement(No,null)),t&&r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,r.createElement(u.Text,{id:"observers"},"Observers"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"read-only-role-restricted-to-specific-rooms"},"Read only role, restricted to specific rooms")),r.createElement(Fo,{center:!0},r.createElement(No,null)),t&&r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,r.createElement(u.Text,{id:"billing"},"Billing"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"access-to-billing-details-and-subscription-management"},"Access to billing details and subscription management")),r.createElement(Fo,{center:!0},r.createElement(No,null)),t&&r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(r.Fragment,null,r.createElement(Fo,null,r.createElement(u.Text,{id:"billing"},"Member"),r.createElement("br",null),r.createElement(u.TextSmall,{color:"textDescription",id:"access-to-billing-details-and-subscription-management"},"This role allows users to manage War Rooms and invite fellow Member teammates. These users cannot see all War Rooms in the Space but can see all Nodes since they are always on the All Nodes.")),r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(No,null)),r.createElement(Fo,{center:!0},r.createElement(No,null))))),r.createElement(Io,{isEarlyBird:t},r.createElement(To,{onClick:function(){return i(2)}},r.createElement(Fo,{strong:!0},"Support"),r.createElement(Fo,null),t&&r.createElement(Fo,null),r.createElement(Fo,null),r.createElement(Fo,{end:!0},l[2]?r.createElement(Lo,null):r.createElement(Mo,null))),r.createElement(Zo,{open:!l[2]},r.createElement(Fo,null,"Service Availability"),r.createElement(Fo,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),t&&r.createElement(Fo,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),r.createElement(Fo,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),r.createElement(Fo,{center:!0,textAlign:"center"},"99.9% annually (excl. scheduled maintenance)"),r.createElement(Fo,null,"Technical Support"),r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),t&&r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),r.createElement(Fo,null,"Initial Deployment Consulting Services"),r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),t&&r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),r.createElement(Fo,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),r.createElement(Fo,{center:!0,textAlign:"center"},"Remote Consultation Available upon Request"),r.createElement(Fo,null,"Alerts Digest"),r.createElement(Fo,{center:!0},"Limited"),t&&r.createElement(Fo,{center:!0},"Limited"),r.createElement(Fo,{center:!0},"Limited"),r.createElement(Fo,{center:!0},"Unlimited"))),r.createElement(Io,{isEarlyBird:t},r.createElement(To,{onClick:function(){return i(3)}},r.createElement(Fo,{strong:!0},"Advanced features"),r.createElement(Fo,null),t&&r.createElement(Fo,null),r.createElement(Fo,null),r.createElement(Fo,{end:!0},l[3]?r.createElement(Lo,null):r.createElement(Mo,null))),r.createElement(Zo,{open:!l[3]},r.createElement(Fo,null,"Custom Dashboards - incl. Grafana"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Nodes secured for access via Cloud only"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Secure Worldwide Remote Access to Dashboards"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited Service Level War Room Views"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Centrally Dispatched Alerts Notifications"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Infrastructure and Service Level Nodes Views"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Infrastructure and Service Level Alerts Views"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Infrastructure and Service Level Charts and Dashboards"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Infinite Horizontal Scalability"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Machine Learning and Anomaly Advisor for All Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Advanced Troubleshooting with Metric Correlations"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Microservices Monitoring - incl. Kubernetes"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)))),r.createElement(Io,{isEarlyBird:t},r.createElement(To,{onClick:function(){return i(4)}},r.createElement(Fo,{strong:!0},"Basic features"),r.createElement(Fo,null),t&&r.createElement(Fo,null),r.createElement(Fo,null),r.createElement(Fo,{end:!0},l[4]?r.createElement(Lo,null):r.createElement(Mo,null))),r.createElement(Zo,{open:!l[4]},r.createElement(Fo,null,"Unlimited Nodes"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited Containers"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited Users"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited High Resolution Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited High Resolution Custom Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited Metrics Retention"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"1s granularity + 100ms Latency for All Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"1000+ Integrations with Data Stores, Servers, and more"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Metrics Extration from web logs"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Zero Configuration Setup"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Auto-Detection of Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Pre-configured and out-of-the-box Alerts"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Unlimited Synthetic Checks"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Auto generated Dashboards for All Metrics"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Metrics data exclusively stored On Premise"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Popular Alerts Notifications"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,null,"Open Data Exporters - Prometheus, Graphite, InfluxDB, and more"),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),t&&r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)),r.createElement(Fo,{center:!0},r.createElement(Ao,null)))))};const Bo=function(e){var t=e.plans,n=e.loaded,a=e.currentLoaded,o=e.currentPlan;return r.createElement(u.Flex,{column:!0,height:"calc(100% - 30px)",gap:3},r.createElement(So,{plans:t,currentPlan:o}),n&&a?r.createElement(u.Flex,{column:!0,gap:5},r.createElement(qa,{plans:t,currentPlan:o,showAllPlans:!0},r.createElement(u.Flex,{column:!0,height:50,width:40,justifyContent:"center"},r.createElement(u.Text,{strong:!0},"Pricing"))),r.createElement(Ro,{currentPlan:o})):r.createElement(hn.Z,{title:n?"Loading billing info...":"Loading Netdata plans..."}))};var _o={Community:0,Pro:1,Business:2},Uo={month:"Monthly",year:"Yearly"},Wo=function(e){var t=e.from,n=e.to,r=e.fromNodes,a=e.toNodes,o=e.interval,l=e.success,c=void 0===l||l,i=Uo[o]||o;if(t===n&&r===a)return{header:c?"Successful billing cycle change":"Failed to update billing cycle",text:c?"Subscription billing cycle changed to ".concat(i):"Subscription is still on ".concat(i," billing cycle")};if(t===n)return{header:c?"Successful change of commitment":"Failed to change the commitment",text:c?"Commitment ".concat(r<a?"increased":"decreased"," from ").concat(r," to ").concat(a," nodes"):"Commitment remained the same, ".concat(r," nodes")};var s=_o[t]>_o[n];return{header:c?"Successfully ".concat(s?"downgraded":"upgraded"," plan"):"Failed to ".concat(s?"downgrade":"upgrade"," plan"),text:c?"Subsrciprion ".concat(s?"downgraded":"upgraded"," from ").concat(t," to ").concat(n," plan (").concat(i,")"):"Remained on ".concat(t," plan")}};const Vo=function(){!function(){var e=(0,bn.lr)(),t=(0,o.Z)(e,2),n=t[0],a=t[1],l=(0,ye.Z)(),c=(0,o.Z)(l,2),i=c[0],s=c[1];(0,r.useEffect)((function(){var e=n.get("from"),t=n.get("from_committed_nodes"),r=n.get("interval"),o=n.get("result"),l=n.get("to"),c=n.get("to_committed_nodes");switch(o){case"success":var u={from:e,fromNodes:t,interval:r,to:l,toNodes:c,success:!0};i(Wo(u)),(0,jo.L)("billing","callback","global-view",u);break;case"failure":var m={from:e,fromNodes:t,interval:r,to:l,toNodes:c,success:!1};s(Wo(m)),(0,jo.L)("billing","callback","global-view",m)}o&&a("")}),[n])}();var e=(0,wr.Gl)(),t=e.loaded,n=e.value,l=(0,wr.RP)(),c=l.loaded,i=l.value,s=(0,Or.m)();return r.createElement(u.Flex,{column:!0,height:"calc(100% - 30px)",gap:3},r.createElement(jr,null,r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/all-plans",element:r.createElement(Bo,{isSmall:s,currentPlan:i,loaded:t,currentLoaded:c,plans:n})}),r.createElement(a.AW,{path:"/",element:r.createElement(Po,{isSmall:s,currentPlan:i,loaded:t,currentLoaded:c,plans:n})}))))};var Ho=["settingsTab"];function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yo=(0,s.default)(m.G).withConfig({displayName:"manage-workspace__ColumnHeader",componentId:"sc-j9n54n-0"})(["width:180px;padding:16px;"]),qo=function(e){return function(t){return r.createElement(d.TZ,{height:"calc(100vh - ".concat((0,u.getSizeBy)(p.A/2),")")},r.createElement(e,Go({},t)))}},Ko=qo(sr),$o=qo(Ye),Xo=qo(vt),Qo=qo(ft),Jo=function(e){return function(t){return r.createElement(d.TZ,Go({},{height:"100%",padding:[4,0,0,0]}),r.createElement(e,Go({},t)))}}(Rn),el=qo((function(e){var t=e.toggleCreation,n=(0,l.Z)(e,pr),a=dr({toggleCreation:t}),o=a.schema,i=a.data,s=a.rowActions,m=a.bulkActions;return r.createElement(r.Fragment,null,r.createElement(u.Box,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:"calc(100% - 30px)"},n),r.createElement(u.H3,{padding:[0,0,3,0]},"Bookmarks"),r.createElement(u.NetdataTable,{dataColumns:o,data:i,rowActions:s,bulkActions:m,testPrefixCallback:function(e){return e.name}})))})),tl=qo(Vo);const nl=(0,r.memo)((function(){var e=(0,a.s0)(),t=(0,a.TH)(),n=t.state,c=void 0===n?{}:n,s=t.pathname,m=(0,a.UO)(),f=m.settingsTab,E=(0,l.Z)(m,Ho),v=(0,r.useState)((null===c||void 0===c?void 0:c.previousUrlPath)||null),y=(0,o.Z)(v,1)[0],O=(0,h.OS)("name"),w=function(e){var t=H.dH.indexOf(e);return-1!==t?t:H.z2}(f),x=(0,r.useCallback)((function(t){var n=function(e,t){var n=e.split("/"),r=n.indexOf("settings")+1-n.length;return"".concat(n.slice(0,r).join("/"),"/").concat(H.dH[t]||H.z2)}(s,t);e(n)}),[f]);(0,r.useEffect)((function(){H.fV[f]||e((0,i.Gn)(s,Go(Go({},E),{},{settingsTab:H.z2})))}),[]);var P=(0,g.gI)(b.mk.billingReadBasic),j=(0,g.gI)(b.mk.roomReadAll),C=(0,g.gI)(b.mk.userReadAll),S=(0,g.gI)(b.mk.channelReadAll),D=(0,k.jW)();(0,r.useEffect)((function(){P||f===H.fM&&e((0,i.Gn)(s,Go(Go({},E),{},{settingsTab:H.z2})))}),[P,f]);var I=(0,r.useState)(!1),T=(0,o.Z)(I,2),Z=T[0],F=T[1],A=(0,h.uk)(),N=(0,r.useCallback)((function(){e(y||"/spaces/".concat(A))}),[y,A]);return O?r.createElement(d.oU,{"data-testid":"manageWorkspaceModal",right:!0,closeOnOverlayClick:!0,onClose:N},r.createElement(p.x,{"data-testid":"manageWorkspaceModal-header",onClose:N,title:r.createElement(yr,null)}),r.createElement(br.Z,null),r.createElement(u.Tabs,{row:!0,column:!1,"data-testid":"manageWorkspaceModal-tabs",selected:w,onChange:x,TabsHeader:Yo,tabsProps:{column:!0},height:"100%",noDefaultBorder:!0},r.createElement(u.Tab,{basis:0,"data-testid":"manageWorkspaceModal-spaceTab",label:H.fV[H.m3],"data-ga":"manage-space::click-tab::space-tab",isMenuItem:!0},r.createElement(Ko,{"data-testid":"manageWorkspaceModal-spaceTabContent",onClose:N,small:!0})),r.createElement(u.Tab,{basis:0,"data-testid":"manageWorkspaceModal-warRoomsTab","data-ga":"manage-space::click-tab::rooms-tab",label:"War Rooms",isMenuItem:!0},r.createElement($o,{"data-testid":"manageWorkspaceModal-warRoomsTabContent"})),(j||D)&&r.createElement(u.Tab,{basis:0,label:"Nodes","data-testid":"manageWorkspaceModal-nodesTab","data-ga":"manage-space::click-tab::nodes-tab",isMenuItem:!0},r.createElement(Xo,{"data-testid":"manageWorkspaceModal-nodesTabContent"})),C&&r.createElement(u.Tab,{basis:0,"data-testid":"manageWorkspaceModal-usersTab","data-ga":"manage-space::click-tab::users-tab",label:"Users",isMenuItem:!0},r.createElement(Qo,{"data-testid":"manageWorkspaceModal-usersTabContent"})),S&&r.createElement(u.Tab,{basis:0,label:"Alerts & Notifications","data-testid":"manageWorkspaceModal-notificationsTab","data-ga":"manage-space::click-tab::notifications-tab",isMenuItem:!0},r.createElement(Jo,null)),r.createElement(u.Tab,{basis:0,label:"Bookmarks","data-testid":"manageWorkspaceModal-bookmarksTab","data-ga":"manage-space::click-tab::bookmarks-tab",isMenuItem:!0},r.createElement(el,{"data-testid":"manageWorkspaceModal-bookmarksTabContent",toggleCreation:function(){return F((function(e){return!e}))}})),P&&r.createElement(u.Tab,{basis:0,"data-testid":"manageWorkspaceModal-billingTab","data-ga":"manage-space::click-tab::billing-tab",label:"Plan & Billing",isMenuItem:!0},r.createElement(tl,{"data-testid":"manageWorkspaceModal-billingTabContent"}))),Z&&r.createElement(gr.J,{onToggle:F,isSubDialog:!0})):null}));const rl=function(){var e=(0,a.TH)(),t=e.pathname,n=e.state;return r.createElement(a.Z5,null,r.createElement(a.AW,{path:"/",element:r.createElement(a.Fg,{state:n,to:{pathname:"".concat(t,"/").concat(H.z2)}})}),r.createElement(a.AW,{path:":settingsTab/*",element:r.createElement(nl,null)}))}},19262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(4942),a=n(67294),o=n(54851),l=n(89250),c=n(2086),i=n(87357),s=n(15861),u=n(29439),m=n(64687),d=n.n(m),p=n(4480),f=n(88715),g=n(40816),b=n(73575),E=n(38700),h=n(66738),v=n(50237),y=n(97510);var O=n(77121);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var x="leave-space-dialog",P="leaveSpaceDialog";const j=function(e){var t=e.id,n=e.name,m=e.onClose,j=(0,l.s0)(),C=(0,c.Iy)("id"),S=(0,i.H4)(),k=(0,i.nP)(),D=(0,i.Wy)(),I=function(e){var t=(0,f.Z)(),n=(0,u.Z)(t,2)[1];return(0,p._8)((function(t){var r=t.snapshot,a=t.set,o=t.reset;return function(){var t=(0,s.Z)(d().mark((function t(l){var c,s,m,p,f,O,w,x,P;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=l.currentUserId,s=l.onSuccess,m=l.onError,t.next=3,r.getPromise((0,E.st)("ids"));case 3:if(p=t.sent,f=p.filter((function(t){return e!==t})),O=(0,u.Z)(f,1),w=O[0]){t.next=9;break}return n({header:"Spaces",text:b.T$.leave}),t.abrupt("return");case 9:if(t.t0=w,!t.t0){t.next=14;break}return t.next=13,r.getPromise((0,v.ZP)(w));case 13:t.t0=t.sent;case 14:return x=t.t0,P=x.slug,a((0,E.st)("ids"),f),a(h.Z,(function(t){return t.filter((function(t){return t!==e}))})),t.prev=18,t.next=21,(0,g.Sz)(e,[c]);case 21:s&&s(P),(0,i.zm)(o,e),(0,y.r1)(o,e),o((0,v.ZP)(e)),t.next=31;break;case 27:t.prev=27,t.t1=t.catch(18),a((0,E.st)("ids"),p),m&&m();case 31:case"end":return t.stop()}}),t,null,[[18,27]])})));return function(e){return t.apply(this,arguments)}}()}),[e])}(t),T=(0,O.Z)(t),Z=(0,a.useCallback)((function(e){return j("/spaces/".concat(e))}),[]),F=1===S.length,A=1===k.length&&D,N=F?{confirmLabel:"Yes, leave","data-ga":"".concat(x,"-last-member"),"data-testid":"".concat(P,"LastMember"),handleConfirm:function(){return T({onSuccess:Z})},message:a.createElement(a.Fragment,null,"If you leave, space ",a.createElement("strong",null,n)," will be deleted immediately.",a.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(n," space")}:A?{confirmLabel:"Give rights","data-ga":"".concat(x,"-last-admin"),"data-testid":"".concat(P,"LastAdmin"),handleConfirm:function(){return j("users")},isConfirmPositive:!0,message:a.createElement(a.Fragment,null,"You are the last admin of ",a.createElement("strong",null,n)," space. Please give admin rights to another member so you can leave this space."),title:"Leave ".concat(n," space")}:{confirmLabel:"Yes, leave","data-ga":x,"data-testid":P,handleConfirm:function(){return I({currentUserId:C,onSuccess:Z})},message:a.createElement(a.Fragment,null,"You are about to leave ",a.createElement("strong",null,n)," space.",a.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(n," space")};return a.createElement(o.ConfirmationDialog,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({handleDecline:m},N))}},73955:(e,t,n)=>{var r=n(79833),a=0;e.exports=function(e){var t=++a;return r(e)+t}}}]);