!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="369a7d39-e18c-4b4d-9d5c-1676dbbb7988",e._sentryDebugIdIdentifier="sentry-dbid-369a7d39-e18c-4b4d-9d5c-1676dbbb7988")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"8b7b01b6c705cf50f8050ce0fb8fc6b58fe68567"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[3017],{23017:function(e,n,t){t.r(n),t.d(n,{OptOut:function(){return d.Z},OptOutModal:function(){return f.Z},TrialMessage:function(){return m.Z},TrialWarning:function(){return u},TrialWelcome:function(){return s},useBusinessPlan:function(){return g.Z},useTrial:function(){return b.Z}});t(66992),t(41539),t(88674),t(78783),t(33948);var r=t(67294),a=t(2145),i=t(13477),l=t(14808),o=(0,a.Z)((function(){return t.e(5112).then(t.bind(t,46469))}),"Warnings"),u=function(e){var n=(0,i.Iy)("isAnonymous");return l.Z3&&!n?r.createElement(r.Suspense,{fallback:""},r.createElement(o,e)):null},c=(0,a.Z)((function(){return t.e(9886).then(t.bind(t,39886))}),"Modal"),s=function(e){var n=(0,i.Iy)("isAnonymous");return l.Z3&&!n?r.createElement(r.Suspense,{fallback:""},r.createElement(c,e)):null},d=t(29292),f=t(62195),m=t(66987),g=t(80413),b=t(60511)},62195:function(e,n,t){var r=t(29439),a=(t(41539),t(88674),t(17727),t(67294)),i=t(50308),l=t.n(i),o=t(93416),u=t(36285),c=t(93017),s=t(39979),d=t(54005),f=t(63346),m=t(46667),g=t(23154),b=(0,s.Z)(o.Button);n.Z=function(e){var n=e.onConfirm,t=e.onDecline,i=void 0===t?l():t,s=e.onCancellingEnd,p=void 0===s?l():s,y=(0,u.Zn)(),v=(0,c.Z)(),E=(0,r.Z)(v,2),Z=E[0],h=E[1],w=(0,g.Z)().id,k=(0,d.Z)(),T=k.sendLog,x=k.isReady,B=(0,m.Z)(),O=(0,r.Z)(B,4),I=O[0],C=O[2],S=O[3],D=(0,a.useCallback)((function(){C(),y({productId:w}).then((function(){Z({header:"Successfully canceled subscription",text:"You are now on Community plan"}),T({feature:"TrialOptOut",isSuccess:!0})})).catch((function(){h({header:"Failed to cancel the subscription",text:"Remained on Business plan"}),T({feature:"TrialOptOut",isFailure:!0,error:"Failed to cancel the subscription"})})).finally((function(){p(),S()}))}),[w,x]),F=(0,a.useCallback)((function(){n?n():D()}),[n,D]);return a.createElement(o.Modal,{backdropProps:{backdropBlur:!0}},a.createElement(f.ZP,{feature:"TrialOptOut"},a.createElement(o.ModalContent,{width:{base:140}},a.createElement(o.ModalHeader,null,a.createElement(o.Flex,{gap:2,alignItems:"center"},a.createElement(o.H4,null,"Go to Community plan"))),a.createElement(o.ModalBody,null,I?a.createElement(o.Flex,{height:"100px"},a.createElement(o.TextBig,null,"Changing billing plan...")):a.createElement(o.Flex,{gap:2,column:!0},a.createElement(o.H3,null,"Are You Sure?"),a.createElement(o.TextBig,null,"It looks like you have chosen to opt-out of your free 30-day business trial. Are you sure you do not want to experience all the features Netdata has to offer?"),a.createElement(o.TextBig,null,"By opting out, you will switch to the community plan immediately."))),a.createElement(o.ModalFooter,null,a.createElement(o.Flex,{justifyContent:"end",gap:4,padding:[1,2]},a.createElement(b,{feature:"TrialOptOut",label:"Yes, I am sure!",flavour:"hollow",small:!0,onClick:F,disabled:!w||I,textTransform:""}),a.createElement(b,{feature:"TrialOptOut",label:"No, I want the trial!",small:!0,onClick:i,disabled:I,textTransform:""}))))))}},96009:function(e,n,t){t.d(n,{Bk:function(){return l},NY:function(){return a},_j:function(){return i},fe:function(){return o},v8:function(){return r}});var r={default:"successBackground",warning:"warningBackground",critical:"errorBackground"},a={default:{background:"successSemi",border:"success"},warning:{background:"warningSemi",border:"warning"},critical:{background:"errorSemi",border:"error"}},i=[30,15,3,2,1],l="dismissedTrialWelcome",o="dismissedTrialWarningDate"},66987:function(e,n,t){var r=t(87462),a=t(67294),i=t(93416),l=t(50308),o=t.n(l),u=t(60511),c={banner:{color:"main"},sidebar:{lineHeight:"1.6",color:"main"},freePlanUpgrade:{lineHeight:"1.6",color:"main"},billing:{color:"textLite"}};n.Z=function(e){var n=e.flavour,t=e.onUpdateClick,l=void 0===t?o():t,s=(0,u.Z)(),d=s.daysRemaining,f=s.canUpgrade,m=s.trialEndsAt,g=(0,a.useMemo)((function(){return{isBanner:"banner"==n,isSidebar:"sidebar"==n,isBilling:"billing"==n,isFreePlanUpgrade:"freePlanUpgrade"==n}}),[n]);return a.createElement(i.Flex,{justifyContent:g.isBilling?"start":"center",alignItems:"center",width:"100%",gap:2},g.isFreePlanUpgrade?a.createElement(i.Text,c[n],"Upgrade your plan for unlimited access and Business features."):a.createElement(i.Text,c[n],"You have ",a.createElement(i.Text,(0,r.Z)({strong:!0},c[n]),"".concat(d," days"))," ","left to explore all the features of Netdata Business."," ",g.isBilling&&a.createElement(a.Fragment,null,"Trial ends at"," ",a.createElement(i.Text,(0,r.Z)({strong:!0},c[n]),m),"."," "),g.isBanner&&f?a.createElement(i.Box,{"data-testid":"upgrade-to-business-banner",onClick:l,as:i.Text,cursor:"pointer",textDecoration:"underline",color:"main"},"Consider upgrading for unlimited access."):a.createElement(a.Fragment,null,"Consider upgrading for unlimited access.")))}},29292:function(e,n,t){var r=t(45987),a=t(67294),i=t(50308),l=t.n(i),o=t(93416),u=t(54005),c=["flavour","onOptOutClick"],s={default:"Or you can opt to downgrade immediately",billing:"Or you can opt to downgrade immediately"};n.Z=function(e){var n=e.flavour,t=void 0===n?"default":n,i=e.onOptOutClick,d=void 0===i?l():i,f=(0,r.Z)(e,c),m=(0,u.Z)(),g=m.sendLog,b=m.isReady,p=(0,a.useCallback)((function(){d(),g({feature:"TrialOptOut",isStart:!0})}),[b]);return a.createElement(o.Text,f,"After the trial, you'll automatically switch to the free Community plan."," ",a.createElement(o.Box,{"data-testid":"upgrade-to-business-banner",onClick:p,as:o.Text,cursor:"pointer",textDecoration:"underline",color:"primary"},s[t]),".")}},60511:function(e,n,t){t.d(n,{Z:function(){return b}});var r=t(29439),a=t(67294),i=t(33335),l=t(33937),o=t(13477),u=(t(41539),t(64211),t(2490),t(41874),t(33926)),c=t(36285),s=t(80699),d=t(96009),f=t(38314),m=t(14808),g=function(e){var n=new Date(e||void 0).toLocaleDateString();return"Invalid Date"!==n?n:null},b=function(){var e,n=(0,c.RP)(),t=n.loaded,b=n.value,p=n.refresh,y=(0,s.Z)().isFailure,v=b||{},E=v.slug,Z=v.trialEndsAt,h=(0,a.useMemo)((function(){return function(e){if(!e)return null;var n=new Date(e)-new Date;return Math.ceil(n/864e5)}(Z)}),[Z]),w=t&&!!Z,k=(0,i.gI)("billing:Manage"),T=(0,l.pI)("trialModalDismissed"),x=(0,r.Z)(T,1)[0],B=m.Z3&&k&&(w||y)&&!localStorage.getItem(d.Bk)&&!x,O=(0,a.useState)(localStorage.getItem(d.fe)),I=(0,r.Z)(O,2),C=I[0],S=I[1],D=(0,a.useMemo)((function(){return m.Z3&&w}),[w]),F=(0,a.useState)(),M=(0,r.Z)(F,2),_=M[0],A=M[1],P=(e=h)>15?"default":e>5?"warning":"critical",R=!(0,o.Iy)("isAnonymous")&&k;return(0,a.useEffect)((function(){var e=function(e,n,t,r){if(n<0)return!1;var a=new Date(e||void 0);if("Invalid Date"==a)return!1;var i=new Date(r||void 0);if("Invalid Date"==i)return!0;var l=(0,u.Z)({start:i,end:a}).days;return t.some((function(e){return e>=n&&e<l}))}(Z,h,d._j,C);A(m.Z3&&e)}),[Z,h,C]),{trialWelcomeVisible:B,sidebarWarningVisible:D,bannerVisible:_,dismissBanner:function(){var e=(new Date).toISOString();S(e),localStorage.setItem(d.fe,e)},daysRemaining:h,trialEndsAt:g(Z),type:P,canUpgrade:R,onTrial:w,refreshPlan:p,planIsFreeOrEarlyBird:(0,f.BT)(E)}}},23154:function(e,n,t){t(2707),t(47941);var r=t(36285),a=t(38314);n.Z=function(){var e,n=(0,r.Gl)().value;if(null===n||void 0===n||!n.free)return{};var t=Object.keys(n.free).sort(a.G2)[0];return{id:n.free[t]?null===(e=n.free[t][0])||void 0===e?void 0:e.id:null,version:t}}}}]);