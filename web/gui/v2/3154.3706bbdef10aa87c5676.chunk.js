!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9ad2c93d-9de1-4538-ab96-15a44d089903",e._sentryDebugIdIdentifier="sentry-dbid-9ad2c93d-9de1-4538-ab96-15a44d089903")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"67fcafa0e89723987481f6de299b5bd1fcd6618a"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[3154,4281],{32300:function(e,t,n){n.d(t,{Z:function(){return Ot}});var r=n(67294),o=n(37518),a=n(96929),i=n(36560),c=n(63346),l=n(29439),u=(n(92222),n(24281)),s=n(91268),d=n(96104),m=n(97945),f=n(74059),p=n(74662),g=n(4822),v=n(24209),h=n(99113),b=n(4942),y=n(87462),E=(n(69826),n(41539),n(47941),n(82526),n(57327),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(92432)),w=n(46667),O=n(53030),x=n(89149),Z=n(15861),k=n(64687),j=n.n(k),C=n(4480),I=n(83338),P=n(8018);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=(0,C.CG)({key:"roomSettings",get:function(e){var t=e.id,n=e.key;return function(e){var r=(0,e.get)((0,I.Z)(t));return n?r[n]:r}},set:function(e){var t=e.id,n=e.key;return function(e,r){(0,e.set)((0,I.Z)(t),(function(e){return n?N(N({},e),{},(0,b.Z)({},n,r)):r}))}}}),T=function(e,t){return(0,C.sJ)(D({id:e,key:t}))},F=function(e,t){var n=T(e,t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.shouldPersist,o=void 0===r||r,a=(0,C.Zl)(D({id:e,key:n})),i=(0,P.O9)(e);return(0,C._8)((function(t){var r=t.snapshot;return function(){var t=(0,Z.Z)(j().mark((function t(c){var l;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(c),o){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r.getPromise(D({id:e}));case 5:return l=t.sent,t.prev=6,t.next=9,i({settings:N(N({},l),n?(0,b.Z)({},n,c):c)});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),a(n?l[n]:l);case 14:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}()}),[e,n,i])}(e,{key:t});return[n,r]},B=n(45987),M=(n(21249),n(57640),n(9924),n(16645)),A=n(7693),_=n(92903),L=n(5429),R=n(29495),V=n(40970),z=n(84147),H=function(){},U=function(e){var t=e.roomId,n=e.id,a=e.onRemove,i=void 0===a?H:a,c=(0,o.tE)(t,"name"),u=(0,R.xQ)(t,n,"title"),s=(0,R.c0)(t),d=(0,w.Z)(),m=(0,l.Z)(d,4),f=m[0],p=m[2],g=m[3],v=function(){var e=(0,Z.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(h.Button,{danger:!0,flavour:"hollow",onClick:p,label:"Delete metric","data-testid":"remove-metric"}),f&&r.createElement(h.ConfirmationDialog,{"data-ga":"remove-metric-dialog","data-testid":"removeMetricDialog",handleConfirm:v,handleDecline:g,message:r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,u)," metric.",r.createElement("br",null),"Are you sure you want to continue?"),title:"Remove metric from ".concat(c)}))},G=["title","help","link","disclaimer","children"],W=function(e){var t=e.link,n=e.children;return r.createElement(h.Flex,{as:"a",target:"_blank",href:t,gap:1,alignItems:"end"},r.createElement(h.TextNano,{textDecoration:"undeline"},n),r.createElement(h.Icon,{color:"text",name:"question",width:"16px",height:"16px"}))},K=function(e){var t=e.title,n=e.help,o=e.link,a=e.disclaimer,i=e.children,c=(0,B.Z)(e,G);return r.createElement(h.Flex,(0,y.Z)({gap:1,column:!0},c),r.createElement(h.Flex,{justifyContent:"between",alignItems:"baseline"},r.createElement(h.Text,{as:"label",margin:[0]},t),n&&r.createElement(W,{link:o},n)),i,a&&r.createElement(h.TextSmall,null,a))},q=n(93433),Q=n(26398),X=n(62200),J={value:"all",label:"All"},Y=function(e){var t=e.dimensions,n=e.units;return{dimensions:t?[J].concat((0,q.Z)(t.map((function(e){return{value:e.id,label:e.name}})))):[J],units:n}},$=["spaceId","roomId","id","onClose"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.isNew;return r.createElement(h.Flex,{as:"span",gap:1},"Manage room",r.createElement(h.TextBig,{color:"textLite"},"/"),r.createElement(h.TextBig,{color:"textLite"},t?"Add":"Edit"," Metric"))},re=function(e){var t=e.spaceId,n=e.roomId,o=e.id,a=e.onClose,i=(0,B.Z)(e,$),c="new"===o,u=(0,R.jN)(n,o),s=(0,R.Y6)(n,{shouldPersist:!1}),m=(0,R.xQ)(n,o),f=(0,r.useRef)(m),p=m.title,g=m.context,v=m.dimensions,b=void 0===v?[]:v,E=function(){s(o,f.current),a()};(0,r.useEffect)((function(){c&&u()}),[]);var w=(0,d.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),O=(0,V.Z)(n,w,{spaceId:t});if(O)throw O;var x=(0,z.jg)(n),Z=(0,r.useMemo)((function(){return x.map((function(e){return{value:e,label:e}}))}),[x]),k=(0,z.hH)(n),j=(0,r.useMemo)((function(){return g&&{value:g,label:g}}),[g]),C=(0,L.Z)((function(){return{enabled:!!g,fetch:function(){return function(e,t,n){return Q.Z.get("".concat(X.li,"/spaces/").concat(e,"/rooms/").concat(t,"/contexts/").concat(encodeURIComponent(n)),{transform:Y})}(t,n,g)},initialValue:{dimensions:[],units:""}}}),[t,n,g]),I=(0,l.Z)(C,2),P=I[0],S=P.dimensions,N=P.units,D=I[1],T=(0,r.useCallback)((function(e){var t=e.value;s(o,"context",t),s(o,"dimensions",[]),s(o,"title",t)}),[o]),F=(0,r.useMemo)((function(){return S?1===S.length||b.length===S.length-1||0===b.length?[J]:b.map((function(e){return{value:e.id,label:e.name}})):[J]}),[b,S]),H=(0,r.useCallback)((function(e){var t=e.filter((function(e){return e.value!==J.value})),n=(0===e.length||t.length!==e.length&&0!==b.length||t.length===S.length-1?[]:t).map((function(e){return{id:e.value,name:e.label}}));s(o,"dimensions",n)}),[o,b,S]),G=(0,R.VP)(n),W=(0,r.useCallback)((function(){return G(te(te({},m),{},{id:o,enableAllDimensions:0===b.length,unit:N})).then(a)}),[m]),q=(0,r.useCallback)((function(e){var t=e.target.value;t.length<=30&&s(o,"title",t)}),[o]),ee=!p||!g||D||!k;return r.createElement(M.u6,(0,y.Z)({onClose:E},i),r.createElement(A.x,{onClose:E,title:r.createElement(ne,{isNew:c})},r.createElement(h.Button,{label:"Save",onClick:W,disabled:ee})),r.createElement(_.B,null,c?"Add a new metric (column)":"Edit metric"),r.createElement(M.TZ,null,r.createElement(h.Flex,{gap:6,column:!0},r.createElement(K,{title:"Context",help:"What is a context?",link:"https://learn.netdata.cloud/docs/data-collection/chart-dimensions-contexts-and-families#context","data-testid":"manageMetrics-context"},r.createElement(h.Select,{options:Z,value:j,onChange:T,isLoading:!k,"data-testid":"manageMetrics-contextSelect"})),r.createElement(K,{title:"Metric Title","data-testid":"manageMetrics-title"},r.createElement(h.TextInput,{name:"title",placeholder:"Type name",value:p,onChange:q})),r.createElement(K,{title:"Dimensions",help:"What is a dimension?",link:"https://learn.netdata.cloud/docs/data-collection/chart-dimensions-contexts-and-families#dimension",disclaimer:F[0]===J&&"The returned value is the sum of all selected dimensions.","data-testid":"manageMetrics-dimensions"},r.createElement(h.Select,{isMulti:!0,options:S,value:F,onChange:H,isLoading:D,isDisabled:!j,"data-testid":"manageMetrics-dimensionSelect"})),!c&&r.createElement(h.Flex,{justifyContent:"end"},r.createElement(U,{roomId:n,id:o,onRemove:a})))))},oe=function(e){var t=e.isOpen,n=e.onClose,o=e.onEdit,a=e.roomId,i=e.targetRef,c=(0,R.dh)(a),u=(0,l.Z)(c,2),s=u[0],d=u[1];if(!i.current||!t)return null;var m=function(e){o(e),n()};return r.createElement(h.Drop,{align:{top:"bottom",right:"right"},animation:!0,background:"dropdown",column:!0,margin:[.5,0,0],overflow:{vertical:"auto"},padding:[3],round:!0,width:70,close:n,"data-testid":"metricsMenu",onClickOutside:n,onEsc:n,target:i.current},s.map((function(e){return r.createElement(h.Flex,{"data-testid":"metricsMenu-metric-".concat(e.title),key:e.id,justifyContent:"between",alignItems:"center",padding:[1,0]},r.createElement(h.Checkbox,{checked:!e.hidden,"data-testid":"metricsMenu-metricCheckbox",label:e.title,onChange:function(){return d(e.id,"hidden",!e.hidden)}}),r.createElement(h.IconButton,{"data-testid":"metricsMenu-editMetric",flavour:"borderless",icon:"pencilSolid",neutral:!0,padding:[0],onClick:function(){return m(e.id)},width:"10px",height:"10px"}))})),r.createElement(h.Button,{"data-testid":"metricsMenu-addMetricButton",label:"Add new metric",icon:"plus",onClick:function(){return m("new")},small:!0,alignSelf:"end"}))},ae=function(e){var t=e.spaceId,n=e.roomId,o=(0,w.Z)(),a=(0,l.Z)(o,4),i=a[0],c=a[2],u=a[3],s=(0,r.useState)(null),d=(0,l.Z)(s,2),m=d[0],f=d[1],p=(0,r.useRef)();return r.createElement(r.Fragment,null,r.createElement(h.Button,{"data-ga":"metric-setting::click-metric-setting::hm-nodes","data-testid":"metricSettings-button",flavour:"hollow",icon:"gear",neutral:!0,onClick:c,ref:p,label:"Metrics",small:!0}),r.createElement(oe,{isOpen:i,onClose:u,onEdit:f,roomId:n,targetRef:p}),m&&r.createElement(re,{"data-testid":"metricsManagement",spaceId:t,roomId:n,id:m,onClose:function(){return f(null)}}))},ie=n(71893),ce=((0,ie.default)(h.Checkbox).withConfig({displayName:"styled__Checkbox",componentId:"sc-1czrg41-0"})(["color:",";font-size:12px;margin-left:",";width:100%;> span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:",";}"],(0,h.getColor)("text"),(0,h.getSizeBy)(0),(0,h.getSizeBy)(25)),(0,ie.default)(h.Flex).attrs({height:"1px",margin:[4,0]}).withConfig({displayName:"styled__Divider",componentId:"sc-1czrg41-1"})(["background-color:rgba(0,0,0,0.12);"]),(0,ie.default)(h.ListItem).withConfig({displayName:"styled__ListItem",componentId:"sc-1czrg41-2"})(["align-items:center;display:flex;flex-direction:row;font-size:",";justify-content:space-between;padding-left:",";"],(0,h.getSizeBy)(3),(0,h.getSizeBy)(0)),(0,ie.default)(h.Drop).attrs({align:{top:"bottom",right:"right"},animation:!0,background:"dropdown",column:!0,margin:[.5,0,0],overflow:{vertical:"auto"},padding:[3],round:1,width:70}).withConfig({displayName:"styled__MetricsDropdown",componentId:"sc-1czrg41-3"})([""]),(0,ie.default)(h.Button).attrs({neutral:!0,flavour:"borderless",small:!0}).withConfig({displayName:"styled__OptionButton",componentId:"sc-1czrg41-4"})(["&&&{font-size:14px;font-weight:normal;justify-content:flex-start;padding-left:",";}"],(0,h.getSizeBy)(2))),le=((0,ie.default)(h.Button).withConfig({displayName:"styled__PencilButton",componentId:"sc-1czrg41-5"})(["> svg.button-icon{width:",";height:",";opacity:0;}"],(0,h.getSizeBy)(4),(0,h.getSizeBy)(4)),(0,ie.default)(h.Button).withConfig({displayName:"styled__MetricsButton",componentId:"sc-1czrg41-6"})(["&&&{width:100%;}"]),n(38671)),ue=n(39979);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(){return(0,E.L)("grouping","click-grouping","hm-nodes")},fe=(0,ue.Z)(O.Z),pe=[{icon:"node",label:"Node status",value:"nodeStatus","data-ga":"grouping::click-grouping-node-status::hm-nodes"},{icon:"alarm_bell",label:"Alert status",value:"alertStatus","data-ga":"grouping::click-grouping-status::hm-nodes"}],ge={Option:function(e){var t=e.innerProps,n=e.data,o=e.isSelected;return r.createElement(ce,(0,y.Z)({},n,t,{active:o}))}},ve={control:function(e){return de(de({},e),{},{height:32,minHeight:32,width:160})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e){return de(de({},e),{},{height:20,minHeight:20,paddingRight:4,paddingTop:0,paddingBottom:0})},valueContainer:function(e){return de(de({},e),{},{paddingTop:0,paddingBottom:0})}},he=function(){var e=(0,f.th)(),t=(0,o.UL)(),n=(0,w.Z)(),a=(0,l.Z)(n,4),i=a[0],c=a[2],u=a[3],s=(0,le.Z)().onIntegrationsClick,d=F(t,"groupMode"),m=(0,l.Z)(d,2),p=m[0],g=m[1],v=(0,r.useMemo)((function(){return pe.find((function(e){return e.value===p}))||pe[0]}),[p]),b=(0,r.useCallback)((function(e){var t=e.value;return g(t)}),[g]);return r.createElement(h.Flex,{alignItems:"center","data-testid":"agentsHead-actions",flexWrap:!1,gap:3},r.createElement(h.Select,{components:ge,label:"Group by",onChange:b,onMenuOpen:me,options:pe,styles:ve,value:v}),r.createElement(ae,{roomId:t,spaceId:e}),r.createElement(h.Button,{icon:"integrations",flavour:"hollow",onClick:s,small:!0},"Integrations"),i&&r.createElement(x.Z,{onClose:u}),r.createElement(fe,{"data-ga":"add-nodes::click-add-nodes::hm-nodes","data-testid":"agentsHead-addNode",icon:"nodes_hollow",label:"Add Nodes",onClick:c,small:!0}))},be=function(){return r.createElement(h.Flex,{width:"100%",justifyContent:"end",background:"mainBackground",padding:[2]},r.createElement(he,null))},ye=(n(2707),n(66992),n(70189),n(78783),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(85827),n(25387),n(72608),n(39612)),Ee=n(88866);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe,Ze=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getGrouping,o=n.extraKey,a={},i=function(e,t){var n=t.getNode,r=t.getGrouping,o=t.nodeMenus,a={};return e.forEach((function(e){var t=n(e);if(t){var a=r(t),i=a.name,c=a.priority,l=a.icon;o[e]=Oe(Oe({},t),{},{groupId:i,subMenuId:e,priority:c,groupIcon:l})}})),(0,q.Z)(e).sort((function(e,t){var n,r,a,i;return(null===(n=o[e])||void 0===n?void 0:n.priority)-(null===(r=o[t])||void 0===r?void 0:r.priority)||((null===(a=o[e])||void 0===a?void 0:a.name)||"").localeCompare((null===(i=o[t])||void 0===i?void 0:i.name)||"",void 0,{sensitivity:"accent",ignorePunctuation:!0})})).forEach((function(e){var t=o[e];if(t){var n="".concat(t.groupId,"|").concat(t.subMenuId);a[t.groupId]||(a[t.groupId]=new Set),n&&a[t.groupId].add(t.id)}})),{menuGroups:a}}(e,{getNode:t,getGrouping:r,nodeMenus:a}),c=i.menuGroups,l={},u=Object.keys(c).reduce((function(e,t){var n=(0,q.Z)(c[t]),r=a[n[0]];return e[t]={level:0,name:r.groupId,id:t,subMenuIds:n,link:"".concat((0,ye.Z)("menu_".concat(t))),size:24,forceVisibility:!0,icon:r.groupIcon,extraKey:o},n.forEach((function(e){var n,r,i,c,u=a[e];l[e]=Oe(Oe({},u),{},{level:1,id:e,menuGroupId:t,link:"".concat((0,ye.Z)("menu_".concat(t,"_submenu_").concat(e))),size:24,forceVisibility:!0,icon:(null===(n=Ee._[null===(r=u.os)||void 0===r?void 0:r.nm])||void 0===n?void 0:n.iconName)||(null===(i=Ee.V[null===(c=u.os)||void 0===c?void 0:c.id])||void 0===i?void 0:i.iconName)||"os",extraKey:o})})),e}),{}),s=Object.keys(c),d=s.reduce((function(e,t){1;var n=Oe(Oe({},u[t]),{},{sticky:!0});return[].concat((0,q.Z)(e),[n],(0,q.Z)(u[t].subMenuIds.reduce((function(e,t){1;var n=l[t];return[].concat((0,q.Z)(e),[n])}),[])))}),[]);return a=null,{stickyIds:{},allElements:d,menuGroupIds:s,menuGroupById:u,subMenuById:l}},ke=n(62340),je=n(22965),Ce={alertStatus:(xe={},(0,b.Z)(xe,ke.Z.critical,1),(0,b.Z)(xe,ke.Z.warning,2),(0,b.Z)(xe,ke.Z.clear,3),(0,b.Z)(xe,ke.Z.unreachable,4),xe),nodeStatus:{Live:1,Stale:2,Offline:3}},Ie={nodeStatus:function(e){return(0,je.Q5)(e.state)},alertStatus:function(e){return(0,je.hC)(e)}},Pe=n(15394),Se=n(53499),Ne=n(69743),De=n(56102),Te=n(11835),Fe=["id"],Be=function(e){var t=e.id,n=(0,B.Z)(e,Fe);return r.createElement(Ne.d,(0,y.Z)({id:t},n),r.createElement(De.Y,{id:t}),r.createElement(Te.f,{id:t}))},Me=(0,r.memo)(Be),Ae=n(3322),_e=n(24093),Le=n(33335),Re=n(6585),Ve=n(97279),ze=n(66917),He=["connectivity","id","name"],Ue=function(e){var t=e.connectivity,n=e.id,a=e.name,i=(0,B.Z)(e,He),c=(0,Le.gI)("node:Delete"),u=!(0,o.Hm)().untouchable,s=(0,w.Z)(),d=(0,l.Z)(s,4),m=d[0],f=d[2],p=d[3],g=(0,w.Z)(),v=(0,l.Z)(g,4),h=v[0],b=v[2],E=v[3];return r.createElement(ze.st,(0,y.Z)({alignSelf:"end",gap:1,"data-testid":"node-actions"},i),u&&r.createElement(r.Fragment,null,r.createElement(_e.Z,{badge:"actionRemove","data-testid":"remove-node-action"},r.createElement(ze.xZ,{"data-ga":"nodes-table-row::click-remove-node::nodes-view",onClick:b})),h&&r.createElement(Ve.ZP,{ids:[n],name:a,onClose:E})),c&&"Offline"===t&&r.createElement(r.Fragment,null,r.createElement(_e.Z,{badge:"actionObsolete","data-testid":"obsolete-node-action"},r.createElement(ze.dl,{"data-ga":"nodes-table-row::click-obsolete-node::nodes-view",onClick:f})),m&&r.createElement(Re.ZP,{ids:[n],name:a,onClose:p})))},Ge=n(56001),We=["instanceType","name","providerType"],Ke=function(e){var t=e.instanceType,n=e.name,o=e.providerType,a=(0,B.Z)(e,We);return r.createElement(_e.Z,(0,y.Z)({badge:"cloudInfo","data-testid":"node-cloud-info",nodeName:n},a),r.createElement(h.Flex,{alignItems:"center",gap:1},r.createElement(h.Icon,{color:"textDescription","data-testid":"node-cloud-info-icon",name:"ipNetworking",width:"18px",height:"18px"}),r.createElement(h.TextSmall,{color:"textDescription","data-testid":"node-cloud-info-text"},(0,je.MC)(o)," \u2022 ",(0,je.MC)(t))))},qe=["connectivity","name"],Qe=function(e){var t=e.connectivity,n=e.name,o=(0,B.Z)(e,qe);return r.createElement(_e.Z,(0,y.Z)({badge:"connectivity",connectivityState:t,"data-testid":"node-connectivity",nodeName:n},o),r.createElement(h.Icon,{name:"connectivityStatus".concat(t),width:"18px",height:"18px"}))},Xe=["onClick"],Je=function(e){var t=e.onClick,n=(0,B.Z)(e,Xe);return r.createElement(_e.Z,(0,y.Z)({badge:"info","data-testid":"node-info-cta"},n),r.createElement(h.Icon,{color:"textDescription",cursor:"pointer",height:"18px",width:"18px",name:"information",onClick:t}))},Ye=["name"],$e=function(e){var t=e.name,n=(0,B.Z)(e,Ye);return r.createElement(_e.Z,(0,y.Z)({badge:"k8s","data-testid":"node-kubernetes",nodeName:t},n),r.createElement(h.Flex,{alignItems:"center",gap:1},r.createElement(h.Icon,{color:"textDescription","data-testid":"node-kubernetes-icon",name:"serviceKubernetes",width:"18px",height:"18px"}),r.createElement(h.TextSmall,{color:"textDescription","data-testid":"node-kubernetes-text"},"k8s")))},et=["kernelName","kernelVersion","name"],tt=function(e){var t=e.kernelName,n=e.kernelVersion,o=e.name,a=(0,B.Z)(e,et);return r.createElement(_e.Z,(0,y.Z)({badge:"kernel","data-testid":"node-kernel",nodeName:o},a),r.createElement(h.TextSmall,{color:"textDescription"},(0,je.cB)(t,n)))},nt=n(72132),rt=n(75691),ot=["architecture","cpuFrequency","cpus","diskSpace","memory","name","os","osName"],at=function(e){var t,n,o=e.architecture,a=e.cpuFrequency,i=e.cpus,c=e.diskSpace,l=e.memory,u=e.name,s=e.os,d=e.osName,m=(0,B.Z)(e,ot);return r.createElement(_e.Z,(0,y.Z)({badge:"systemInfo","data-testid":"node-system-info",nodeName:u},m),r.createElement(h.Flex,{alignItems:"center",gap:1},r.createElement(h.Icon,{color:"textDescription","data-testid":"node-system-info-icon",name:(null===(t=Ee._[d])||void 0===t?void 0:t.iconName)||(null===(n=Ee.V[s])||void 0===n?void 0:n.iconName)||"os",width:"16px",height:"16px"}),r.createElement(h.TextSmall,{color:"textDescription","data-testid":"node-system-info-text"},(0,je.MC)(d)," \u2022 ",(0,je.ys)(a)," \u2022"," ",(0,je.MC)(i,1===i?"Core":"Cores")," \u2022 ",(0,je.MC)(o)," ","\u2022 ",(0,je.MC)((0,je.yo)(l),"RAM")," \u2022"," ",(0,je.MC)((0,je.yo)(c),"HD"))))},it=["container","name","virtualization"],ct=function(e){var t=e.container,n=e.name,o=e.virtualization,a=(0,B.Z)(e,it),i=(0,je.jo)(t,o);return r.createElement(_e.Z,(0,y.Z)({badge:"type","data-testid":"node-type",nodeName:n,nodeType:i.label},a),r.createElement(h.Flex,{alignItems:"center",gap:1},r.createElement(h.Icon,{color:"textDescription","data-testid":"node-type-icon",name:i.icon,height:i.iconSize,width:i.iconSize}),r.createElement(h.TextSmall,{color:"textDescription","data-testid":"node-type-text"},i.label)))},lt=n(83925),ut=n(9058),st=(n(31672),n(59461),n(74916),n(4723),function(e,t){return e&&e.getRoot().getChildren().find((function(e){return e.match({id:"nodes-".concat(t)})}))}),dt=n(16978),mt=function(e){var t=e.id,n=e.roomId,o=e.nodeId,a=e.context,i=e.dimensions,c=(0,ut.e)(),l=(0,r.useMemo)((function(){var e=st(c,n),r=[t,o,a].join("-");if(!e)return null;var l=e.getNode({id:r});return l?(l.updateAttribute("selectedDimensions",i.map((function(e){return e.name}))),l):(l=c.makeChart({attributes:{id:r,nodesScope:[o],contextScope:[a],pixelsPerPoint:20,selectedDimensions:i.map((function(e){return e.name}))}}),e.appendChild(l),l)}),[a,t,o,n,c]);return l?r.createElement(dt.Z,{chart:l,hasHeader:!1,hasFooter:!1,hasFilters:!1,height:100}):null},ft=(0,r.memo)(mt),pt=n(38626),gt=function(e){var t=e.id,n=e.context,a=e.nodeId,i=e.isLive,c=e.hidden,l=e.title,u=e.dimensions,s=(0,o.UL)();return c||!i?null:r.createElement(h.Flex,{column:!0,"data-testid":"metrics-chart-".concat(n),flex:"grow",basis:"174px"},r.createElement(pt.Z,{text:l||n,TextComponent:h.TextSmall,color:"textDescription",margin:[1,0,1,2],as:"div"}),r.createElement(ft,{id:t,context:n,nodeId:a,roomId:s,dimensions:u}))},vt=function(e){var t,n,a=e.id,i=e.name,c=e.hw,l=e.os,u=e.capabilities,s=e.container,d=e.updateSeverity,m=e.labels,f=e.isLive,p=e.state,v=e.version,b=e.extraKey,E=e.isPreferred,w=(0,o.UL)(),O=null===(t=u.funcs)||void 0===t?void 0:t.enabled,x=null===(n=u.ml)||void 0===n?void 0:n.enabled,Z=(0,je.Q5)(p),k=m||{},j=k._cloud_instance_type,C=k._cloud_provider_type,I="true"===(null===m||void 0===m?void 0:m._is_k8s_node),P=!(0,je.O2)(j)||!(0,je.O2)(C),S=(0,g.Sf)("sidebarTab",{flavour:"val",extraKey:b}),N=(0,g.Sf)("sidebarOpen",{flavour:"bool"}),D=(0,g.Sf)("sidebarNodeId",{flavour:"val",extraKey:b}),T=(0,r.useCallback)((function(e){N(!0),S(e),D(a)}),[a]),F=(0,r.useCallback)((function(){return T("alerts")}),[T]),B=(0,r.useCallback)((function(){return T("info")}),[T]),M=(0,Ae.Eq)(),A=(0,R.uA)(w);return r.createElement(h.Flex,{"data-testid":"nodeRow-".concat(i),"data-submenuid":a,padding:[1],column:!0,gap:1,round:!0},r.createElement(h.Flex,{alignItems:"center","data-testid":"nodeRow-basic-info",gap:2,height:{min:6}},r.createElement(Qe,{connectivity:Z,"data-testid":"nodeRow-connectivity-".concat(Z.toLowerCase()),name:i}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(rt.Z,{"data-testid":"nodeRow-name",id:a,name:i,isLive:f,state:p,isPreferred:E}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(Je,{onClick:B,"data-testid":"nodeRow-more-info-cta"}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(Ge.Z,{id:a,isLive:f,"data-testid":"nodeRow-alerts",name:i,onClick:F}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(nt.Z,{badge:"ml","data-testid":"nodeRow-machine-learning-status",enabled:x,name:i},r.createElement(h.Icon,{name:"anomaliesLens",size:"small",color:"text"})),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(nt.Z,{badge:"fn","data-testid":"nodeRow-fn-status",enabled:O,name:i,onClick:function(){return M(a)}},r.createElement(h.Icon,{name:"functions",size:"small",color:"text"})),d&&r.createElement(r.Fragment,null,r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(lt.Z,{name:i,os:l.id,container:s,warningLevel:d,labels:m,version:v,text:d,"data-testid":"nodeRow-needs-update"})),r.createElement(Ue,{"data-testid":"nodeRow-node-actions",id:a,name:i,connectivity:Z})),r.createElement(h.Flex,{alignItems:"center","data-testid":"nodeRow-detailed-info",gap:2},r.createElement(at,{architecture:c.architecture,cpuFrequency:c.cpuFrequency,cpus:c.cpus,"data-testid":"nodeRow-system-info",diskSpace:c.diskSpace,memory:c.memory,name:i,osName:l.nm,os:l.id}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),!(null===l||void 0===l||!l.kernel)&&r.createElement(tt,{"data-testid":"nodeRow-kernel",kernelName:l.kernel.nm,kernelVersion:l.kernel.v,name:i}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),I&&r.createElement(r.Fragment,null,r.createElement($e,{"data-testid":"nodeRow-kubernetes",name:i}),r.createElement(ze.uh,{"data-testid":"nodeRow-separator"})),r.createElement(ct,{container:c.container,"data-testid":"nodeRow-type",name:i,virtualization:c.virtualization}),P&&r.createElement(r.Fragment,null,r.createElement(ze.uh,{"data-testid":"nodeRow-separator"}),r.createElement(Ke,{"data-testid":"nodeRow-cloud-info",instanceType:j,name:i,providerType:C}))),E&&!(null===A||void 0===A||!A.length)&&r.createElement(h.Flex,{"data-testid":"nodeRow-charts",gap:1},A.map((function(e){return r.createElement(gt,(0,y.Z)({key:e.id},e,{nodeId:a,isLive:f}))}))))},ht=function(e){switch(e.level){case 0:return Me;case 1:return vt;default:return null}},bt=["onChartNameChange","initialChartName","dashboardOptions","linkToGo","contextToGo"],yt=function(e){var t=e.onChartNameChange,n=e.initialChartName,o=e.dashboardOptions,a=e.linkToGo,i=e.contextToGo,c=(0,B.Z)(e,bt),l=(0,Pe.Z)({onChartNameChange:t,initialChartName:n,linkToGo:a,contextToGo:i}),u=l.setActiveMenuGroupId,s=l.setActiveSubMenuId;return r.createElement(p.v,c,r.createElement(Se.Z,{onActiveMenuGroupId:u,onActiveSubMenuId:s,getComponent:ht,dashboardOptions:o,initialChartName:n,checkVisibility:function(){return!0}}))},Et=["config"],wt=function(){var e=(0,f.th)(),t=(0,o.UL)(),n=function(){var e=(0,o.UL)(),t=T(e,"groupMode")||"nodeStatus",n=Ie[t]||Ie.nodeStatus;return(0,r.useCallback)((function(e){var r,o=n(e);return{name:o,priority:Ie[t]?null===Ce||void 0===Ce||null===(r=Ce[t])||void 0===r?void 0:r[o]:Ce.nodeStatus,icon:"nodeStatus"===t?"connectivityStatus".concat(o):null}}),[t])}(),a=(0,d.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),i=(0,m.wU)(),c=(0,u.Z)(),h=(0,l.Z)(c,2),b=h[0],y=h[1].width;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.host,a=n.width,i=(0,ut.e)(),c=(0,r.useRef)();(0,r.useMemo)((function(){if(i){var n=st(i,e);n&&n.destroy(),n=i.makeContainer({attributes:{host:o,enabledXAxis:!1,id:"nodes-".concat(e),hasToolbox:!1,height:"75px",groupingMethod:"average",groupBy:["dimension"],aggregationMethod:"avg",legend:!1,axisLabelFontSize:7,yAxisLabelWidth:20,hasYlabel:!1,nodesScope:t,containerWidth:a}}),c.current=n,i.appendChild(n)}}),[e]),(0,r.useMemo)((function(){c.current&&(c.current.setAttribute("containerWidth",a),c.current.getNodes().forEach((function(e){return e.updateAttribute("containerWidth",a)})))}),[c.current,a]),(0,r.useLayoutEffect)((function(){return function(){return c.current&&c.current.destroy()}}),[])}(t,a,{host:(0,f.Q6)()?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(e,"/rooms/").concat(t),width:y});var E=(0,g.I0)("nodeIdToGo",{key:t,extraKey:"nodesView",flavour:"val"}),w=(0,l.Z)(E,2),O=w[0],x=w[1];return r.createElement(p.Z,{getObject:i,ids:a,getMenu:Ze,getGrouping:n,deps:[n],extraKey:"nodesView"},r.createElement(s.Z,{ref:b,position:"relative",sidebar:r.createElement(v.ZP,{hiddenTabs:Et,nodeIds:a,title:"Nodes",initialChartName:O,flavour:"nodesView",loaded:!0,hasSearch:!1})},r.createElement(be,null),r.createElement(yt,{initialChartName:O,onChartNameChange:x})))},Ot=function(){var e=(0,o.UL)(),t=(0,a.zN)();return(0,a.X7)(e,"loaded")&&!t.length?r.createElement(c.ZP,{feature:"NodesView",mode:"NoNodesView"},r.createElement(i.Z,null)):r.createElement(c.ZP,{feature:"NodesView"},r.createElement(wt,null))}},36560:function(e,t,n){n.d(t,{H:function(){return M},Z:function(){return A}});var r=n(87462),o=n(29439),a=n(67294),i=n(99113),c=n(46667),l=n(37518),u=n(86242),s=n(28350),d=n(36459),m=(n(19601),n(21249),n(57640),n(9924),n(71893)),f=n(94666),p=n(31203),g=n(52428),v=(0,m.default)(i.Flex).withConfig({displayName:"adminsList__RowFlex",componentId:"sc-1pb9ob2-0"})(["&:hover{background:",";}"],(0,i.getColor)("elementBackground")),h=(0,m.default)(i.Icon).withConfig({displayName:"adminsList__StyledIcon",componentId:"sc-1pb9ob2-1"})(["cursor:pointer;"]),b=function(e){var t=Object.assign({},((0,d.Z)(e),e)),n=(0,f.nP)();return a.createElement(i.Flex,(0,r.Z)({column:!0,border:{side:"top",color:"borderSecondary"},flex:"grow",padding:[1,0],height:{max:50},overflow:"auto"},t),n.map((function(e){return a.createElement(v,{flex:{grow:0,shrink:0},key:e.id,padding:[0,4],justifyContent:"between",height:10,alignItems:"center"},a.createElement(i.Flex,{key:e.id,gap:2,alignItems:"center"},a.createElement(p.Z,{src:e.avatarURL,title:e.name}),a.createElement(i.Text,null,e.name),a.createElement(i.Text,{color:"textLite"},e.email)),a.createElement(h,{onClick:(0,g.J)(e.email,{text:"Admin email address copied to your clipboard."}),size:"small",name:"copy",color:"primary"}))})))},y=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledWarningIcon",componentId:"sc-q96c2w-0"})(["border-radius:50%;overflow:hidden;background:",";"],(0,i.getColor)(["neutral","white"])),E=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledCheckmarkIcon",componentId:"sc-q96c2w-1"})(["border-radius:50%;overflow:hidden;background:",";padding:6px;width:24px;height:24px;"],(0,i.getColor)("elementBackground")),w=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-q96c2w-2"})(["transform:",";"],(function(e){return e.closed?"none":"rotate(180deg)"})),O=n(45987),x=n(91008),Z=["gaPrefix"],k=function(e){var t=e.gaPrefix,n=void 0===t?"onboarding":t,o=(0,O.Z)(e,Z);return a.createElement(i.Flex,(0,r.Z)({column:!0,gap:1,color:"textDescription"},o),a.createElement(i.Text,null,"Need help?"),a.createElement(i.Text,null,"Use our"," ",a.createElement(x.Z,{href:"https://community.netdata.cloud/",target:"_blank","data-ga":"".concat(n,"::click-forums::allpages")},"forums")," ","or public"," ",a.createElement(x.Z,{href:"https://discord.gg/mPZ6WZKKG2",target:"_blank","data-ga":"".concat(n,"::click-discord::allpages")},"discord channel")))},j=n(72911),C=n(91268),I=n(33335),P=n(46189),S=n(89250),N=n(92432),D=P.Z.demoSlug,T=(0,m.default)(i.Button).withConfig({displayName:"headerButtons__StyledButton",componentId:"sc-11mwk9m-0"})(["&&{padding:2px 16px;font-size:12px;height:auto;width:auto;min-width:96px;}"]),F=function(){var e=(0,S.s0)();return a.createElement(i.Flex,{gap:4},a.createElement(x.Z,{href:"https://learn.netdata.cloud/docs/architecture/deployment-strategies",rel:"noopener noreferrer",target:"_blank"},"Possible Deployment Strategies"),!window.envSettings.onprem&&a.createElement(T,{"data-ga":"no-nodes-view::click-demo::no-nodes-header",flavour:"default",onClick:function(t){e("/spaces/".concat(D)),(0,N.L)("no-nodes-view","click-demo","no-nodes-header"),t.preventDefault()},label:"Live Demo"}))},B=n(8741),M=function(){return a.createElement(a.Fragment,null,a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-memberSection",gap:1},a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-memberHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-memberHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.Flex,{justifyContent:"between",flex:!0},a.createElement(i.H3,{color:"textDescription","data-testid":"noNodesView-memberHeaderText"},"You are a member and only space admins can connect new nodes"),a.createElement(F,null))),a.createElement(i.Flex,{"data-testid":"noNodesView-memberDescription",padding:[0,0,2,13]},a.createElement(i.Text,{color:"textDescription","data-testid":"noNodesView-memberDescriptionText"},"Please contact anyone from the list in order to do so"))),a.createElement(i.Flex,{"data-testid":"noNodesView-memberAdminsListSection",padding:[0,0,0,12]},a.createElement(b,{"data-testid":"noNodesView-memberAdminsList"})))},A=function(e){var t=e.videoId,n=(0,l.UL)(),d=(0,u.Z)(n),m=(0,o.Z)(d,2),f=m[0],p=m[1],g=p.onAddNodes,v=p.selectedNodes,h=f.claimedNodeIds.length>0,b=(0,c.Z)(!0),O=(0,o.Z)(b,2),x=O[0],Z=O[1],P=(0,I.gI)("node:Create");return a.createElement(C.Z,{column:!1,"data-testid":"noNodesViewPage",gap:12,padding:[6],margin:[0,0,8],overflow:"auto"},a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-cmdSection",flex:{grow:0,shrink:1},width:"100%",gap:2},a.createElement(i.Flex,{"data-testid":"noNodesView-warningBanner",alignItems:"center",background:"warningBackground",gap:4,height:{min:10},padding:[0,3],round:!0},a.createElement(y,{"data-testid":"noNodesView-warningBannerIcon",name:"exclamation",color:"warning"}),a.createElement(i.Text,{"data-testid":"noNodesView-warningBannerText"},"You have no nodes.")),P&&a.createElement(a.Fragment,null,a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-adminSection",justifyContent:"between",onClick:h?Z:null,cursor:h?"pointer":null},a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-adminHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-adminHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.H3,{"data-testid":"noNodesView-adminHeaderText",color:"textDescription"},"Connect new nodes")),a.createElement(i.Flex,{gap:4,alignItems:"center"},a.createElement(F,null),h&&a.createElement(w,{closed:!x,"data-testid":"noNodesView-adminClaimedNodesIcon",name:"chevron_down",color:"textLite"}))),a.createElement(i.Collapsible,{"data-testid":"noNodesView-adminClaimNodesContainer",open:x},a.createElement(i.Flex,{"data-testid":"noNodesView-adminClaimNodes",padding:[0,0,0,12]},a.createElement(B.Z,{rooms:[n]})))),!P&&a.createElement(M,null),h&&a.createElement(a.Fragment,null,a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-availableNodesHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-availableNodesHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.H3,{color:"textDescription","data-testid":"noNodesView-availableNodesHeaderText"},"Add already available nodes")),a.createElement(i.Flex,{height:"100%","data-testid":"noNodesView-availableNodesContainer",padding:[0,0,0,12]},a.createElement(s.Z,(0,r.Z)({"data-testid":"noNodesView-availableNodesList"},f,{onAddNodes:g,canAddNodes:!!v.length,padding:[2,0,8]}))))),t&&a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-videoSection",flex:{shrink:0,grow:0}},a.createElement(j.Z,{"data-testid":"noNodesView-onboardingVideo",height:296,width:520,videoId:t}),a.createElement(k,{"data-testid":"noNodesView-needHelp",padding:[8,0]})))}},4571:function(e,t,n){n.d(t,{Z:function(){return _t}});n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(87462),o=n(4942),a=n(67294),i=n(89250),c=n(74662),l=n(36560),u=n(29439),s=n(2077),d=n(5441),m=n(25517),f=n(4822),p=n(91268),g=n(43969),v=n(78266),h=n(99113),b=n(37518),y=n(72911),E=n(8741),w=n(62200),O=n(91008),x=n(33335),Z=n(41898),k=function(){var e=(0,b.UL)(),t=(0,x.gI)("node:Create");return a.createElement(p.Z,{column:!1,"data-testid":"noNodesViewPage",gap:12,padding:[6]},a.createElement(h.Flex,{column:!0,gap:5,flex:{shrink:0,grow:0},"data-testid":"noKubernetesView-videoSection"},a.createElement(y.Z,{"data-testid":"noNodesView-onboardingVideo",height:350,width:850,videoId:w.mX[0]}),a.createElement(y.Z,{"data-testid":"noNodesView-onboardingVideo",height:350,width:850,videoId:w.mX[1]})),a.createElement(h.Flex,{column:!0,gap:4},a.createElement(h.Box,{border:{side:"bottom",color:"borderSecondary"}},a.createElement(h.Box,{margin:[0,0,2,0]},a.createElement(O.Z,{href:"https://learn.netdata.cloud/guides/monitor/kubernetes-k8s-netdata",target:"_blank",rel:"noopener noreferrer","data-ga":"k8s-tab::click-link-guides::kubernetes-overview-and-visualizations"},a.createElement(h.TextBig,{color:"primary"},"Kubernetes monitoring with Netdata: Overview and visualizations"))),a.createElement(h.Box,{margin:[0,0,2,0]},a.createElement(O.Z,{href:"https://learn.netdata.cloud/docs/cloud/visualize/kubernetes",target:"_blank",rel:"noopener noreferrer","data-ga":"k8s-tab::click-link-guides::kubernetes-visualizations"},a.createElement(h.TextBig,{color:"primary"},"Kubernetes visualizations")))),a.createElement(h.Flex,{column:!0,gap:4},t?a.createElement(E.Z,{integrationId:Z.O_,rooms:[e]}):a.createElement(l.H,null))))},j=n(45987),C=(n(26699),n(32023),n(92222),n(39714),n(71893)),I=n(65565),P=n(92432),S=n(82351),N=n(97945),D=n(96104),T=n(74059),F=(n(69826),C.default.div.withConfig({displayName:"selections__Separator",componentId:"sc-1cc7y18-0"})(["width:1px;height:",";background:",";"],(0,h.getSizeBy)(2.5),(0,h.getColor)("borderSecondary"))),B=[{label:"Volume",value:"volume"},{label:"KS2",value:"ks2"}],M=[{label:"Average",value:"average"},{label:"Median",value:"median"},{label:"Min",value:"min"},{label:"Max",value:"max"},{label:"Stddev",value:"stddev"}],A=[{label:"Metrics",value:""},{label:"Anomaly Rate",value:"anomaly-bit"}],_=function(){return a.createElement(h.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(h.TextMicro,{color:"white"},"Choose the algorithm you want to be used to identify correlations across metrics:"),a.createElement(h.TextMicro,null,a.createElement(h.TextMicro,{color:"white",strong:!0},"KS2:")," ","A statistical test comparing the distribution of the highlighted window to the baseline."),a.createElement(h.TextMicro,null,a.createElement(h.TextMicro,{color:"white",strong:!0},"Volume:")," ","Percentage change in averages between highlighted window and baseline."))},L=function(){return a.createElement(h.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(h.TextMicro,{color:"white"},"What aggregation function do you want to apply when aggregating multiple datapoints for metric correlations."))},R=function(){return a.createElement(h.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(h.TextMicro,{color:"white"},"Do you want to find correlations over the metric values or the anomaly rates of each metric."))},V=function(e){var t=e.runGetWeights,n=e.nodeIds,r=e.flavour,i=(0,s.$g)({nodeIds:n,flavour:r}),c=i.method,l=i.options,u=i.group,d=null!==l&&void 0!==l&&l.includes(A[1].value)?A[1].value:"",m=(0,a.useCallback)((function(e){return function(n){var r=n.value;r="options"!==e?r:r?[r]:[];var a=(0,o.Z)({method:c,options:[l],group:u},e,r);t(a)}}),[c,l,u]),f=(0,a.useMemo)((function(){return{method:B.find((function(e){return e.value===c})),group:M.find((function(e){return e.value===u})),option:A.find((function(e){return e.value===d}))}}),[c,u,d]);return u?a.createElement(h.Flex,{gap:2},a.createElement(h.Flex,{gap:1,alignItems:"center"},a.createElement(h.TextSmall,{color:"textLite"},"Method:"),a.createElement(h.Select,{options:B,value:f.method,onChange:m("method")}),a.createElement(S.Z,{isBasic:!0,plain:!0,content:_,align:"bottom"},a.createElement(h.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(F,null),a.createElement(h.Flex,{gap:1,alignItems:"center"},a.createElement(h.TextSmall,{color:"textLite"},"Aggregation:"),a.createElement(h.Select,{options:M,value:f.group,onChange:m("group")}),a.createElement(S.Z,{isBasic:!0,plain:!0,content:L,align:"bottom"},a.createElement(h.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(F,null),a.createElement(h.Flex,{gap:1,alignItems:"center"},a.createElement(h.TextSmall,{color:"textLite"},"Data:"),a.createElement(h.Select,{options:A,value:f.option,onChange:m("options")}),a.createElement(S.Z,{isBasic:!0,plain:!0,content:R,align:"bottom"},a.createElement(h.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(F,null)):null},z=n(89405),H=function(e){var t=e.highlightAfter,n=e.highlightBefore,r=e.baseline,o=(0,z.rA)(),i=o.localeDateString,c=o.localeTimeString,l=new Date(t),u=new Date(n),s=new Date(r),d=new Date(t),m=Math.round((n-t)/1e3),p=Math.round((t-r)/1e3),g=(0,f.TQ)("highlight");return a.createElement(h.Flex,{gap:4,alignItems:"center"},a.createElement(h.Flex,{gap:2},a.createElement(h.Flex,{column:!0,gap:1},a.createElement(h.TextSmall,{color:"textLite"},"Selected area:"),a.createElement(h.TextSmall,{color:"textLite"},"Reference baseline:")),a.createElement(h.Flex,{column:!0,gap:1},a.createElement(h.TextSmall,{"data-testid":"metricCorrelation-selectedArea"},i(l,{long:!1}),","," ",c(l),"\xa0->\xa0",i(u,{long:!1}),","," ",c(u)),a.createElement(h.TextSmall,{"data-testid":"metricCorrelation-referenceBaseline"},i(s,{long:!1}),","," ",c(s),"\xa0->\xa0",i(d,{long:!1}),","," ",c(d))),a.createElement(h.Flex,{column:!0,gap:1},a.createElement(h.TextSmall,{color:"textLite"},"Duration:"),a.createElement(h.TextSmall,{color:"textLite"},"Duration:")),a.createElement(h.Flex,{column:!0,gap:1},a.createElement(h.TextSmall,{"data-testid":"metricCorrelation-selecteArea-duration"},m,"\xa0secs"),a.createElement(h.TextSmall,{"data-testid":"metricCorrelation-referenceBaseline-duration"},p,"\xa0secs"))),a.createElement(S.Z,{content:"Clear selection",align:"bottom",isBasic:!0},a.createElement(h.Button,{neutral:!0,flavour:"borderless",icon:"trashcan",onClick:function(){g({after:null,before:null})},"data-ga":"metric-correlation::click-delete::charts-view","data-testid":"metricCorrelation-delete"})))},U=n(39979),G=n(63346);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var K=(0,U.Z)(h.Button),q=(0,C.default)(h.Button).withConfig({displayName:"correlation__LogoButton",componentId:"sc-15d72m3-0"})(["&&{pointer-events:none;}"]),Q=(0,C.default)(h.Button).withConfig({displayName:"correlation__CloseButton",componentId:"sc-15d72m3-1"})(["position:absolute !important;top:-3px;right:-3px;"]),X=(0,U.Z)(Q),J=(0,C.default)(h.Button).attrs({padding:[0],margin:[0,0,0,1.5],width:"auto"}).withConfig({displayName:"correlation__StyledButton",componentId:"sc-15d72m3-2"})(["height:16px !important;> span{margin:0 !important;}"]),Y=function(e){var t=e.flavour,n=(0,T.th)(),r=(0,b.UL)(),i=(0,N.pG)(),c=(0,a.useMemo)((function(){return i?[i]:[]}),[i]),l=(0,D.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),d="singleNode"===t?c:l,m=(0,a.useState)(!1),p=(0,u.Z)(m,2),g=p[0],v=p[1],y=(0,a.useState)(),E=(0,u.Z)(y,2),w=E[0],O=E[1],x=(0,s.d5)({nodeIds:d,flavour:t},n,r),Z=x.threshold,k=x.totalDimensionsCount,j=x.dimensionsCount,C=x.loaded,F=x.loading,B=x.getWeights,M=x.resetWeights,A=(0,s.$g)({nodeIds:d,flavour:t}),_=A.method,L=A.options,R=A.group,z=(0,f.by)("highlight"),U=z.after,Q=z.before,Y=U-4*(Q-U),$=!!U;(0,a.useEffect)((function(){if(C){var e="default-result";if(R){var t=null!==L&&void 0!==L&&L.includes("anomaly-bit")?"anomaly-bit":"metrics";e="default-result-".concat(_,"-").concat(R,"-").concat(t)}return(0,P.L)("metrics-correlation",e,"charts-view",j.toString())}}),[C]),(0,I.Z)((function(){U&&v(!0)}),[U]);var ee=(0,f.TQ)("correlation"),te=(0,f.TQ)("threshold"),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(!1),O(),B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({highlightAfter:U,highlightBefore:Q,baselineAfter:Y,baselineBefore:U,method:_,options:L,group:R,nodeIds:d},e)).then((function(){return te(s.mt)}))},re=!$||F;return(0,I.Z)((function(){C&&g&&$&&ne()}),[C,$,g]),a.createElement(h.Flex,{round:2,background:"elementBackground",padding:[2,6,2,2],alignItems:"center",justifyContent:"between",flex:!0,"data-testid":"correlation",position:"relative",height:{min:"64px"},gap:2},$?C?a.createElement(G.Xe,{feature:"MetricCorrelations",totalDimensionsCount:k,dimensionsCount:j},a.createElement(h.Flex,{"data-testid":"metricCorrelation-resultsContainer",column:!0,width:"100%"},a.createElement(h.Flex,{justifyContent:"between",alignItems:"center",gap:1},a.createElement(h.Flex,{alignItems:"center",gap:1},a.createElement(h.Icon,{name:"correlation",color:"primary",width:"16px",height:"16px"}),a.createElement(h.TextSmall,null,"Analysed"," ",a.createElement(h.TextSmall,{color:"primary","data-testid":"metricCorrelation-resultsAnalyzed"},k)," ","and found"," ",a.createElement(h.TextSmall,{color:"primary","data-testid":"metricCorrelation-resultsFound"},j)," ","correlated metrics."),a.createElement(S.Z,{content:"Clear results"},a.createElement(J,{flavour:"borderless",neutral:!0,disabled:F||!C&&!$,onClick:function(){te(s.mt),M(),(0,P.L)("metrics-correlation","click-delete","charts-view","".concat(C?"finish":"start"))},"data-testid":"metricCorrelation-clear",small:!0,icon:"reload"}))),a.createElement(V,{runGetWeights:ne,nodeIds:d,flavour:t})),a.createElement(h.Flex,{width:"100%"},a.createElement(h.Flex,{alignItems:"center",gap:3,margin:[0,2,0,5],width:"100%"},a.createElement(h.TextNano,{whiteSpace:"nowrap",color:"textDescription"},"Show less"),a.createElement(h.InputRange,{"data-testid":"metricCorrelation-resultsSlider",min:0,max:1,onChange:function(e){return te(e.target.value.toString())},onClick:function(){return(0,P.L)("metric-correlation","click-slider","charts-view")},step:.01,value:Z}),a.createElement(h.TextNano,{whiteSpace:"nowrap",color:"textDescription"},"Show more")),a.createElement(a.Fragment,null,a.createElement(S.Z,{content:"Give us your feedback! Was it useful?",align:"bottom",enterDelay:200,showArrow:!0,activateOn:"hover"},a.createElement(h.Flex,null,a.createElement(h.Button,{flavour:"+"===w?"hollow":"borderless",disabled:w,icon:"thumb_up",onClick:function(){return O("+")},"data-ga":"metric-correlation::click-thumbs-up::charts-view","data-testid":"metricCorrelation-thumbsUp",small:!0}),a.createElement(h.Button,{flavour:"-"===w?"hollow":"borderless",disabled:w,icon:"thumb_down",onClick:function(){return O("-")},"data-ga":"metric-correlation::click-thumbs-down::charts-view","data-testid":"metricCorrelation-thumbsDown",small:!0}))))))):a.createElement(h.Flex,{alignItems:"center","data-testid":"correlationView-timePeriod-container",gap:4},a.createElement(q,{icon:"logo_s",isLoading:F}),F?a.createElement(h.H5,{"data-testid":"metricCorrelation-loadingCalculation"},"Calculating metric correlations..."):a.createElement(H,{highlightAfter:U,highlightBefore:Q,baseline:Y})):a.createElement(h.Flex,{alignItems:"center",gap:1},a.createElement(h.Icon,{name:"correlation",color:"primary"}),a.createElement(h.Text,null,"Select a timeframe on any chart and find correlated metrics. Visit documentation"),a.createElement("a",{href:"https://learn.netdata.cloud/docs/cloud/insights/metric-correlations",target:"_blank",rel:"noreferrer"},a.createElement(h.Icon,{name:"nav_arrow_goto",color:"primary",width:"12px",height:"12px"}))),a.createElement(h.Flex,{alignItems:"center"},(!C||F)&&a.createElement(S.Z,{content:re?"Select an area of interest on any chart":"Click to find correlated metrics for the selected area",align:"bottom",enterDelay:200,showArrow:!0,activateOn:"hover"},a.createElement(K,{label:F?"Loading...":"Find correlations",isLoading:!1,onClick:ne,disabled:re,flavour:"hollow","data-ga":"metric-correlation::click-find-correlation::charts-view","data-testid":"metricCorrelation-find",small:!0,margin:[0,2,0,0],feature:"MetricCorrelations"})),a.createElement(S.Z,{content:"Close",align:"bottom"},a.createElement(X,{neutral:!0,flavour:"borderless",onClick:function(){ee(!1),te(s.mt),M(),(0,P.L)("metrics-correlation","click-close","charts-view","".concat(C?"finish":"start"))},"data-ga":"metric-correlation::click-close::charts-view","data-testid":"metricCorrelation-close",icon:"x",feature:"MetricCorrelations"}))))},$=(0,U.Z)(h.Button),ee=function(){var e=(0,f.TQ)("correlation");return a.createElement(S.Z,{content:function(){return a.createElement(h.Box,null,a.createElement("strong",null,"Troubleshoot with Metric Correlations"),a.createElement("br",null),a.createElement("br",null),"Metric correlations will help you identify potential root causes for an observed issue.",a.createElement("br",null),"It will automatically analyse all available metrics for irregular behavior for the same timeframe.")},align:"bottom",activateOn:"hover",isBasic:!0},a.createElement($,{width:"118px",flavour:"hollow",label:"Metric Correlations",onClick:function(){e(!0)},"data-ga":"metrics-correlation::click-metric-correlations::charts-view","data-testid":"run-correlation",small:!0,feature:"MetricCorrelations",isStart:!0}))},te=n(14348),ne=n(88866),re=n(24093),oe=n(77796),ae=n(12008),ie=n(22965),ce=C.default.div.withConfig({displayName:"styled__Separator",componentId:"sc-1fhfk7c-0"})(["background:",";height:20px;width:1px;"],(0,h.getColor)("border")),le=n(83925);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(e){var t,n,r=e.flavour,o=(0,N.pG)(),i=(0,oe.ev)(o),c=(0,ae.n_)(i),l=c.critical,u=c.warning,s=(0,f.Sf)("sidebarTab",{flavour:"val",extraKey:r}),d=(0,f.Sf)("sidebarOpen",{flavour:"bool"}),m=(0,a.useCallback)((function(e){d(!0),s(e)}),[]),p=(0,N.iy)(o),g=p.hw,v=void 0===g?{}:g,b=p.cpus,y=p.isLive,E=p.name,w=p.os,O=void 0===w?{}:w,x=p.state,Z=p.updateSeverity,k=p.labels,j=p.version,C={dataTestId:"singleNode",isLive:y},I=(0,ie.kR)(se({count:l,type:"critical"},C)),P=(0,ie.kR)(se({count:u,type:"warning"},C)),S=(0,ie.Q5)(x),D=(0,ie.jo)(v.container,v.virtualization),T=(0,te.Z)("(min-width: 1760px)");return a.createElement(h.Flex,{alignItems:"center",background:"panelBg",border:{side:"all",color:"border"},"data-testid":"singleNode-badges-container",flex:!1,gap:1,padding:[1,2],round:1},a.createElement(h.TextSmall,{"data-testid":"singleNode-".concat(E),strong:!0},E),a.createElement(re.Z,{badge:"info","data-testid":"singleNode-nodeInfo-cta"},a.createElement(h.IconButton,{flavour:"borderless",cursor:"pointer",onClick:function(){return m("info")},icon:"information",iconColor:"nodeBadgeColor",tiny:!0,width:"18px",height:"18px"})),a.createElement(ce,{"data-testid":"singleNode-separator"}),a.createElement(re.Z,{badge:"alerts",nodeName:E},a.createElement(h.AlertMasterCard,{onClick:I.text||P.text?function(){return m("alerts")}:null,pillLeft:I,pillRight:P})),Z&&a.createElement(le.Z,{"data-testid":"singleNode-update-cta",name:E,os:O.id,container:v.container,warningLevel:Z,labels:k,version:j,text:Z}),a.createElement(ce,{"data-testid":"singleNode-separator"}),a.createElement(re.Z,{badge:"connectivity",connectivityState:S,"data-testid":"singleNode-connectivityStateInfo",nodeName:E},a.createElement(h.Pill,{flavour:"neutral",hollow:!0},S)),a.createElement(re.Z,{badge:"type","data-testid":"singleNode-nodeTypeInfo",nodeName:E,nodeType:D.label},a.createElement(h.Pill,{flavour:"neutral",hollow:!0,icon:D.icon},D.label)),T&&a.createElement(re.Z,{badge:"systemInfo","data-testid":"singleNode-systemInfo",nodeName:E},a.createElement(h.Pill,{flavour:"neutral",hollow:!0,icon:(null===(t=ne._[O.nm])||void 0===t?void 0:t.iconName)||(null===(n=ne.V[O.id])||void 0===n?void 0:n.iconName)||"os"},(0,ie.ys)(v.cpuFrequency)," (",b," ",1===v.cpus?"Core":"Cores",") -"," ",(0,ie.yo)(v.memory)," RAM - ",(0,ie.yo)(v.diskSpace))))},me=n(38671),fe=function(){var e=(0,me.Z)().onIntegrationsClick;return a.createElement(a.Fragment,null,a.createElement(h.Button,{icon:"integrations",flavour:"hollow",onClick:e,small:!0,label:"Integrations","data-ga":"integrations::click-integrations::charts-view","data-testid":"btn-show-integrations"}))},pe=n(71371),ge=["flavour"],ve={singleNode:de,default:pe.Z},he=(0,a.memo)((function(e){var t=e.flavour,n=(0,j.Z)(e,ge),o=(0,f.by)("correlation"),i=ve[t]||ve.default;return a.createElement(h.Flex,{alignItems:!o&&"center",background:"mainBackground",column:o,"data-testid":"overview-header",gap:2,justifyContent:o?"start":"between",padding:[2,2,2,4],width:"100%"},o?a.createElement(Y,{flavour:t}):a.createElement(a.Fragment,null,!!i&&a.createElement(i,(0,r.Z)({},n,{flavour:t})),a.createElement(h.Flex,{gap:2},a.createElement(fe,null),a.createElement(ee,null))))})),be=n(15394),ye=n(53499),Ee=n(22962),we=n(61152),Oe=n(69743),xe=n(56102),Ze=n(11835),ke=(n(31672),n(59461),n(74916),n(4723),n(21249),n(57640),n(9924),n(69968)),je=(n(48564),n(79424),n(71824)),Ce=n(17638),Ie=n(85993),Pe=n(62525),Se=n(41481),Ne=n(16978),De=n(9058),Te=n(64504),Fe=n(84147),Be=function(e){return function(t){return"overview-page::".concat(e.getAttribute("id"),"::").concat(t)}},Me=["chartId"],Ae=["style","className","onMouseDown","onMouseUp","onTouchEnd","children","id","menuChartAttributes"],_e=["id","ids","containerWidth"];function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=(0,a.forwardRef)((function(e,t){var n=e.style,r=e.className,o=e.onMouseDown,i=e.onMouseUp,c=e.onTouchEnd,l=(e.children,e.id),u=e.menuChartAttributes,s=((0,j.Z)(e,Ae),(0,b.UL)()),d=(0,De.e)(),m=(0,Te.u)(),f=(0,a.useMemo)((function(){var e,t="head-".concat(l),n=m.getChildren().find((function(e){return e.match({id:t})}));if(!n){var r=Re({contextScope:[(e=u).chartId]},(0,j.Z)(e,Me));n=d.makeChart({attributes:Re(Re({},r),{},{roomId:s,id:t}),makeTrack:Be}),m.appendChild(n)}return n}),[s,l,m]);return(0,Fe.Ni)(u.chartId)?a.createElement("div",{key:m.getId(),ref:t,style:n,className:r,onMouseDown:o,onMouseUp:i,onTouchEnd:c},a.createElement(Ne.Z,{chart:f,"data-track":f.track("container"),height:n.height,width:"100%"})):null})),ze=(0,je.wJ)(Ve),He=function(e,t){return e.layout||console.warn(t,"has no layout set, default values will be used."),Re(Re({x:0,y:0,w:3,h:5,i:e.id,chartId:e.chartId},e.layout),{},{minW:1,minH:1,static:!1})},Ue={lg:12,md:12,sm:12,xs:12,xxs:1},Ge={lg:40,md:30,sm:30,xs:30,xxs:30},We=function(e){var t=e.id,n=e.ids,o=e.containerWidth,i=(0,j.Z)(e,_e),c=(0,je.mQ)(n,He),l=(0,Se.J1)().filteredChartsCount,s=(0,je.MS)(t),d=(0,a.useMemo)((function(){return{lg:c.filter((function(e){if(!e)return!1;var t=s(e.chartId);return t.visible&&!t.filteredOut&&!t.hidden}))}}),[n,c,l]),m=(0,a.useState)("lg"),f=(0,u.Z)(m,2),p=f[0],g=f[1],v=(0,a.useMemo)((function(){return d.lg.map((function(e){var t=e.i;return a.createElement(ze,{key:t,id:t})}))}),[d]);return n.length?a.createElement(Ce.n,(0,r.Z)({width:"100%"},i),a.createElement(ke.Responsive,{layouts:d,rowHeight:Ge[p],cols:Ue,margin:[4,4],style:{minWidth:"100%"},width:o-26,compactType:"horizontal",onBreakpointChange:g,useCSSTransforms:!1,isDraggable:!1,isResizable:!1},v)):null},Ke=(0,Ie.Lj)(We,(function(e){return{ids:e.headIds}})),qe=(0,Pe.Ji)(We,(function(e){return{ids:e.headIds}})),Qe=["id","isActiveSticky","containerWidth"],Xe=function(e){var t=e.id,n=e.isActiveSticky,o=e.containerWidth,i=(0,j.Z)(e,Qe);return a.createElement(Oe.d,(0,r.Z)({id:t},i),a.createElement(xe.Y,{id:t,tiny:n,hasTooltip:n}),!n&&a.createElement(Ze.f,{id:t,isActiveSticky:n}),!n&&a.createElement(Ke,{id:t,tiny:n,containerWidth:o}))},Je=(0,a.memo)(Xe),Ye=n(93433),$e=n(61181),et=n(54005),tt=["style","className","onMouseDown","onMouseUp","onTouchEnd","children","id"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=[],at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{selectedDimensions:e.dimensions?Object.keys(e.dimensions):ot,selectedInstances:e.instances?Object.keys(e.instances):ot,selectedNodes:e.nodes?Object.keys(e.nodes):ot,weight:e.weight}},it=(0,a.forwardRef)((function(e,t){var n=e.style,o=e.className,i=e.onMouseDown,c=e.onMouseUp,l=e.onTouchEnd,u=e.children,s=e.id,d=(0,j.Z)(e,tt),m=(0,b.UL)(),f=(0,Te.u)(),p=(0,je.nI)(s),g=(0,De.e)(),v=(0,et.Z)(),h=v.sendLog,y=v.isReady,E=(0,a.useMemo)((function(){var e=f.getNode({id:s});return e||(e=g.makeChart({attributes:rt(rt({contextScope:[s],id:s,roomId:m},p),{},{toolboxProps:{drag:{onMouseDown:i,onMouseUp:c,onTouchEnd:l,draggable:!0,onDragStart:function(e){var t=e.dataTransfer;t.setData("type","chart"),t.setData("id",s)}}}}),makeTrack:Be}),f.appendChild(e),e)}),[f,m,s]);(0,a.useEffect)((function(){E&&y&&"function"===typeof h&&E.updateAttribute("logOptions",{sendLog:h,payload:{feature:"Overview"}})}),[E,h,y]);var w=(0,je.Q8)(s,at),O=w.weight,x=w.selectedDimensions,Z=w.selectedInstances,k=w.selectedNodes;return(0,a.useEffect)((function(){E&&O&&(E.updateAttributes({selectedDimensions:x,selectedInstances:Z,selectedNodes:k}),E.trigger("fetch"))}),[m,s,O,x.length,Z.length,k.length]),(0,a.useEffect)((function(){E.updateAttributes({height:n.height,width:n.width}),E.trigger("resize")}),[n.height,n.width]),a.createElement("div",{key:f.getId(),ref:t,style:n,className:o},a.createElement(Ne.Z,(0,r.Z)({chart:E,"data-chartid":s,"data-track":E.track("container"),height:n.height,width:"100%"},d)),u)})),ct=a.memo(it,(function(e,t){return e.id===t.id&&e.style===t.style})),lt=["id","subMenuId","containerWidth"];function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt=(0,C.default)(h.IconButton).attrs({icon:"resize_handler",padding:[0],position:"absolute",bottom:0,right:0,color:"textLite",hoverColor:"textDescription",size:"16px"}).withConfig({displayName:"chartSubMenu__ResizeButton",componentId:"sc-116adw2-0"})(["&&{cursor:ns-resize;}"]),mt=(0,C.default)(ke.Responsive).withConfig({displayName:"chartSubMenu__GridLayout",componentId:"sc-116adw2-1"})([".react-grid-layout{position:relative;transition:height 200ms ease;}.react-grid-item{transition:all 200ms ease;transition-property:left,top;}.react-grid-item img{pointer-events:none;user-select:none;}.react-grid-item.cssTransforms{transition-property:transform;}.react-grid-item.resizing{z-index:1;will-change:width,height;}.react-grid-item.react-draggable-dragging{transition:none;z-index:3;will-change:transform;}.react-grid-item.dropping{visibility:hidden;}.react-grid-item.react-grid-placeholder{background:",";opacity:0.2;transition-duration:100ms;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;}"],(0,h.getColor)("accent")),ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.layout,r=void 0===n?{}:n;return(0,$e.G0)(t,r,st(st({x:0,y:0,w:12,h:9,i:t,chartId:t},r),{},{minW:12,maxW:12,minH:4,static:!1}))},pt={lg:12,md:12,sm:12,xs:12,xxs:1},gt={lg:40,md:30,sm:30,xs:30,xxs:30},vt=function(e){var t=e.id,n=e.subMenuId,i=e.containerWidth,c=(0,j.Z)(e,lt),l=(0,je.nI)(t,ft),s=(0,a.useState)((function(){return{lg:[l]}})),d=(0,u.Z)(s,2),m=d[0],f=d[1],p=(0,a.useState)("lg"),g=(0,u.Z)(p,2),v=g[0],h=g[1],b=(0,a.useMemo)((function(){return m.lg.map((function(e){var t=e.i,o=e.chartId;return a.createElement(ct,(0,r.Z)({key:t,id:t,chartId:o,role:"graphics-object","aria-roledescription":"chart","data-submenuid":n,isDraggable:!1},c))}))}),[v,m]);return a.createElement(mt,{layouts:m,rowHeight:gt[v],cols:pt,margin:[4,4],width:i-26,onLayoutChange:function(e,t){return f(t)},compactType:"horizontal",onBreakpointChange:h,useCSSTransforms:!1,isDraggable:!1,isResizable:!0,isDroppable:!0,resizeHandle:a.createElement(dt,null),onDrop:function(e,t,n){n.dataTransfer&&("chart"===n.dataTransfer.getData("type")?f(st(st({},m),{},(0,o.Z)({},v,[].concat((0,Ye.Z)(m[v]),[st({},ft({id:n.dataTransfer.getData("id")}))])))):n.preventDefault())},onResizeStop:$e.EG},b)},ht=(0,a.memo)(vt),bt=n(14048),yt=n(12664),Et=function(e){var t=e.id,n=e.isActiveSticky;return a.createElement(bt.D,{gap:0,id:t},a.createElement(yt.o,{id:t,margin:[1,0,0],hasTooltip:n}),!n&&a.createElement(qe,{id:t}))},wt=(0,a.memo)(Et),Ot=function(e){var t=e.id,n=(0,b.UL)(),r=(0,De.e)(),o=(0,je.MS)(),i=(0,Ie.nk)(t).subMenuChartIds,c=(0,Te.u)(),l=(0,a.useMemo)((function(){var e=(0,u.Z)(i,1)[0],a=(o(e),c.getChildren().find((function(e){return e.match({id:t})})));if(a)return a;var l=i.map((function(e){return{value:e,label:o(e).context}}));return a=r.makeChart({attributes:{id:t,contextScope:[e],roomId:n,composite:!0,chartLibrary:"groupBoxes",groupBy:["label"],groupByLabel:["k8s_namespace","k8s_pod_name"],aggregationMethod:"avg",eliminateZeroDimensions:!1,contextItems:l},makeTrack:Be}),c.appendChild(a),a}),[t,c]);return a.createElement(Ne.Z,{key:c.getId(),margin:[0,0,2],chart:l,"data-chartid":t,"data-track":l.track("container")})},xt=["id"],Zt=function(e){var t=e.id,n=(0,j.Z)(e,xt);return a.createElement(Oe.d,{id:t,padding:[6,0,0]},a.createElement(xe.Y,{id:t}),a.createElement(Ze.f,{id:t,padding:[2,0,0]}),a.createElement(Ot,(0,r.Z)({id:t},n)))},kt={k8s:(0,a.memo)(Zt)},jt=function(e){if(kt[e.flavour])return kt[e.flavour];switch(e.level){case 0:return Je;case 1:return wt;case 2:return ht;default:return null}},Ct=function(e){var t=e.onChartNameChange,n=e.initialChartName,r=e.dashboardOptions,o=e.linkToGo,i=e.contextToGo,l=e.containerWidth,s=(0,we.Z)("addToDashboardModal"),d=(0,u.Z)(s,4),m=d[0],f=d[3],p=(0,be.Z)({onChartNameChange:t,initialChartName:n,linkToGo:o,contextToGo:i}),g=p.setActiveMenuGroupId,v=p.setActiveSubMenuId;return a.createElement(c.v,null,a.createElement(ye.Z,{onActiveMenuGroupId:g,onActiveSubMenuId:v,getComponent:jt,dashboardOptions:r,initialChartName:n,containerWidth:l}),m&&a.createElement(Ee.Z,{onClose:f}))},It=n(24209);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var St=(0,a.memo)((function(){var e=(0,ae.O0)(),t=(0,u.Z)(e,2),n=t[0],r=t[1],i=(0,De.e)(),c=!!n&&!!i&&i.getNode({id:n.context}),l=function(){if(r(null),null!==n&&void 0!==n&&n.context&&c){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c.getAttribute("overlays"));delete e.alert,c.updateAttribute("overlays",e),history.replaceState({},"")}};(0,a.useEffect)((function(){return l}),[]);var s=(0,b.UL)(),d=(0,Fe.Cd)((null===n||void 0===n?void 0:n.context)&&s,null===n||void 0===n?void 0:n.context);if(!n||null===d||void 0===d||!d.loaded)return null;var m=d.firstEntry;return a.createElement(h.Layer,{backdrop:!1,position:"top",margin:[26,0,0],padding:[26,0,0]},a.createElement(h.Flex,{background:"tooltip",padding:[1,2],gap:2},a.createElement(h.TextSmall,{color:["neutral","porcelain"]},"Showing alert in ",a.createElement(h.TextSmall,{color:"bright"},n.instance)," on"," ",a.createElement(h.TextSmall,{color:"bright"},new Date(1e3*n.lastStatusChange).toLocaleString()),!m&&" doesn't exist on the node anymore",!!m&&m>n.lastStatusChange&&" exceeds agent data retention settings"),a.createElement(h.Flex,{flex:!1},a.createElement(h.Icon,{name:"x",color:"bright",onClick:l,size:"small"}))))})),Nt=St;function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={NoChartsView:g.Z,NoNodesView:l.Z,sidebar:{title:"Filters",hiddenTabs:["info"],Component:It.ZP,props:{}},dashboardOptions:{},loadingMessage:"Loading charts...",Header:he},Bt={overview:Tt(Tt({},Ft),{},{sidebar:Tt(Tt({},Ft.sidebar),{},{title:"Overview"}),feature:"Overview"}),k8s:Tt(Tt({},Ft),{},{NoChartsView:k,NoNodesView:k,sidebar:Tt(Tt({},Ft.sidebar),{},{title:"Kubernetes"}),loadingMessage:"Loading k8s charts...",feature:"Kubernetes"}),singleNode:Tt(Tt({},Ft),{},{sidebar:Tt(Tt({},Ft.sidebar),{},{title:"Single Node",hiddenTabs:["filters"],props:{showCollapsed:!0}}),feature:"SingleNode"})},Mt=function(){return function(){var e=(0,d.E)(),t=(0,s.yp)({nodeIds:e,flavour:"rhs"}),n=(0,m.$B)(),r=(0,u.Z)(n,2),o=r[0],i=r[1],c=(0,f.by)(),l=c.after,p=c.before;(0,a.useEffect)((function(){t()}),[o,i,l,p])}(),null},At=(0,a.memo)((function(e){var t=e.flavour,n=void 0===t?"overview":t,o=e.invalidationKey,l=e.nodeIds,u=e.loaded,s=e.getChart,d=e.chartIds,m=e.areChartsIdsEmpty,f=e.showNoChartsView,g=e.showNoNodesView,h=e.initializing,b=e.chartName,y=e.setChartName,E=e.chartsLoaded,w=e.widthRef,O=e.containerWidth,x=e.nodesKey,Z=e.blurred,k=e.blurProps,j=void 0===k?{}:k,C=e.BlurredContent,I=e.noPreferredNodesError,P=Bt[n],S=P.dashboardOptions,N=P.NoChartsView,D=P.NoNodesView,T=P.sidebar,F=P.loadingMessage,B=P.Header,M=P.feature,A=void 0===M?"Overview":M,_=(0,i.TH)().state;return g?a.createElement(G.ZP,{feature:A,mode:"NoNodesView"},a.createElement(D,null)):h?a.createElement(v.Z,{title:"Please wait while charts are being initialized.",body:"Thank you for your patience!"}):u?a.createElement(G.ZP,{feature:A},a.createElement(c.Z,{key:o,getObject:s,ids:d,linkToGo:null===_||void 0===_?void 0:_.chartName,extraKey:n,deps:[x]},a.createElement(Mt,null),a.createElement(Nt,null),a.createElement(p.Z,{ref:w,sidebar:a.createElement(T.Component,(0,r.Z)({nodeIds:l,title:T.title,initialChartName:b,hiddenTabs:T.hiddenTabs,flavour:n,loaded:E},T.props)),blurred:Z,blurProps:j,BlurredContent:C},a.createElement(B,{flavour:n}),E||I?f||m?a.createElement(N,{noPreferredNodesError:I}):a.createElement(Ct,{dashboardOptions:S,initialChartName:b,onChartNameChange:y,linkToGo:null===_||void 0===_?void 0:_.chartName,contextToGo:null===_||void 0===_?void 0:_.contextToGo,containerWidth:O}):a.createElement(v.Z,{title:F})))):a.createElement(v.Z,{title:F})})),_t=At},57992:function(e,t,n){var r=n(87462),o=n(67294),a=n(97945),i=n(7335),c=n(74059),l=n(54227),u=n(82210);t.Z=function(e){return function(t){var n=(0,c.th)(),s=(0,a.pG)(),d=(0,a.iy)(s,"isLive"),m=(0,a.iy)(s,"name"),f=(0,a.iy)(s,"isPreferred");(0,l.bV)({title:m,id:s,destination:s});var p=(0,a.TQ)(s,n),g=(0,i.DH)();(0,o.useEffect)((function(){if(d&&"hasValue"===p.state){var e=p.contents;null!==e&&void 0!==e&&e.uid&&m&&g(e.uid,null,m)}}),[p,d,m]);var v=(0,o.useMemo)((function(){return[s]}),[s]);return o.createElement(e,(0,r.Z)({flavour:"singleNode",nodeIds:v,blurred:!f,blurProps:{value:"12px"},BlurredContent:u.Z},t))}}},64504:function(e,t,n){n.d(t,{B:function(){return c},u:function(){return i}});n(69826),n(41539),n(31672),n(2490),n(59461),n(74916),n(4723);var r=n(4480),o=n(9058),a=(0,r.cn)({key:"currentChartsContainerKey",default:null}),i=function(){var e=(0,o.e)(),t=(0,r.sJ)(a);return e&&e.getRoot().getChildren().find((function(e){return e.match({id:t})}))},c=function(){return(0,r.Zl)(a)}},9164:function(e,t,n){n.d(t,{Z:function(){return q}});var r=n(87462),o=n(4942),a=n(29439),i=n(45987),c=(n(26699),n(32023),n(92222),n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),l=n(24281),u=n(89250),s=n(39915),d=n(74059),m=n(37518),f=n(96929),p=n(84147),g=n(40970),v=n(96104),h=n(97945),b=n(2077),y=n(41481),E=n(42448),w=n(4822),O=n(12008),x=n(39840),Z=n(39612);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=n(93433),I=(n(69826),n(31672),n(59461),n(74916),n(4723),n(24298)),P=n(96415),S=n(70873),N=n(43460),D=n(84817),T=n(91354),F=n(9058),B=n(65565),M=n(64504),A=n(14808),_=n(99113),L=n(17145),R={ErrAllNodesFailed:"You do not have permissions to request charts metadata.",default:"Something went wrong during the request of charts metadata."},V=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error,t=void 0===e?"":e;return c.createElement(L.Z,{title:"Failed to request contexts"},c.createElement(_.TextBig,null,R[t]||R.default))},z=["flavour","nodeIds"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={default:{shouldHide:function(){return!1}},k8s:{shouldHide:function(e){return!e.context.includes("k8s")}}},W=[],K="ErrNoPreferredNodeRequested",q=function(e){return(0,c.memo)((function(t){var n=t.flavour,o=void 0===n?"overview":n,k=t.nodeIds,_=void 0===k?W:k,L=(0,i.Z)(t,z),R=(0,d.th)(),H=(0,m.UL)(),q=(0,v.fX)({extraKey:o,merge:!1,scoped:!0});q=_.length?_:q;var Q=(0,f.fD)(),X=(0,p.hH)(H),J=(0,u.TH)().state,Y=(0,p.Cd)(H),$=(0,h.Mm)(q),ee=(0,g.Z)(H,q,{spaceId:R}),te=(0,b.d5)({nodeIds:q,flavour:o},R,H),ne=te.contexts,re=te.metadata,oe=te.loaded,ae=te.dimensionsCount,ie=function(){var e=(0,u.TH)().state,t=((void 0===e?{}:e)||{}).alertId,n=void 0===t?null:t,r=(0,O.O0)(),o=(0,a.Z)(r,2),i=o[0],l=o[1],s=n||(null===i||void 0===i?void 0:i.id),d=(0,O.E5)(s);(0,O.yx)(d.id),(0,c.useEffect)((function(){(d.fullyLoaded||d.id)&&l(j(j({},d),{},{formattedLastStatusChangeValue:(0,x.m9)(d.lastStatusChangeValue,d.units),linkToGo:"chart_".concat((0,Z.Z)(d.context))}))}),[d.id,d.fullyLoaded]);var m=null!==i&&void 0!==i&&i.id?"chart_".concat((0,Z.Z)(i.context)):null;return[d.id,m]}(),ce=(0,a.Z)(ie,2)[1],le=_?_.join():o,ue=(0,d.Q6)(),se=(0,l.Z)(),de=(0,a.Z)(se,2),me=de[0],fe=de[1].width;!function(e,t,n){var r=n.width,o=n.host;if(!o)throw"No host provided";var i=(0,F.e)(),l=(0,c.useRef)(),s=(0,p.QX)(e,"error"),d=(0,w.I0)(),m=(0,a.Z)(d,2),f=m[0].correlation,g=m[1],v=(0,u.TH)(),h=v.state,b=v.pathname,y=(0,M.B)(),E=(0,p.qU)(e),O=(0,p.w4)(e);(0,c.useLayoutEffect)((function(){if(e&&i&&!s){var n=i.getRoot().getChildren().find((function(e){return e.match({id:b})}));if(!n)return n=i.makeContainer({attributes:{id:b,roomId:e,host:o,navigation:f?"highlight":"pan",overlays:{proceeded:{type:"proceeded"}},composite:!0,nodesScope:t,hasCorrelation:!0,versions:E,containerWidth:r,toolboxElements:[].concat((0,C.Z)(A.h2?[T.Z]:[]),[N.default,P.default,S.default,D.Z])}}),i.appendChild(n),y(b),l.current=n,(0,I.unregister)(i.on("correlation",(function(e,t){t&&g({correlation:!0})})),n.onAttributeChange("versions",O));y(b)}}),[e,s,b]),(0,c.useMemo)((function(){l.current&&(l.current.setAttribute("containerWidth",r),l.current.getNodes().forEach((function(e){return e.updateAttribute("containerWidth",r)})))}),[l.current,r]),(0,B.Z)((function(){l.current&&l.current.getNodes().forEach((function(e){e.updateAttribute("nodesScope",t),e.getAttribute("active")&&"chart"===e.type&&e.fetch()}))}),[l.current,t]),(0,c.useEffect)((function(){l.current&&l.current.getApplicableNodes({syncHighlight:!0}).forEach((function(e){e.updateAttribute("navigation",f?"highlight":"pan")}))}),[l.current,f]),(0,c.useEffect)((function(){return function(){return l.current&&l.current.destroy()}}),[]),(0,c.useEffect)((function(){if(l.current&&h&&h.context){var e=h.context,t=h.chartId,n=h.nodeId,r=l.current.getNode({id:e});r&&r.updateAttributes({selectedInstances:["".concat(t,"@").concat(n)],selectedNodes:[n]});var o=t&&n&&l.current.on("chartLoaded",(function(r){var a=r.getAttribute("id");e===a&&(r.updateAttributes({selectedInstances:["".concat(t,"@").concat(n)],selectedNodes:[n]}),o())}));return function(){return h&&(0,I.unregister)(o)}}}),[l.current,h])}(H,q,{host:ue?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(R,"/rooms/").concat(H),width:fe});var pe=(0,p.jg)(H),ge=(0,p.YZ)(H),ve=oe?re:Y,he=G[o]||G.default,be=(0,p.Uq)(H),ye=(0,s.Z)(be),Ee=(0,y.Np)(oe?ne:pe,Y,H,U(U({},he),{},{force:oe||be!==ye,cacheKey:"".concat(o,"-").concat(ae,"-").concat(le)})),we=(0,p.MS)(H,re),Oe=(0,s.Z)(ee,!0),xe=Ee<1,Ze=(0,w.I0)("chartName",{key:H,extraKey:le,flavour:"val"}),ke=(0,a.Z)(Ze,2),je=ke[0],Ce=ke[1];(0,c.useEffect)((function(){H&&Ce(ce||(null===J||void 0===J?void 0:J.chartName)||je)}),[H,ce]);var Ie=(0,M.u)(),Pe=Object.keys(ve).length<1&&X||q.length&&!$.length,Se=(0,f.zN)(),Ne=(null===ge||void 0===ge?void 0:ge.errorMsgKey)==K;if(!Pe&&!1!==Oe&&ee&&"No data for this period"!==ee&&ee!==K&&!Object.keys(ve).length)return c.createElement(V,{error:ee});var De=!!H&&Q&&(!!Ie||Ne);return c.createElement(e,(0,r.Z)({nodeIds:$,loaded:De,getChart:we,areChartsIdsEmpty:xe,showNoNodesView:Q&&!Se.length,showNoChartsView:Pe,initializing:ee&&(0,E.V)(ee),chartName:je,setChartName:Ce,chartsLoaded:X&&!!fe,invalidationKey:H,flavour:o,chartIds:oe?ne:pe,widthRef:me,containerWidth:fe,nodesKey:le,noPreferredNodesError:Ne},L))}))}},80682:function(e,t,n){n.d(t,{Bo:function(){return i},C0:function(){return f},HA:function(){return l},JG:function(){return o},Oj:function(){return v},PD:function(){return c},ZA:function(){return d},a2:function(){return s},es:function(){return p},lN:function(){return u},qB:function(){return a},ub:function(){return m},zj:function(){return g}});var r=n(4480),o=(0,r.xu)({key:"homePageNodeDetailsId",default:null}),a={loaded:!1,error:!1,nodes:{},replicationFactor:{},totalChildren:0,totalParents:0},i=(0,r.xu)({key:"replicationStats",default:a}),c={loaded:!1,error:!1,alerts:[],nodes:{critical:0,warning:0,total:0,hosts:{}}},l=(0,r.xu)({key:"alertsStats",default:c}),u={loaded:!1,error:!1,stability:{}},s=(0,r.xu)({key:"stability",default:u}),d={loaded:!1,error:!1,dataRetention:[],metricsCollected:0},m=(0,r.xu)({key:"chartsStats",default:d}),f={loaded:!1,error:!1,nodes:{}},p=(0,r.xu)({key:"nodesStats",default:f}),g={loaded:!1,error:!1,charts:{}},v=(0,r.xu)({key:"chartsMetrics",default:g})},71410:function(e,t,n){var r=n(87462),o=n(29439),a=(n(69826),n(41539),n(31672),n(2490),n(59461),n(69720),n(21249),n(57640),n(9924),n(47042),n(67294)),i=n(89250),c=n(99113),l=n(8999),u=n(97945),s=n(53338),d=n(91060),m=n(46038),f=n(21872),p=function(e){var t,n=null===(t=Object.entries(s.AS).find((function(t){return(0,o.Z)(t,2)[1]==e})))||void 0===t?void 0:t[0];return d.gJ[n]||"offline"},g=function(e){var t=e.id,n=e.hostname,r=e.status,o=e.flavour,l=(0,i.s0)(),s=(0,u.m3)(t),d="sidebar"==o,m=(0,a.useCallback)((function(){return l(s)}),[s]);return a.createElement(c.Flex,{key:t,gap:2,justifyContent:"between"},a.createElement(c.Flex,{gap:2},a.createElement(c.Icon,{name:"dot",width:"8px",color:p(r)}),a.createElement(c.Text,null,n)),d&&a.createElement(c.Icon,{name:"goToNode",color:"text",onClick:m,cursor:"pointer"}))},v=function(e){var t=e.nodes,n=void 0===t?[]:t,o=e.flavour,i=e.limit,l=void 0===i?10:i;return n.length?"sidebar"==o||n.length<=l?n.map((function(e){return a.createElement(g,(0,r.Z)({key:e.id,flavour:o},e))})):a.createElement(c.Flex,{column:!0,gap:2},n.slice(0,l).map((function(e){return a.createElement(g,(0,r.Z)({key:e.id,flavour:o},e))})),a.createElement(c.Text,{color:"primary"},n.length-l," more items")):"-"};t.Z=function(e){var t=e.id,n=e.flavour,r=void 0===n?"tooltip":n,o=(0,l.DT)()||{},i=o.loaded,u=o.nodes,s=(null===u||void 0===u?void 0:u[t])||{},d=s.children,p=s.parents;return i?"sidebar"==r?a.createElement(m.Z,{name:"Replication"},a.createElement(f.Z,{size:"small",name:"Parents"},a.createElement(v,{nodes:p,flavour:r})),a.createElement(f.Z,{size:"small",name:"Children"},a.createElement(v,{nodes:d,flavour:r}))):a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.Flex,{column:!0,gap:1},a.createElement(c.Text,null,"Parents"),a.createElement(v,{nodes:p,flavour:r})),a.createElement(c.Flex,{column:!0,gap:1},a.createElement(c.Text,null,"Children"),a.createElement(v,{nodes:d,flavour:r}))):null}},91060:function(e,t,n){n.d(t,{LR:function(){return g},RJ:function(){return h},RN:function(){return E},Zk:function(){return y},_v:function(){return m},cN:function(){return s},cj:function(){return d},gJ:function(){return p},l$:function(){return u},lG:function(){return c},wx:function(){return v},yB:function(){return f}});var r,o,a,i=n(4942),c={none:{label:"None",value:"none",canAddNodes:!0},status:{label:"Status",value:"status",canAddNodes:!1},os:{label:"OS",value:"os",canAddNodes:!0},version:{label:"Agent version",value:"version",canAddNodes:!1},technology:{label:"Technology",value:"technology",canAddNodes:!0},stability:{label:"Connection stability",value:"stability",canAddNodes:!1},replication:{label:"Replication factor",value:"replication",canAddNodes:!1},cloudProvider:{label:"Cloud provider",value:"cloudProvider",canAddNodes:!1},cloudRegion:{label:"Cloud region",value:"cloudRegion",canAddNodes:!1},instanceType:{label:"Instance type",value:"instanceType",canAddNodes:!1}},l={r_1:"None",r_2:"Single","r_*":"Multi"},u={replication:l},s=c.none,d=c.status,m=[s,c.status,c.os,c.technology,c.version,c.replication,c.cloudProvider,c.cloudRegion,c.instanceType],f=[d,c.stability,c.replication],p={live:"success",offline:"offline",stale:"stale",unseen:"unseen"},g={r_1:["blue","indigo"],r_2:["purple","lilac"],"r_*":["purple","lilacFocus"]},v=(r={},(0,i.Z)(r,c.status.value,p),(0,i.Z)(r,c.stability.value,{stable:"success",unstable:"error"}),(0,i.Z)(r,c.replication.value,g),r),h=(o={},(0,i.Z)(o,c.os.value,(function(e){return{group:e.os.nm,type:e.os.id}})),(0,i.Z)(o,c.version.value,(function(e){return{group:e.version}})),(0,i.Z)(o,c.status.value,(function(e){return{group:e.nodeStatus}})),(0,i.Z)(o,c.technology.value,(function(e){return{group:e.technology,type:e.technology}})),(0,i.Z)(o,c.replication.value,(function(e){return{group:e.replicationFactor}})),(0,i.Z)(o,c.cloudProvider.value,(function(e){var t;return{group:null===(t=e.labels)||void 0===t?void 0:t.cloud_provider}})),(0,i.Z)(o,c.cloudRegion.value,(function(e){var t;return{group:null===(t=e.labels)||void 0===t?void 0:t._cloud_instance_region}})),(0,i.Z)(o,c.instanceType.value,(function(e){var t;return{group:null===(t=e.labels)||void 0===t?void 0:t._cloud_instance_type}})),o),b=(a={},(0,i.Z)(a,c.replication.value,(function(e){return l[e]})),(0,i.Z)(a,"default",(function(e){return e})),a),y=function(e){var t=b[e];return t||b.default},E={isHover:!1,nodes:[]}},95615:function(e,t,n){n.d(t,{Z:function(){return nn}});var r=n(67294),o=n(99113),a=n(91268),i=n(29439),c=(n(66992),n(41539),n(88674),n(78783),n(33948),n(2145)),l=n(8999),u=(0,c.Z)((function(){return n.e(9094).then(n.bind(n,39094))}),"Contents"),s=function(){var e=(0,l.HX)(),t=(0,i.Z)(e,2),n=t[0],o=t[1];return n?r.createElement(u,{id:n,onClose:function(){return o(null)}}):null},d=n(78266),m=n(96929),f=n(36560),p=(n(47941),n(82526),n(57327),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(4942)),g=n(87462),v=n(45987),h=["title","icon","iconColor"],b=["titleProps","children"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(e){var t=e.title,n=e.icon,a=e.iconColor,i=(0,v.Z)(e,h);return r.createElement(o.Flex,(0,g.Z)({alignItems:"center",gap:2},i),n&&r.createElement(o.Icon,(0,g.Z)({name:n},a?{color:a}:{})),r.createElement(o.TextBig,null,t))},w=function(e){var t=e.titleProps,n=e.children,a=(0,v.Z)(e,b),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({padding:[4],gap:4,background:"panelBg"},t?{column:!0}:{});return r.createElement(o.Flex,(0,g.Z)({},i,a),t?r.createElement(E,t):null,n)},O=n(93433),x=(n(92222),n(85827),n(25387),n(72608),n(21249),n(57640),n(9924),["title","headerInfo","containerProps","TitleComponent"]),Z=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.title,a=void 0===n?"":n,i=t.headerInfo,c=t.containerProps,l=void 0===c?{}:c,u=t.TitleComponent,s=void 0===u?o.TextBigger:u,d=(0,v.Z)(t,x);return r.createElement(o.Flex,(0,g.Z)({column:!0,gap:2,alignItems:"center",justifyContent:"center"},l),a&&r.createElement(o.Flex,{gap:2,alignItems:"center"},r.createElement(s,null,a),i),r.createElement(e,d))}},k=Z((function(e){var t=e.number,n=void 0===t?0:t,a=e.NumberComponent,i=void 0===a?o.TextHuge:a;return r.createElement(i,{strong:!0},n)}));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return e.map((function(e){return C(C({},e),{},{width:"".concat(Math.floor(e.value/t*100),"%")})}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?[]:t,a=e.testId,i=void 0===a?"":a,c=e.numberIndicatorProps,l=void 0===c?{}:c;return r.createElement(o.Flex,{width:"100%",column:!0,gap:2},r.createElement(o.Flex,{justifyContent:"around"},n.map((function(e){var t=e.label,n=e.value;return r.createElement(k,(0,g.Z)({key:"".concat(t,"-").concat(n),title:t,number:n},l))}))),r.createElement(o.ProgressBar,{background:"borderSecondary",border:"none",containerWidth:"100%","data-testid":i,height:2,value:I(n.filter((function(e){return!e.omit})))}))},S=n(96104),N=["total","count","live","offline","stale","unseen"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var T=Z((function(e){var t=e.total,n=e.count,a=e.live,i=e.offline,c=e.stale,l=e.unseen,u=(0,v.Z)(e,N),s=(0,r.useMemo)((function(){var e={label:"Unseen",value:l,color:"unseen"};return[].concat([{label:"Live",value:a,color:"success"},{label:"Offline",value:i,color:"offline"},{label:"Stale",value:c,color:"stale"}],(0,O.Z)(l?[e]:[]))}),[a,i,c,l]);return r.createElement(o.Flex,{width:"100%",column:!0,alignItems:"center",gap:4},r.createElement(o.Flex,{gap:2,alignItems:"baseline"},r.createElement(o.TextHuge,(0,g.Z)({strong:!0},u),n||"-"),"-"!=n&&t!=n&&r.createElement(o.Text,null,"of ",t)),r.createElement(P,{data:s,numberIndicatorProps:{TitleComponent:o.TextBig,NumberComponent:o.TextBigger}}))})),F=function(e){var t=(0,m.zN)(),n=t.length,o=(0,S.jo)({keepAll:!1}),a=(0,r.useMemo)((function(){return o.reduce((function(e,t){var n=t.isLive,r=t.isOffline,o=t.isUnseen,a=t.state;return{live:n?e.live+1:e.live,offline:r?e.offline+1:e.offline,stale:"stale"==a?e.stale+1:e.stale,unseen:o?e.unseen+1:e.unseen}}),{live:0,offline:0,stale:0,unseen:0})}),[o]),i=(0,r.useMemo)((function(){var e=(null===o||void 0===o?void 0:o.length)||"-";return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({total:n,count:e,title:o&&n!=e?"Selected nodes":"Total nodes"},a)}),[t,o]);return r.createElement(T,(0,g.Z)({},i,e))},B=n(9446),M=n(71893),A=(0,M.default)(o.TextSmall).withConfig({displayName:"pieChartLabels__StyledText",componentId:"sc-3919ls-0"})(["display:flex;align-items:center;cursor:",";&:hover{opacity:",";}"],(function(e){return e.onClick?"pointer":"auto"}),(function(e){return e.onClick?"0.7":"1"})),_=(0,r.memo)((function(e){var t=e.title,n=e.value,a=e.color,i=e.onClick,c=void 0===i?null:i;return r.createElement(o.Flex,{alignItems:"center",justifyContent:"between",width:"100%",gap:4,flex:{grow:1,shrink:0}},r.createElement(o.Flex,{gap:1},r.createElement(o.Flex,{width:"4px",height:"16px",background:a}),r.createElement(A,{whiteSpace:"nowrap",onClick:c},t,c&&r.createElement(o.Icon,{color:"textLite",margin:[0,0,0,1],name:"nav_arrow_goto",height:"10px",width:"10px"}))),r.createElement(o.Text,{strong:!0},null!==n&&void 0!==n?n:"-"))})),L=function(e){var t=e.data;return r.createElement(o.Flex,{column:!0,alignItems:"start",justifyContent:"center",gap:5},t.map((function(e,t){var n=e.title,o=e.value,a=e.color,i=e.onClick;return r.createElement(_,{key:"".concat(n,"-").concat(o,"-").concat(t),title:n,value:o,color:a,onClick:i})})))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){var t=e.data,n=e.theme;return t.map((function(e){return V(V({},e),{},{color:(0,o.getColor)(e.color)({theme:n})})}))},H=function(e){var t=e.chartData,n=void 0===t?[]:t,a=e.lineWidth,i=void 0===a?15:a,c=e.animate,l=void 0===c||c,u=e.label,s=e.hasData,d=(0,r.useContext)(M.ThemeContext);return r.createElement(o.Flex,{gap:4,margin:[0,4],height:{min:"70px",max:"130px"},alignItems:"center"},r.createElement(o.Flex,{height:"70px",flex:{grow:1,shrink:1}},s?r.createElement(B.PieChart,{label:function(){return u},labelStyle:{fontSize:"34px",fontWeight:700,lineHeight:"38px",fill:(0,o.getColor)("textDescription")({theme:d})},labelPosition:0,data:z({data:n,theme:d}),lineWidth:i,animate:l}):r.createElement(o.Icon,{color:"border",name:"pie_chart_skeleton",width:"70px",height:"70px",alignSelf:"center"})),r.createElement(L,{data:n}))},U=n(39840),G=n(597);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=Z((function(e){return r.createElement(o.Flex,{gap:2,justifyContent:"between",padding:[2,0,0,0]},r.createElement(H,e))})),Q=function(e){var t=(0,G.Kn)({extraKey:"alerts"}),n=(t||[]).reduce((function(e,t){var n=t.status;return K(K({},e),{},(0,p.Z)({},n,e[n]+1))}),{critical:0,warning:0}),o=n.critical,a=n.warning,i=(0,U.yi)(),c=(0,r.useMemo)((function(){return{chartData:[{title:"Critical",value:o,color:"errorText",onClick:function(){return i("critical")}},{title:"Warning",value:a,color:"warningText",onClick:function(){return i("warning")}}],hasData:!!t,label:null===t||void 0===t?void 0:t.length}}),[o,a,i]);return r.createElement(q,(0,g.Z)({title:"Active alerts"},c,e))},X=n(10082),J=function(){return r.createElement(o.Flex,{column:!0,gap:4,basis:"205px"},r.createElement(F,null),r.createElement(X.Z,null),r.createElement(Q,null))},Y=n(50308),$=n.n(Y),ee=n(53030),te=(n(69720),n(91060)),ne=n(64637),re=function(e){var t=e.label,n=e.color;return r.createElement(o.Flex,{height:"32px",gap:1,alignItems:"center"},r.createElement(o.Flex,{width:"12px",height:"12px",background:n}),r.createElement(o.Text,null,(0,ne.fm)(t)))},oe=function(e){var t=e.colorBy,n=Object.entries(te.wx[null===t||void 0===t?void 0:t.value]||{}),a=te.l$[null===t||void 0===t?void 0:t.value]||{};return n.length?r.createElement(o.Flex,{gap:2},n.map((function(e){var t=(0,i.Z)(e,2),n=t[0],o=t[1];return r.createElement(re,{key:n,label:a[n]||n,color:o})}))):null},ae=function(e){var t=e.groupBy,n=e.setGroupBy,a=void 0===n?$():n,i=e.colorBy,c=e.setColorBy,l=void 0===c?$():c,u=e.onAddNode;return r.createElement(o.Flex,{alignItems:"end",justifyContent:"between"},r.createElement(o.Flex,{gap:3,alignItems:"end"},r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Text,null,"Group by"),r.createElement(o.Select,{options:te._v,value:t,onChange:a})),r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Text,null,"Color by"),r.createElement(o.Select,{options:te.yB,value:i,onChange:l})),r.createElement(oe,{colorBy:i})),r.createElement(ee.Z,{flavour:"borderless",icon:"add_node",iconColor:"text",onClick:u}))},ie=(n(26833),n(26699),n(32023),(0,M.default)(o.Box).withConfig({displayName:"styled__PolygonContainer",componentId:"sc-9bx1cv-0"})(["width:22px;position:relative;aspect-ratio:1;background-color:",";cursor:",";opacity:",";clip-path:polygon( 93.56% 74.55%,50.52% 100%,6.96% 75.45%,6.44% 25.45%,49.48% 0%,93.04% 24.55%,93.56% 74.55% );"],(function(e){var t=e.background;return(0,o.getColor)(t||"offline")}),(function(e){return e.onClick?"pointer":"default"}),(function(e){return e.isDisabled?"0.5":"1"}))),ce=(0,M.default)(o.Box).withConfig({displayName:"styled__PolygonInner",componentId:"sc-9bx1cv-1"})(["width:18px;position:absolute;top:2px;left:2px;aspect-ratio:1;background-color:",";opacity:",";clip-path:polygon( 93.56% 74.55%,50.52% 100%,6.96% 75.45%,6.44% 25.45%,49.48% 0%,93.04% 24.55%,93.56% 74.55% );"],(function(e){var t=e.background;return(0,o.getColor)(t||"offline")}),(function(e){return e.isDisabled?"0.5":"1"})),le=(0,M.default)(o.Icon).withConfig({displayName:"styled__AddNodeIcon",componentId:"sc-9bx1cv-2"})(["position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);"]),ue=(0,M.default)(o.Box).withConfig({displayName:"styled__Groups",componentId:"sc-9bx1cv-3"})(["width:100%;display:grid;grid-template-columns:repeat(2,1fr);gap:16px;"]),se=(0,M.default)(o.Flex).withConfig({displayName:"styled__NodeContainer",componentId:"sc-9bx1cv-4"})(["opacity:",";"],(function(e){return e.isActive?"1":".3"})),de=n(74059),me=n(37518),fe=n(33335),pe=n(82351),ge=["children","innerProps","containerProps"];function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var he,be=(he=function(e){var t=e.children,n=e.innerProps,o=void 0===n?{}:n,a=e.containerProps,i=void 0===a?{}:a,c=(0,v.Z)(e,ge);return r.createElement(se,(0,g.Z)({margin:[0,0,.5,0]},c),r.createElement(ie,i,r.createElement(ce,o,t)))},function(e){return e.tooltip?r.createElement(pe.Z,{plain:!0,content:e.tooltip},r.createElement(o.Box,null,r.createElement(he,e))):r.createElement(he,e)}),ye=function(e){var t=e.type,n=e.onClick,o=(0,me.Hm)(),a=(0,de.Q6)(),i=(0,fe.gI)("node:Create"),c=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:"success",isDisabled:!i},i?{onClick:function(){return n({type:t})}}:{})}),[i]),l=i?"Add node":a?"You are viewing your local node, connect to cloud and connect multiple nodes to view at once":"Only admin users can add nodes to ".concat(o.name);return r.createElement(r.Fragment,null,r.createElement(be,{containerProps:c,innerProps:{background:"panelBg"},tooltip:l,isActive:!0},r.createElement(le,{name:"plus",color:"success"})))},Ee=be,we=n(11389),Oe=n(48235),xe=n(88866),Ze=n(22965),ke=function(e){var t,n,a=e.architecture,i=e.cpuFrequency,c=e.cpus,l=e.diskSpace,u=e.memory,s=e.os,d=e.osName,m=[(0,Ze.ys)(i),(0,Ze.MC)(c,1===c?"Core":"Cores"),(0,Ze.MC)(a),(0,Ze.MC)((0,Ze.yo)(u),"RAM"),(0,Ze.MC)((0,Ze.yo)(l),"HD")];return r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Flex,{gap:1},r.createElement(o.Icon,{"data-testid":"node-system-info-icon",name:(null===(t=xe._[d])||void 0===t?void 0:t.iconName)||(null===(n=xe.V[s])||void 0===n?void 0:n.iconName)||"os",width:"16px",height:"16px",color:"text"}),r.createElement(o.Flex,null,(0,Ze.MC)(d))),m.map((function(e,t){return r.createElement(o.Text,{key:t},"\u2022 ",e)})))},je=n(71410),Ce=function(e){var t=e.isStable,n=t?{icon:"checkmark_s",color:"primary",borderColor:"primary"}:{icon:"warning_triangle",color:"stale",borderColor:"stale"};return r.createElement(o.Pill,(0,g.Z)({hollow:!0},n),t?"Stable":"Unstable")},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.name,a=e.state,i=e.hw,c=e.os,u=e.isStable,s=e.setActiveNodes,d=((0,l.DT)()||{}).nodes,m=null===d||void 0===d?void 0:d[t];return(0,r.useEffect)((function(){if("function"==typeof s){var e=m||{},n=e.children,r=e.parents,o=m?[].concat((0,O.Z)([].concat((0,O.Z)(r),(0,O.Z)(n)).map((function(e){return e.id}))||[]),[t]):[t];s({isHover:!0,nodes:o})}return function(){"function"==typeof s&&s(te.RN)}}),[t,m]),r.createElement(o.Flex,{column:!0,gap:3,width:{min:40},background:"mainBackground",padding:[2,4]},r.createElement(o.TextBig,{strong:!0},n),r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Text,null,"Status"),r.createElement(o.Flex,null,r.createElement(we.Z,{state:a}))),r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Text,null,"Connection"),r.createElement(o.Flex,null,r.createElement(Ce,{isStable:u}))),r.createElement(o.Flex,{column:!0,gap:1},r.createElement(o.Text,null,"Alerts"),r.createElement(Oe.Z,{id:t})),r.createElement(X.Z,{color:"textLite"}),r.createElement(ke,{architecture:i.architecture,cpuFrequency:i.cpuFrequency,cpus:i.cpus,"data-testid":"nodeRow-system-info",diskSpace:i.diskSpace,memory:i.memory,name:n,osName:c.nm,os:c.id}),r.createElement(X.Z,{color:"textLite"}),r.createElement(je.Z,{id:t}))},Pe=n(12008),Se=n(77796),Ne=(n(64211),n(41874),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.colorBy,o=void 0===n?{}:n,a=t.node,i=void 0===a?{}:a,c=t.isStable,l=o.value,u=te.RJ[l],s=(0,Se.ev)(i.id),d=(0,Pe.n_)(s),m=d.critical,f=d.warning,p=te.wx[l],g=p[null===u||void 0===u||null===(e=u(i))||void 0===e||null===(e=e.group)||void 0===e?void 0:e.toLowerCase()];l==te.lG.stability.value&&(g=p[c?"stable":"unstable"]);var v=(0,r.useMemo)((function(){return function(e){var t=e.critical,n=e.warning;return t?"error":n?"warning":null}({critical:m,warning:f})||g}),[g,m,f]);return{borderColor:v,background:g}}),De=["colorBy","stability","setActiveNodes"],Te=function(e){var t=e.colorBy,n=e.stability,o=void 0===n?{}:n,a=e.setActiveNodes,c=(0,v.Z)(e,De),u=(o[c.id]||{}).isStable,s=Ne({colorBy:t,node:c,isStable:u}),d=s.borderColor,m=s.background,f=(0,l.HX)(),p=(0,i.Z)(f,2)[1],h=(0,r.useCallback)((function(){return p(c.id)}),[c.id,p]);return r.createElement(Ee,(0,g.Z)({containerProps:{background:d,onClick:h},innerProps:{background:m},tooltip:r.createElement(Ie,(0,g.Z)({isStable:u,setActiveNodes:a},c))},c))},Fe=n(82902),Be=["title"],Me=["nodes","type","stability","groupBy","colorBy","onAddNode"],Ae=function(e){return function(t){var n,a=t.title,i=(0,v.Z)(t,Be);return a?r.createElement(o.Flex,{column:!0,gap:2},r.createElement(o.Flex,{justifyContent:"between",border:{side:"bottom",color:"border"}},r.createElement(o.TextBig,{strong:!0},a),null!==(n=i.nodes)&&void 0!==n&&n.length?r.createElement(o.TextBig,null,"".concat(i.nodes.length," ").concat((0,Fe.V6)(i.nodes.length))):null),r.createElement(e,i)):r.createElement(e,i)}}(function(e){return function(t){var n=(0,l.RF)().stability;return r.createElement(e,(0,g.Z)({stability:n},t))}}((0,r.memo)((function(e){var t=e.nodes,n=void 0===t?[]:t,a=e.type,c=e.stability,l=void 0===c?{}:c,u=e.groupBy,s=e.colorBy,d=e.onAddNode,m=(0,v.Z)(e,Me),f=(0,r.useState)(te.RN),p=(0,i.Z)(f,2),h=p[0],b=p[1],y=h.isHover,E=h.nodes,w=null===u||void 0===u?void 0:u.canAddNodes;return r.createElement(o.Flex,(0,g.Z)({flexWrap:!0},m),n.map((function(e){return r.createElement(Te,(0,g.Z)({key:e.id,colorBy:s,stability:l,isActive:!y||E.includes(e.id),setActiveNodes:b},e))})),w?r.createElement(ye,{type:a,onClick:d}):null)})))),_e=function(e){return function(t){var n=te.RJ[e],r=(0,te.Zk)(e);return t.reduce((function(e,t){var o=n(t),a=o.group,i=void 0===a?"unknown":a,c=o.type;return e[i]?e[i].nodes=[].concat((0,O.Z)(e[i].nodes),[t]):e[i]={title:r(i),type:c,nodes:[t]},e}),{})}},Le={os:_e("os"),version:_e("version"),status:_e("status"),technology:_e("technology"),replication:_e("replication"),cloudProvider:_e("cloudProvider"),cloudRegion:_e("cloudRegion"),instanceType:_e("instanceType"),none:function(e){return{none:{nodes:e}}}},Re=function(e){var t,n=e.value,r=(0,S.jo)({keepAll:!1});return null===(t=Le[n])||void 0===t?void 0:t.call(Le,r)},Ve=function(){return r.createElement(o.Flex,null,r.createElement(o.TextBig,null,"No nodes found"))},ze=function(e){var t=e.groupBy,n=e.colorBy,a=e.onAddNode,i=Re(t);if(!i)return r.createElement(Ve,null);var c=Object.values(i);if(!c.length)return r.createElement(Ve,null);if((null===t||void 0===t?void 0:t.value)==te.cN.value){var l=c[0].nodes;return r.createElement(Ae,{nodes:l,groupBy:t,colorBy:n,onAddNode:a})}var u=1==c.length?o.Flex:ue;return r.createElement(u,null,c.map((function(e){var o=e.title,i=e.type,c=e.nodes;return r.createElement(Ae,{key:o,title:o,type:i,nodes:c,groupBy:t,colorBy:n,onAddNode:a,margin:[0,0,2,0]})})))},He=n(89149),Ue=function(){var e=(0,r.useState)(te.cN),t=(0,i.Z)(e,2),n=t[0],a=t[1],c=(0,r.useState)(te.cj),l=(0,i.Z)(c,2),u=l[0],s=l[1],d=(0,r.useState)(),m=(0,i.Z)(d,2),f=m[0],p=m[1],g=(0,r.useCallback)((function(e){p(e)}),[p]),v=(0,r.useCallback)((function(){return p()}),[p]);return r.createElement(o.Flex,{column:!0,gap:4,basis:"calc(100% - 410px)"},r.createElement(ae,{groupBy:n,setGroupBy:a,colorBy:u,setColorBy:s,onAddNode:g}),r.createElement(o.Flex,{height:{max:150},overflow:{vertical:"auto"}},r.createElement(ze,{groupBy:n,colorBy:u,onAddNode:g})),f&&r.createElement(He.Z,{nodeType:null===f||void 0===f?void 0:f.type,onClose:v}))},Ge=function(e){return r.createElement(w,(0,g.Z)({width:"100%",alignItems:"center",justiFyContent:"center"},e))},We=function(){var e=(0,l.DT)(),t=e.loaded,n=e.totalChildren,a=e.totalParents,i=e.totalStandalone,c=(0,r.useMemo)((function(){return[{label:"Parents",value:a,color:["blue","indigo"]},{label:"Children",value:n,color:["purple","lilac"]},{label:"Standalone",value:i,color:["yellow","yellow120"]}]}),[n,a]);return t?r.createElement(P,{numberIndicatorProps:{TitleComponent:o.Text},data:c}):r.createElement(Ge,{height:"58px"})},Ke=function(){return r.createElement(o.Flex,{column:!0,gap:1,alignItems:"center",width:"220px","data-testid":"nodesByDataReplication-information-text",overflow:"hidden"},r.createElement(o.TextMicro,{color:"white"},r.createElement(o.TextMicro,{color:"white",strong:!0},"None:")," ","The node's data are only on the node itself. Lose the node, lose the data!"),r.createElement(o.TextMicro,{color:"white"},r.createElement(o.TextMicro,{color:"white",strong:!0},"Single:")," ","The node's metrics are replicated to one parent. The parent can trigger alerts for the child."),r.createElement(o.TextMicro,{color:"white"},r.createElement(o.TextMicro,{color:"white",strong:!0},"Multi:")," ","Same as dual replication, but with the metrics replicated to more than one parent. Each parent in the hierarchy can trigger alerts for its children."),r.createElement(o.TextMicro,{color:"white",margin:[2,0]},"Aim to have most of your nodes with at least a dual replication and your critical ones with a multiple one."))},qe=function(){return r.createElement(pe.Z,{isBasic:!0,plain:!0,content:Ke,align:"bottom"},r.createElement(o.Icon,{name:"information",color:"textDescription",size:"small"}))},Qe=Z((function(){var e=(0,l.DT)()||{},t=e.loaded,n=e.replicationFactor,o=(0,r.useMemo)((function(){return[{label:"None",value:(null===n||void 0===n?void 0:n.r_1)||0,color:te.LR.r_1},{label:"Single",value:(null===n||void 0===n?void 0:n.r_2)||0,color:te.LR.r_2},{label:"Multi",value:(null===n||void 0===n?void 0:n["r_*"])||0,color:te.LR["r_*"]}]}),[n]);return t?r.createElement(P,{data:o}):r.createElement(Ge,{height:"74px"})})),Xe=function(){return r.createElement(Qe,{title:"Data Replication",headerInfo:r.createElement(qe,null)})},Je=function(){return r.createElement(o.Flex,{column:!0,gap:4,basis:"205px"},r.createElement(We,null),r.createElement(X.Z,null),r.createElement(Xe,null))},Ye=function(){return r.createElement(w,null,r.createElement(J,null),r.createElement(X.Z,{vertical:!0}),r.createElement(Ue,null),r.createElement(X.Z,{vertical:!0}),r.createElement(Je,null))},$e=n(23148),et=n(26495);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}$e.kL.register($e.uw,$e.f$,$e.vn,$e.ZL,$e.u,$e.De);var rt={borderWidth:0,maxBarThickness:15,minBarLength:0},ot=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).alertsStats,t=(0,r.useContext)(M.ThemeContext),n=((null===e||void 0===e?void 0:e.nodes)||{}).hosts,a={animation:!1,maintainAspectRatio:!1,plugins:{legend:{display:!1}},responsive:!0,scales:{x:{stacked:!0,grid:{color:(0,o.getColor)("borderSecondary")({theme:t})},afterSetDimensions:function(e){e.maxHeight=50},ticks:{precision:0,callback:function(e,t){var n=c.labels[t];if(n){for(var r=0;(null===(o=n)||void 0===o?void 0:o.length)>20;){var o;n=(0,ne.a)(n,r),r+=1}return n}}}},y:{stacked:!0,grid:{color:(0,o.getColor)("borderSecondary")({theme:t})},afterSetDimensions:function(e){e.maxWidth=50}}}},c=(0,r.useMemo)((function(){if(!n)return{datasets:[],labels:[]};var e=Object.entries(n).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=o.critical,c=o.warning;return e[0].push(r),e[1].critical?e[1].critical=[].concat((0,O.Z)(e[1].critical),[a]):e[1].critical=[a],e[1].warning?e[1].warning=[].concat((0,O.Z)(e[1].warning),[c]):e[1].warning=[c],e}),[[],{}]),t=(0,i.Z)(e,2),r=t[0],o=t[1];return{datasets:Object.entries(o).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return nt(nt({},rt),{},{backgroundColor:"critical"==n?"#DB162F":"#FF9700",data:r,label:n})})),labels:r}}),[n]);return c.datasets?r.createElement(o.Flex,{width:"100%",height:40},r.createElement(et.$Q,{data:c,options:a})):null},at=function(e){var t=(e.alertsStats||{}).nodes,n=t||{},o=n.critical,a=n.warning,i=n.total,c=(0,r.useMemo)((function(){return[{label:"Warning",value:a,color:["yellow","yellow80"]},{label:"Critical",value:o,color:["red","red100"]},{label:"Total",value:i,color:["purple","lilacFocus"],omit:!0}]}),[o,a,i]);return t?r.createElement(P,{data:c}):null},it=n(91008),ct=n(89250),lt=n(3975),ut=n(4822),st=n(69325),dt=function(){var e=(0,me.UL)(),t=(0,ct.s0)(),n=(0,lt.ZP)(),o=(0,i.Z)(n,2),a=o[0],c=o[1],l=(0,Pe.ss)(),u=(0,i.Z)(l,2)[1],s=(0,Pe.__)(),d=(0,i.Z)(s,2)[1],m=(0,ut.I0)(),f=(0,i.Z)(m,2)[1],p=(0,r.useMemo)((function(){return{defaultValue:[],key:e,extraKey:"feedFilters",flavour:"arr",merge:!1}}),[e]),g=(0,ut.I0)("alert_names",p),v=(0,i.Z)(g,2)[1],h=(0,ut.I0)("chart_names",p),b=(0,i.Z)(h,2)[1],y=(0,r.useCallback)((function(e){var n=e.name;u(1),d({alertName:n,nodeId:null}),t("/spaces/".concat(a,"/rooms/").concat(c,"/alerts"),{replace:!0})}),[t,a,c,u,d]);return{goToEvents:(0,r.useCallback)((function(e){var n=e.name,r=e.instance;f({after:-st.x4,before:0}),n&&v([n]),r&&b([r]),t("/spaces/".concat(a,"/rooms/").concat(c,"/events"))}),[t,a,c,f,v,b]),goToAlertConfigurations:y}},mt=[{id:"name",accessorKey:"name",header:"Alert name",fullWidth:!0,cell:function(e){var t=e.getValue,n=e.row,a=t(),i=dt().goToEvents,c=(0,r.useCallback)((function(e){var t;e.preventDefault(),i({name:a,instance:null===n||void 0===n||null===(t=n.original)||void 0===t?void 0:t.chart})}),[i]);return r.createElement(pe.Z,{content:"Go to events tab. Timeframe will be set to the last 24 hours.",isBasic:!0},r.createElement(o.Box,null,r.createElement(it.Z,{onClick:c},a)))}},{id:"chart",name:"chart",fullWidth:!0,header:"Instance"},{id:"occurrences",name:"occurrences",header:"Occurrences"},{id:"duration",name:"duration",header:"Duration (seconds)"}],ft=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t=void 0===e?[]:e;return t.length?r.createElement(o.Flex,{height:{max:50},overflow:{vertical:"auto"}},r.createElement(o.Table,{data:t,dataColumns:mt,sortBy:[{id:"occurrences",desc:!0}],enableResizing:!0})):null},pt={title:"Nodes with the most alerts in the last 24h"},gt=function(e){var t=(0,l.MX)();return t.loaded?r.createElement(w,(0,g.Z)({titleProps:pt},e),r.createElement(ot,{alertsStats:t}),r.createElement(at,{alertsStats:t}),r.createElement(o.Flex,{column:!0,gap:4},r.createElement(o.TextBig,null,"Top alerts in the last 24 h"),r.createElement(ft,{data:null===t||void 0===t?void 0:t.alerts}))):r.createElement(Ge,null)},vt=n(12899),ht=n(78595),bt={title:"Netdata Assistant",icon:"netdataAssistant",iconColor:"success"},yt=function(e){var t=(0,vt.m5)(),n=(0,i.Z)(t,2)[1];return ht.N4?null:r.createElement(w,(0,g.Z)({titleProps:bt},e),r.createElement(o.Text,null,"Need help? Ask the Netdata Assistant!"),r.createElement(o.Button,{flavour:"hollow",onClick:n},"Start conversation"))},Et=n(85287),wt={title:"Metrics collected",justifyContent:"center"},Ot=function(e){var t=(0,l.Dw)().metricsCollected,n=void 0===t?0:t;return r.createElement(w,(0,g.Z)({titleProps:wt},e),r.createElement(o.Flex,{width:"100%",justifyContent:"center"},r.createElement(o.TextHuge,{strong:!0},(0,Et.d)(n))))},xt=n(84147),Zt={title:"Charts visualized",justifyContent:"center"},kt=function(e){var t=(0,me.UL)(),n=(0,xt.Cd)(t),a=Object.keys(n||{}).length;return r.createElement(w,(0,g.Z)({titleProps:Zt},e),r.createElement(o.Flex,{width:"100%",justifyContent:"center"},r.createElement(o.TextHuge,{strong:!0},(0,Et.d)(a))))},jt={title:"Alerts configured",justifyContent:"center"},Ct=function(e){var t=(0,Pe.w4)();return r.createElement(w,(0,g.Z)({titleProps:jt},e),r.createElement(o.Flex,{width:"100%",justifyContent:"center"},r.createElement(o.TextHuge,{strong:!0},(0,Et.d)((null===t||void 0===t?void 0:t.length)||0))))};$e.kL.register($e.uw,$e.f$,$e.vn,$e.ZL,$e.u,$e.De);var It=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dataRetention,t=void 0===e?[]:e,n=(0,r.useContext)(M.ThemeContext),a={animation:!1,maintainAspectRatio:!1,plugins:{legend:{display:!1}},responsive:!0,scales:{x:{stacked:!0,grid:{color:(0,o.getColor)("borderSecondary")({theme:n})},afterSetDimensions:function(e){e.maxHeight=50},ticks:{precision:0,callback:function(e,t){var n=i.labels[t];if(n){for(var r=0;(null===(o=n)||void 0===o?void 0:o.length)>20;){var o;n=(0,ne.a)(n,r),r+=1}return n}}}},y:{stacked:!0,grid:{color:(0,o.getColor)("borderSecondary")({theme:n})},afterSetDimensions:function(e){e.maxWidth=50}}}},i=(0,r.useMemo)((function(){if(!t.length)return{datasets:[],labels:[]};var e=t.reduce((function(e,t){var n=t.label,r=t.value;return e.labels.push(n),e.values.push(r),e}),{values:[],labels:[]});return{datasets:[{borderWidth:0,maxBarThickness:10,backgroundColor:"#0A81AB",minBarLength:0,data:e.values,label:"Nodes"}],labels:e.labels}}),[t]);return i.datasets?r.createElement(o.Flex,{width:"100%",height:"100%"},r.createElement(et.$Q,{data:i,options:a})):null},Pt={title:"Data retention per Nodes"},St=function(e){var t=(0,l.Dw)().dataRetention;return r.createElement(w,(0,g.Z)({titleProps:Pt},e),r.createElement(It,{dataRetention:t}))},Nt=n(40970),Dt=function(){var e=(0,de.th)(),t=(0,me.UL)(),n=(0,S.fX)({extraKey:"nodesView",merge:!1,scoped:!0});(0,Nt.Z)(t,n,{spaceId:e})},Tt=n(18997),Ft=n(25819),Bt=n(80682);function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t=function(){var e=(0,de.th)(),t=(0,me.UL)(),n=(0,l.Is)();(0,Tt.Z)((function(){return{enabled:!(!e||!t),fetch:function(){return(0,Ft.O1)(e,t)},onReceive:function(e){var t=e.data;return n(At(At({},Bt.PD),{},{loaded:!0},t))},onFail:function(e){return n(At(At({},Bt.PD),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[e,t])};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=function(){var e=(0,de.th)(),t=(0,me.UL)(),n=(0,l.oZ)();(0,Tt.Z)((function(){return{enabled:!(!e||!t),fetch:function(){return(0,Ft.aX)(e,t)},onReceive:function(e){var t=e.data;return n(Rt(Rt({},Bt.qB),{},{loaded:!0},t))},onFail:function(e){return n(Rt(Rt({},Bt.qB),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[e,t])};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=function(){var e=(0,de.th)(),t=(0,me.UL)(),n=(0,S.fX)({extraKey:"home",merge:!1,scoped:!0}),r=(0,l.rq)();(0,Tt.Z)((function(){return{enabled:!(!e||!t),fetch:function(){return(0,Ft.pq)(e,t,n)},onReceive:function(e){var t=e.data;return r(Ht(Ht({},Bt.lN),{},{loaded:!0},t))},onFail:function(e){return r(Ht(Ht({},Bt.lN),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[e,t])};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(){var e=(0,de.th)(),t=(0,me.UL)(),n=(0,S.fX)({extraKey:"home",merge:!1,scoped:!0}),r=(0,l.Ox)();(0,Tt.Z)((function(){return{enabled:!(!e||!t),fetch:function(){return(0,Ft.$I)(e,t,n)},onReceive:function(e){var t=e.data;return r(Wt(Wt({},Bt.ZA),{},{loaded:!0},t))},onFail:function(e){return r(Wt(Wt({},Bt.ZA),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[e,t])};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt=function(){var e=[{name:"nodes"}],t=(0,de.th)(),n=(0,me.UL)(),r=(0,S.fX)({extraKey:"home",merge:!1,scoped:!0}),o=(0,l.DA)();(0,Tt.Z)((function(){return{enabled:!!(t&&n&&r.length&&null!==e&&void 0!==e&&e.length),fetch:function(){return(0,Ft.mP)(t,n,e,r)},onReceive:function(e){var t=e.data;return o(Qt(Qt({},Bt.C0),{},{loaded:!0},t))},onFail:function(e){return o(Qt(Qt({},Bt.C0),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[t,n,r,e])};function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t=function(){var e=[{name:"charts",projections:"metrics"}],t=(0,de.th)(),n=(0,me.UL)(),r=(0,S.fX)({extraKey:"home",merge:!1,scoped:!0}),o=(0,l.QZ)();(0,Tt.Z)((function(){return{enabled:!!(t&&n&&r.length&&null!==e&&void 0!==e&&e.length),fetch:function(){return(0,Ft.mP)(t,n,e,r)},onReceive:function(e){var t=e.data;return o(Yt(Yt({},Bt.zj),{},{loaded:!0},t))},onFail:function(e){return o(Yt(Yt({},Bt.zj),{},{loaded:!0,error:e}))},pollingOptions:{pollingInterval:588e3}}}),[t,n,r,e])},en=n(63346),tn=function(){return Dt(),_t(),Vt(),Ut(),Kt(),Xt(),$t(),null},nn=function(){var e=(0,m.zN)(),t=(0,m.fD)();return t?t&&!e.length?r.createElement(en.ZP,{feature:"Home",mode:"NoNodesView"},r.createElement(f.Z,null)):r.createElement(en.ZP,{feature:"Home"},r.createElement(tn,null),r.createElement(a.Z,{height:"calc(100% - 32px)",sidebar:r.createElement(s,null),gap:4,padding:[4],overflow:"auto"},r.createElement(Ye,null),r.createElement(o.Flex,{gap:4},r.createElement(gt,{width:"60%"}),r.createElement(o.Flex,{column:!0,gap:4,height:"100%",width:"calc(40% - 16px)"},r.createElement(yt,{column:!0}),r.createElement(o.Flex,{gap:4},r.createElement(Ot,{flex:{grow:"1",shrink:"0"}}),r.createElement(kt,{flex:{grow:"1",shrink:"0"}}),r.createElement(Ct,{flex:{grow:"1",shrink:"0"}})),r.createElement(St,{flex:"grow"}))))):r.createElement(d.Z,{title:"Loading room stats..."})}},8999:function(e,t,n){n.d(t,{DA:function(){return w},DT:function(){return u},Dw:function(){return b},HX:function(){return c},Is:function(){return f},MX:function(){return m},Ox:function(){return y},QZ:function(){return x},RF:function(){return g},oZ:function(){return s},rq:function(){return v}});var r=n(4480),o=n(80682),a=n(74059),i=n(37518),c=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.FV)((0,o.JG)({spaceId:e,roomId:t}))},l=(0,r.CG)({key:"replicationStatsState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.Bo)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.Bo)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),u=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.sJ)((0,o.Bo)({spaceId:e,roomId:t}))},s=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(l({spaceId:e,roomId:t}))},d=(0,r.CG)({key:"alertsStatsState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.HA)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.HA)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),m=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.sJ)(d({spaceId:e,roomId:t}))},f=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(d({spaceId:e,roomId:t}))},p=(0,r.CG)({key:"stabilityState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.a2)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.a2)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),g=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.sJ)(p({spaceId:e,roomId:t}))},v=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(p({spaceId:e,roomId:t}))},h=(0,r.CG)({key:"chartsStatsState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.ub)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.ub)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),b=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.sJ)(h({spaceId:e,roomId:t}))},y=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(h({spaceId:e,roomId:t}))},E=(0,r.CG)({key:"nodesStatsState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.es)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.es)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),w=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(E({spaceId:e,roomId:t}))},O=(0,r.CG)({key:"chartsMetricsState",get:function(e){var t=e.spaceId,n=e.roomId;return function(){return(0,o.Oj)({spaceId:t,roomId:n})}},set:function(e){var t=e.spaceId,n=e.roomId;return function(e,r){(0,e.set)((0,o.Oj)({spaceId:t,roomId:n}),r)}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),x=function(){var e=(0,a.th)(),t=(0,i.UL)();return(0,r.Zl)(O({spaceId:e,roomId:t}))}},37497:function(e,t,n){n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(15861),a=n(64687),i=n.n(a),c=n(4480),l=n(67294),u=n(37518),s=n(25819);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(0,c._8)((function(n){var r=n.snapshot,a=n.set;return(0,o.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getPromise((0,u.n2)({id:t,key:"fullyLoaded"}));case 2:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:(0,s.fv)(e,t).then((function(t){var n=t.data;return a((0,u.ZB)(n.id),m(m({},n),{},{spaceId:e,fullyLoaded:!0,loaded:!0}))}));case 6:case"end":return n.stop()}}),n)})))}),[e,t]);(0,l.useEffect)((function(){e&&t&&n()}),[e,t])}},60464:function(e,t,n){var r=n(93433),o=n(4942),a=(n(21249),n(57640),n(9924),n(41539),n(15581),n(2490),n(34514),n(54747),n(85827),n(25387),n(72608),n(92222),n(47941),n(82526),n(57327),n(88449),n(59849),n(38880),n(49337),n(33321),n(69070),n(4480)),i=n(18997),c=n(12008),l=n(48450),u=n(77796),s=n(99322),d=n(16634);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).polling,o=void 0===n||n,m=(0,a._8)((function(e){var n=e.set;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,o=void 0===e?[]:e;n((0,s.e)({id:t,key:"ids"}),o.map((function(e){return e.id}))),n((0,s.e)({id:t,key:"loaded"}),!0),n((0,s.e)({id:t,key:"updatedAt"}),(new Date).toISOString()),n((0,s.e)({id:t,key:"error"}),null),o.forEach((function(e){n((0,c.fp)({id:e.id}),(function(t){return f(f({},t),{},{loaded:!0},e)}))}));var a=o.reduce((function(e,t){var n=t.id,o=t.nodeId;return e[o]=[].concat((0,r.Z)(e[o]||[]),[n]),e}),{});n(u.in,a)}}),[e,t]),p=(0,a._8)((function(e){var n=e.set;return function(e){n((0,s.e)({id:t,key:"error"}),(0,d.Z)(e))}}));(0,i.Z)((function(){return{enabled:!!e&&!!t,polling:o,fetch:function(){return(0,l.sr)(e,t)},onFail:p,onReceive:m,force:!0}}),[e,t])}},40970:function(e,t,n){n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(29439),a=(n(47941),n(92222),n(67294)),i=n(39915),c=n(68035),l=n(65565),u=n(84147),s=n(4822),d=n(25819),m=n(42448);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.spaceId,f=n.autorun,g=void 0!==f&&f,v=(0,a.useState)(null),h=(0,o.Z)(v,2),b=h[0],y=h[1],E=(0,s.by)(),w=E.after,O=E.before,x=(0,a.useRef)();x.current={after:w<0?w:Math.floor(w/1e3),before:w<0?0:Math.ceil(O/1e3)};var Z=function(e){if(e&&null!==e&&void 0!==e&&e.response){var t=e.response.data.errorMsgKey;y(t)}else C((function(e){return p(p({},e),{},{contextsHardHash:"invalid"})})),y(e)},k=(0,a.useMemo)((function(){return(0,m.V)(b)?5e3:65e3}),[b]),j=(0,a.useRef)(),C=(0,u.w4)(e,!0),I=function(e){var t=e.results,n=e.versions;C((function(e){return p(p({},e),{},{contextsHardHash:"invalid"},n)})),y((!t||!Object.keys(t).length)&&"No data for this period")},P=(0,u.qU)(e).contextsHardHash,S=(0,i.Z)(P,!0);return(0,l.Z)((function(){C((function(e){return p(p({},e),{},{contextsHardHash:"invalidating"})}))}),[t]),(0,c.Z)((function(){return{cache:!1,key:"spaces.".concat(r,".rooms.").concat(e,".charts"),polling:!1,autorun:g||Boolean(r&&e),fetch:function(){return(0,d.Mn)(r,e,t,p({},x.current))},association:{getIds:function(){return(0,u.dA)({roomId:e,merge:j.current===t})},getError:function(){return(0,u.W2)({id:e,key:"error"})},getLoaded:function(){return(0,u.W2)({id:e,key:"loaded"})},getUpdatedAt:function(){return(0,u.W2)({id:e,key:"updatedAt"})}},getResource:function(t){return(0,u.PP)({id:e,key:t})},getResourcesInitializer:function(){var n=(0,u.Q7)({id:e,merge:j.current===t,nodeIds:t});return j.current=t,n},getResourceInitialState:function(e){return p({fullyLoaded:!0},e)},onFail:Z,pollingOptions:{pollingInterval:k},onReceive:I,after:w,nodeIds:t,force:!0,skip:!S&&!!P||"invalidating"===S&&!!P}}),[r,e,k,P,w,O]),b}},29748:function(e,t,n){var r=n(4942),o=(n(2707),n(41539),n(15581),n(2490),n(34514),n(54747),n(21249),n(57640),n(9924),n(47941),n(82526),n(57327),n(88449),n(59849),n(38880),n(49337),n(33321),n(69070),n(67294)),a=n(4480),i=n(47133),c=n(18997),l=n(74059),u=n(37518),s=n(25819),d=n(5934);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,l.th)(),t=(0,u.UL)(),n=(0,a._8)((function(e){var n=e.set;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=(void 0===e?{}:e).results;if(n((0,d.oq)({id:t,key:"loaded"}),!0),null!==r&&void 0!==r&&r.length){var o=r.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})}));o.forEach((function(e){return n((0,i.lz)(e.id),(function(t){return f(f({},t),{},{loaded:!0},e)}))}));var a=o.map((function(e){return e.id}));n((0,d.oq)({id:t,key:"ids"}),a)}}})),r=(0,o.useCallback)((function(){(0,s.j2)(e,t).then(n).catch((function(){}))}),[e,t]);return(0,c.Z)((function(){return{enabled:!!e&&!!t,fetch:function(){return(0,s.j2)(e,t)},onReceive:n}}),[e,t]),r}},29516:function(e,t,n){var r=n(18997),o=n(4480),a=n(48450),i=n(45781),c=n(95383),l=n(33335);t.Z=function(e){var t=(0,o._8)((function(t){var n=t.set;return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data.results;n((0,i.e)({id:e}),t)}})),n=(0,o._8)((function(t){var n=t.set;return function(t){return n((0,i.e)({id:e,key:"error"}),t)}})),u=(0,c.y3)(e,"loaded"),s=(0,l.gI)("alert:ReadAll");(0,r.Z)((function(){return{enabled:s&&!!e&&u,fetch:function(){return(0,a.Kp)(e)},onFail:n,onReceive:t,pollingOptions:{pollingInterval:15e4}}}),[e,!!u])}},29983:function(e,t,n){n.d(t,{m:function(){return s}});var r=n(4480),o=n(68035),a=n(274),i=n(34912),c=n(94666),l=n(1229),u=n(33335),s=function(e){return"spaces.".concat(e,".members")};t.Z=function(e){var t=(0,r._8)((function(t){var n=t.set;return function(t){var r=t.results;return n((0,c.J9)(e),r)}})),n=(0,u.gI)("user:ReadAll");(0,o.Z)((function(){return{key:s(e),autorun:!!e&&n,fetch:function(){return(0,a.Q5)(e)},association:{getError:function(){return(0,l.Ci)({id:e,key:"error"})},getIds:function(){return(0,c.WA)({id:e,key:"ids"})},getLoaded:function(){return(0,c.WA)({id:e,key:"loaded"})},getUpdatedAt:function(){return(0,c.WA)({id:e,key:"updatedAt"})}},sort:function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})},getResource:function(e){return(0,i.mX)({id:e})},getResourcesInitializer:function(){return i.Bb},onReceive:t,pollingOptions:{pollingInterval:315e3}}}),[e])}},69063:function(e,t,n){n(92222),n(74916),n(77601);var r=n(67294),o=n(89250),a=n(9058),i=n(24298),c=n(74059),l=n(37518);t.Z=function(){var e=(0,a.e)(),t=function(){var e=(0,c.uk)(),t=(0,l.vf)();return"/spaces/".concat(e,"/rooms/").concat(t,"/overview")}(),n=(0,o.s0)();(0,r.useEffect)((function(){if(e)return(0,i.unregister)(e.on("goToLink",(function(e,r){var o,a=location.pathname;return e&&e.getParent().getAttribute("roomId")&&(a=e.getParent().getId(),a=/^\/spaces/.test(a)?a:t),n(a,r?{state:{chartName:r},replace:!0}:{state:{contextToGo:null===e||void 0===e||null===(o=e.getAttribute("contextScope"))||void 0===o?void 0:o[0]},replace:!0})})))}),[e,t])}},9449:function(e,t,n){var r=n(67294),o=n(44682);t.Z=function(e){var t=(0,r.useRef)();return(0,o.Sz)(e,(function(e){return t.current=e,!1})),t}},24281:function(e,t,n){var r=n(29439),o=n(67294),a={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};t.Z=function(){var e=(0,o.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1],c=(0,o.useState)(a),l=(0,r.Z)(c,2),u=l[0],s=l[1],d=(0,o.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,o=t.width,a=t.height,i=t.top,c=t.left,l=t.bottom,u=t.right;s({x:n,y:r,width:o,height:a,top:i,left:c,bottom:l,right:u})}}))}),[]);return(0,o.useLayoutEffect)((function(){if(n)return d.observe(n),function(){d.disconnect()}}),[n]),[i,u]}},18997:function(e,t,n){var r=n(29439),o=(n(41539),n(88674),n(17727),n(67294)),a=n(50308),i=n.n(a),c=n(9058),l=n(46189),u=n(29283),s=n(13477);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,c.e)(),a=(0,o.useMemo)((function(){return n?n.getRoot():null}),[n]),d=(0,o.useMemo)(e,t),m=(0,o.useRef)(!0),f=(0,o.useRef)({timeoutId:null,promise:null}),p=(0,u.Z)(),g=(0,r.Z)(p,2)[1],v=(0,o.useCallback)((function(e){m.current=!1;var t=d.fetch,n=d.onStart,r=void 0===n?i():n,o=d.onFail,c=void 0===o?i():o,u=d.onPollingFail,s=void 0===u?i():u,p=d.onReceive,v=void 0===p?i():p,h=d.onSettle,b=void 0===h?i():h,y=d.onBlurMode,E=void 0===y?i():y,w=d.polling,O=void 0===w||w,x=d.pollingOptions;r(e),f.current={timeoutId:null,promise:null};var Z=function(){return f.current.promise=t(e),f.current.promise.then(v).catch((function(e){if(!e.isCancel)throw e})),f.current.promise},k=function e(){f.current.timeoutId=setTimeout((function(){if(null!==x&&void 0!==x&&x.shouldPause&&a&&(a.getAttribute("hovering")||a.getAttribute("paused"))||!g.current&&(!a||!a.getAttribute("autofetchOnWindowBlur")))return E(),e();Z().then((function(){return!m.current&&O&&e()})).catch((function(t){t.isCancel||s(t),!m.current&&!t.isCancel&&O&&e()}))}),(null===x||void 0===x?void 0:x.pollingInterval)||l.Z.pollingInterval)};return Z().then((function(){return!m.current&&O&&k()})).catch((function(e){e.isCancel||c(e),m.current||!O||e.isCancel||k()})).finally(b),function(){var e,t;m.current=!0,null===(e=f.current.promise)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e),clearTimeout(f.current.timeoutId)}}),t),h=(0,s.Iy)("isAnonymous");return(0,o.useEffect)((function(){var e=d.enabled,t=void 0===e||e,n=d.force,r=void 0!==n&&n,o=d.skip;if((!h||r)&&!(void 0!==o&&o))return t?v():void 0}),[h,v]),v.clearRef=f,v}},3975:function(e,t,n){n.d(t,{QF:function(){return l},vq:function(){return u}});var r=n(67294),o=n(89250),a=n(37518),i=n(74059),c=function(e,t,n){var o=t();(0,r.useLayoutEffect)((function(){o!==e&&n(e)}),[o,e])},l=function(){var e=(0,o.UO)().roomSlug,t=(0,a.TF)();return c(e,a.vf,t),e},u=function(){var e=(0,o.UO)().spaceSlug,t=(0,i.$v)();return c(e,i.uk,t),e};t.ZP=function(){return[u(),l()]}}}]);