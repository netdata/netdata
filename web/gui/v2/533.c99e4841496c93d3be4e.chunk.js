!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="36e8e97f-2143-487e-ae6b-410c13a795ec",e._sentryDebugIdIdentifier="sentry-dbid-36e8e97f-2143-487e-ae6b-410c13a795ec")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a795d4d0ab7b284edba22b583ea6769a9f9ec64d"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[533],{35533:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var n=a(67294),l=a(22195),r=a(54227),o=a(12008),d=a(91268),c=a(78266),i=a(89250),s=a(12599),m=a(17563),u=a(22648),g=a(37518),f=a(92253),E=a(80854),p=a(17208),b=a(39840),h=a(95248),w=a(97945),y=a(60677);const x=(0,y.default)(l.Flex).attrs({alignItems:"center"}).withConfig({displayName:"styled__StyledButtonContainer",componentId:"sc-1glv09p-0"})(["position:sticky;bottom:0;"]),I=e=>{let{disabled:t,nodeId:a,alertId:r,context:o,lastStatusChange:d,onClose:c,isLoading:s,small:m=!1,testid:u="alertDetailsModal"}=e;const g=(0,i.s0)(),f=(0,w.m3)(a),E=(0,n.useCallback)((()=>{c&&c(),r?g(f,{state:{alertId:r}}):g(f)}),[f,r]),p=(0,h.TQ)(),b=(0,n.useCallback)((()=>{const e=1e3*d;p({highlight:{after:e-6e4,before:e},correlation:!0}),E()}),[d,o,E,r]);return n.createElement(x,{justifyContent:"end",gap:2},n.createElement(l.Flex,{gap:2,justifyContent:"end"},n.createElement(l.Button,{small:m,label:"Run correlations",onClick:b,flavour:"hollow",isLoading:s,width:m?"112px":"170px","data-testid":"".concat(u,"-runCorrelations-button"),"data-ga":"alert-modal::click-run-correlations::alerts-view"}),n.createElement(l.Button,{small:m,label:"Go to chart",onClick:E,isLoading:s,disabled:s||t,width:m?"112px":"150px","data-testid":"".concat(u,"-goToNode-button"),"data-ga":"alert-modal::click-goto-chart::alerts-view"})))};var C=(0,n.memo)(I),k=a(29876),v=a(20686);var L=e=>{let{alertId:t,context:a,name:r,nodeId:o,status:d,lastStatusChange:c,fullyLoaded:i}=e;const s=(0,u.m)(),m=s?l.H4:l.H0;return n.createElement(l.Flex,{column:!0,gap:4},n.createElement(l.Flex,{justifyContent:"between"},n.createElement(l.Flex,{alignItems:"center",gap:2},n.createElement(v.Z,{margin:s?null:[.5,0,0],type:"".concat(d,"AlertsTable"),"data-testid":"alertView-statusPill"},d),n.createElement(m,{"data-testid":"alertView-alertName"},r)),!1),n.createElement(l.Flex,{justifyContent:"between",alignItems:"center"},n.createElement(k.Z,{alertId:t}),i&&!s&&n.createElement(C,{lastStatusChange:c,alertId:t,context:a,name:r,nodeId:o,small:!0,testid:"alertView"})))},S=a(46189);const _=y.default.img.withConfig({displayName:"sc-404__Illustration",componentId:"sc-4w81fg-0"})(["height:35%;width:35%;"]),B=y.default.div.withConfig({displayName:"sc-404__ButtonContainer",componentId:"sc-4w81fg-1"})(["margin:",";"],(0,l.getSizeBy)(4));var F=()=>{const e="".concat(S.default.assetsBaseURL,"/img/no-nodes-room.svg");return n.createElement(l.Flex,{column:!0,alignItems:"center",justifyItems:"center",justifyContent:"center",height:"100%",width:"100%",padding:[0,0,"10%"]},n.createElement(_,{src:e,alt:"Unreachable alert",title:"Unreachable alert"}),n.createElement(l.H3,null,"We couldn't find the alert"),n.createElement(l.Text,null,"This can be a temporary problem of that specific alert."),n.createElement(B,null,n.createElement(l.Button,{label:"Retry",icon:"reload"})))},V=a(50709);const T=e=>{let{children:t}=e;return n.createElement(l.Flex,{background:"modalHeaderBackground",height:12,flex:!1,gap:4,padding:[0,2,0,4],alignItems:"center"},n.createElement(l.Icon,{name:"logo_s",color:"success",width:"23px"}),t)};var R=e=>{let{alertId:t}=e;const a=(0,g.Hm)("name"),{fullyLoaded:r=!1,fullyLoading:d=!0,info:i,units:s,lastStatusChangeValue:m,lastStatusChange:h,context:w,instance:y,name:x,nodeId:I,status:C,lastUpdated:k,value:v}=(0,o.E5)(t);(0,o.yx)(t);const S=(0,b.pK)(v,s),_=(0,b.pK)(m,s),B=(0,u.m)();return n.createElement(l.Flex,{column:!0,width:B?"100%":{max:280},padding:B?null:[0,0,10],background:B?"modalBackground":null},B&&n.createElement(T,null,n.createElement(l.Flex,{column:!0},n.createElement(l.H6,{color:"textLite"},"ROOM"),n.createElement(l.Text,{"data-testid":"alertView-mobile-roomName"},a))),n.createElement(l.Flex,{column:!0,padding:B?[3]:[0],overflow:B?"auto":"visible",gap:3},n.createElement(L,{alertId:t,context:w,status:C,name:x,nodeId:I,lastStatusChange:h,fullyLoaded:r}),r?null:d?n.createElement(c.Z,{title:"Loading alert..."}):n.createElement(F,null),r&&i&&n.createElement(n.Fragment,null,n.createElement(E.Z,{iconName:"documentation"},"Alert Description"),n.createElement(l.Text,{"data-testid":"alertView-info"},i),n.createElement(V.Z,{alertId:t})),r&&n.createElement(f.Z,{id:t,context:w,instance:y,formattedLastValue:S,formattedLastStatusChangeValue:_,lastStatusChange:h,lastUpdated:k,isFormattedValueLoaded:r,nodeId:I,status:C,testid:"alertView"}),r&&n.createElement(p.Z,{id:t,testid:"alertView"})),B&&n.createElement(l.Box,{position:"sticky",padding:[4],background:"modalBackground",bottom:0,border:{side:"top",color:"tabsBorder"}},n.createElement(l.TextSmall,null,"In order to ",n.createElement(l.TextSmall,{strong:!0},"Run Correlations")," or"," ",n.createElement(l.TextSmall,{strong:!0},"View the Chart")," you will have to visit this alert from its\u2019 dedicated page on a desktop device.")))};var Z=e=>{let{children:t}=e;return(0,u.m)()?n.createElement(l.Layer,{full:!0},n.createElement(l.Flex,{width:"100%",background:"mainBackground","data-testid":"alertView-mobileContainer"},t)):t};var N=()=>{const e=(()=>{const{alertId:e,...t}=(0,i.UO)(),{search:a}=(0,i.TH)(),{transition:l}=m.parse(a),r=(0,n.useRef)(l||e),o=(0,i.s0)();return(0,n.useEffect)((()=>{l&&l!==e&&o((0,s.Gn)("/spaces/:spaceSlug/rooms/:roomSlug/alerts/".concat(l),t),{replace:!0})}),[e,l]),r.current})(),{name:t="unknown alert",fullyLoaded:a=!1}=(0,o.E5)(e),u=(0,o.Bk)();return(0,r.bV)({title:t,id:e,destination:e,params:location.hash,type:"alerts",isReady:a}),u?n.createElement(d.Z,{overflow:{vertical:"auto"}},u&&n.createElement(l.Box,{padding:[10,6]},n.createElement(Z,null,n.createElement(R,{alertId:e})))):n.createElement(c.Z,{title:"Loading alert..."})}}}]);