!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a12f15d1-0bff-46cc-9568-a66e590197f5",e._sentryDebugIdIdentifier="sentry-dbid-a12f15d1-0bff-46cc-9568-a66e590197f5")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"88436fbafc09e78c93a02e0e20b45f14591b26fd"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[4934],{39979:function(e,t,r){r.d(t,{Z:function(){return g}});r(47941),r(82526),r(57327),r(41539),r(88449),r(2490),r(59849),r(38880),r(15581),r(34514),r(54747),r(49337),r(33321),r(69070);var n=r(87462),a=r(4942),o=r(45987),c=r(67294),i=r(87267),u=["callback","feature","isStart","isSuccess","isFailure","eventReason","payload"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){return(0,c.forwardRef)((function(t,r){var l=t.callback,d=t.feature,s=t.isStart,b=t.isSuccess,p=t.isFailure,y=t.eventReason,g=t.payload,O=void 0===g?{}:g,m=(0,o.Z)(t,u),w=(0,i.Z)(),v=w.sendLog,E=w.isReady,j=(0,c.useCallback)((function(){var e=m[l],t=f(f(f(f(f({feature:d,isStart:s,isSuccess:b,isFailure:p,eventReason:y},O),m["data-ga"]?{dataGa:m["data-ga"]}:{}),m.dataGa?{dataGa:m.dataGa}:{}),m["data-track"]?{dataTrack:m["data-track"]}:{}),m.label?{label:m.label}:{});"function"==typeof e&&e(),v(t,!0)}),[l,v,E,O,m]),k=(0,c.useMemo)((function(){return f(f({},m),{},(0,a.Z)({},l,j))}),[m,l,j]);return c.createElement(e,(0,n.Z)({ref:r},k))}))},s=r(16294),b=["payload"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){return(0,c.forwardRef)((function(t,r){var a=t.payload,i=void 0===a?{}:a,u=(0,o.Z)(t,b),l=d(e);return c.createElement(l,(0,n.Z)({},u,{ref:r,callback:"onClick",payload:y(y({},i),{},{action:s.Nw.buttonClicked})}))}))}},64934:function(e,t,r){r.r(t),r.d(t,{Trust:function(){return b}});var n=r(29439),a=(r(74916),r(64765),r(69826),r(41539),r(31672),r(2490),r(59461),r(88674),r(17727),r(15306),r(92222),r(67294)),o=r(17563),c=r(59978),i=r(1043),u=r(78266),l=r(39979),f=r(87267),d=r(63346),s=(0,l.Z)(c.Button),b=function(){var e=(0,a.useMemo)((function(){var e=window.location.search,t=o.parse(e);return[t.redirect_uri,t.agent_uri]})),t=(0,n.Z)(e,2),r=t[0],l=t[1],b=(0,a.useState)(),p=(0,n.Z)(b,2),y=p[0],g=p[1],O=(0,i.So)(),m=(0,n.Z)(O,3),w=m[0],v=m[1],E=m[2],j=(0,i.aJ)({},[w]),k=(0,n.Z)(j,2),h=k[0],P=k[1],Z=(0,f.Z)(),R=Z.sendLog,S=Z.isReady;return(0,a.useEffect)((function(){var e=!0,t=null,n=h.find((function(e){return e.url===l}));return n?R({feature:"TrustUrl",description:"Redirect due to trusted url"}).finally((function(){location.replace("/api/v1/auth/account/origins/".concat(n.id,"/redirect?redirect_uri=").concat(encodeURIComponent(r),"&agent_uri=").concat(encodeURIComponent(l)))})):t=setTimeout((function(){e&&g(!0)}),1e3),function(){e=!1,t&&(clearTimeout(t),t=null)}}),[r,l,h,S]),y?a.createElement(d.ZP,{feature:"TrustUrl"},a.createElement(c.Layer,{full:!0},a.createElement(c.Flex,{"data-testid":"trust",alignItems:"center",justifyContent:"center",column:!0,width:"100%",height:"100%",background:"mainBackground",gap:4},a.createElement(u.H,{animate:E}),a.createElement(c.Text,{textAlign:"center"},"Do you trust ",a.createElement(c.Text,{strong:!0},l),"?"),a.createElement(c.Flex,{column:!0,gap:2,alignItems:"center"},a.createElement(c.TextBig,null,"Authorizing this URL will allow it to request your Netdata data."),a.createElement(c.Flex,{gap:2},a.createElement(s,{flavour:"borderless",onClick:function(){return window.location.replace(decodeURIComponent(r))},disabled:P||E,"data-ga":"url-authorization::click-cancel-button",feature:"TrustUrl",payload:{label:"Cancel"}},"Cancel"),a.createElement(s,{onClick:function(){return v(l)},disabled:P||E,isLoading:P||E,"data-ga":"url-authorization::click-yes-button",feature:"TrustUrl",payload:{label:"Yes"}},"Yes")))))):a.createElement(u.Z,null)};t.default=b}}]);