!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4d3114c4-9221-4d12-a01f-f1ffd3e6929b",e._sentryDebugIdIdentifier="sentry-dbid-4d3114c4-9221-4d12-a01f-f1ffd3e6929b")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"102ada021bf5109e5806268e38265d5f8e316938"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[2340],{52629:function(e,t,n){n.d(t,{Z:function(){return _t}});var r=n(67294),o=n(37518),a=n(96929),i=n(36560),l=n(63346),c=n(29439),d=(n(92222),n(24281)),s=n(91268),u=n(96104),m=n(97945),f=n(74059),p=n(74662),g=n(4822),h=n(6015),v=n(10340),b=n(4942),y=n(87462),E=(n(69826),n(41539),n(47941),n(82526),n(57327),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(92432)),w=n(46667),x=n(53030),O=n(89149),k=n(15861),C=n(64687),Z=n.n(C),I=n(4480),j=n(83338),S=n(8018);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=(0,I.CG)({key:"roomSettings",get:function(e){var t=e.id,n=e.key;return function(e){var r=(0,e.get)((0,j.Z)(t));return n?r[n]:r}},set:function(e){var t=e.id,n=e.key;return function(e,r){(0,e.set)((0,j.Z)(t),(function(e){return n?P(P({},e),{},(0,b.Z)({},n,r)):r}))}}}),T=function(e,t){return(0,I.sJ)(D({id:e,key:t}))},B=function(e,t){var n=T(e,t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.shouldPersist,o=void 0===r||r,a=(0,I.Zl)(D({id:e,key:n})),i=(0,S.O9)(e);return(0,I._8)((function(t){var r=t.snapshot;return function(){var t=(0,k.Z)(Z().mark((function t(l){var c;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(l),o){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r.getPromise(D({id:e}));case 5:return c=t.sent,t.prev=6,t.next=9,i({settings:P(P({},c),n?(0,b.Z)({},n,l):l)});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),a(n?c[n]:c);case 14:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}()}),[e,n,i])}(e,{key:t});return[n,r]},M=n(45987),F=(n(21249),n(57640),n(9924),n(16645)),_=n(7693),A=n(92903),L=n(5429),R=n(29495),V=n(40970),z=n(84147),H=function(){},G=function(e){var t=e.roomId,n=e.id,a=e.onRemove,i=void 0===a?H:a,l=(0,o.tE)(t,"name"),d=(0,R.xQ)(t,n,"title"),s=(0,R.c0)(t),u=(0,w.Z)(),m=(0,c.Z)(u,4),f=m[0],p=m[2],g=m[3],h=function(){var e=(0,k.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.createElement(r.Fragment,null,r.createElement(v.Button,{danger:!0,flavour:"hollow",onClick:p,label:"Delete metric","data-testid":"remove-metric"}),f&&r.createElement(v.ConfirmationDialog,{"data-ga":"remove-metric-dialog","data-testid":"removeMetricDialog",handleConfirm:h,handleDecline:g,message:r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,d)," metric.",r.createElement("br",null),"Are you sure you want to continue?"),title:"Remove metric from ".concat(l)}))},U=["title","help","link","disclaimer","children"],K=function(e){var t=e.link,n=e.children;return r.createElement(v.Flex,{as:"a",target:"_blank",href:t,gap:1,alignItems:"end"},r.createElement(v.TextNano,{textDecoration:"undeline"},n),r.createElement(v.Icon,{color:"text",name:"question",width:"16px",height:"16px"}))},W=function(e){var t=e.title,n=e.help,o=e.link,a=e.disclaimer,i=e.children,l=(0,M.Z)(e,U);return r.createElement(v.Flex,(0,y.Z)({gap:1,column:!0},l),r.createElement(v.Flex,{justifyContent:"between",alignItems:"baseline"},r.createElement(v.Text,{as:"label",margin:[0]},t),n&&r.createElement(K,{link:o},n)),i,a&&r.createElement(v.TextSmall,null,a))},q=n(93433),Q=n(26398),Y=n(62200),X={value:"all",label:"All"},J=function(e){var t=e.dimensions,n=e.units;return{dimensions:t?[X].concat((0,q.Z)(t.map((function(e){return{value:e.id,label:e.name}})))):[X],units:n}},$=["spaceId","roomId","id","onClose"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.isNew;return r.createElement(v.Flex,{as:"span",gap:1},"Manage room",r.createElement(v.TextBig,{color:"textLite"},"/"),r.createElement(v.TextBig,{color:"textLite"},t?"Add":"Edit"," Metric"))},re=function(e){var t=e.spaceId,n=e.roomId,o=e.id,a=e.onClose,i=(0,M.Z)(e,$),l="new"===o,d=(0,R.jN)(n,o),s=(0,R.Y6)(n,{shouldPersist:!1}),m=(0,R.xQ)(n,o),f=(0,r.useRef)(m),p=m.title,g=m.context,h=m.dimensions,b=void 0===h?[]:h,E=function(){s(o,f.current),a()};(0,r.useEffect)((function(){l&&d()}),[]);var w=(0,u.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),x=(0,V.Z)(n,w,{spaceId:t});if(x)throw x;var O=(0,z.jg)(n),k=(0,r.useMemo)((function(){return O.map((function(e){return{value:e,label:e}}))}),[O]),C=(0,z.hH)(n),Z=(0,r.useMemo)((function(){return g&&{value:g,label:g}}),[g]),I=(0,L.Z)((function(){return{enabled:!!g,fetch:function(){return function(e,t,n){return Q.Z.get("".concat(Y.li,"/spaces/").concat(e,"/rooms/").concat(t,"/contexts/").concat(encodeURIComponent(n)),{transform:J})}(t,n,g)},initialValue:{dimensions:[],units:""}}}),[t,n,g]),j=(0,c.Z)(I,2),S=j[0],N=S.dimensions,P=S.units,D=j[1],T=(0,r.useCallback)((function(e){var t=e.value;s(o,"context",t),s(o,"dimensions",[]),s(o,"title",t)}),[o]),B=(0,r.useMemo)((function(){return N?1===N.length||b.length===N.length-1||0===b.length?[X]:b.map((function(e){return{value:e.id,label:e.name}})):[X]}),[b,N]),H=(0,r.useCallback)((function(e){var t=e.filter((function(e){return e.value!==X.value})),n=(0===e.length||t.length!==e.length&&0!==b.length||t.length===N.length-1?[]:t).map((function(e){return{id:e.value,name:e.label}}));s(o,"dimensions",n)}),[o,b,N]),U=(0,R.VP)(n),K=(0,r.useCallback)((function(){return U(te(te({},m),{},{id:o,enableAllDimensions:0===b.length,unit:P})).then(a)}),[m]),q=(0,r.useCallback)((function(e){var t=e.target.value;t.length<=30&&s(o,"title",t)}),[o]),ee=!p||!g||D||!C;return r.createElement(F.u6,(0,y.Z)({right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:E},i),r.createElement(_.x,{onClose:E,title:r.createElement(ne,{isNew:l})},r.createElement(v.Button,{label:"Save",onClick:K,disabled:ee})),r.createElement(A.B,null,l?"Add a new metric (column)":"Edit metric"),r.createElement(F.TZ,null,r.createElement(v.Flex,{gap:6,column:!0},r.createElement(W,{title:"Context",help:"What is a context?",link:"https://learn.netdata.cloud/docs/data-collection/chart-dimensions-contexts-and-families#context","data-testid":"manageMetrics-context"},r.createElement(v.Select,{options:k,value:Z,onChange:T,isLoading:!C,"data-testid":"manageMetrics-contextSelect"})),r.createElement(W,{title:"Metric Title","data-testid":"manageMetrics-title"},r.createElement(v.TextInput,{name:"title",placeholder:"Type name",value:p,onChange:q})),r.createElement(W,{title:"Dimensions",help:"What is a dimension?",link:"https://learn.netdata.cloud/docs/data-collection/chart-dimensions-contexts-and-families#dimension",disclaimer:B[0]===X&&"The returned value is the sum of all selected dimensions.","data-testid":"manageMetrics-dimensions"},r.createElement(v.Select,{isMulti:!0,options:N,value:B,onChange:H,isLoading:D,isDisabled:!Z,"data-testid":"manageMetrics-dimensionSelect"})),!l&&r.createElement(v.Flex,{justifyContent:"end"},r.createElement(G,{roomId:n,id:o,onRemove:a})))))},oe=n(71893),ae=(0,oe.default)(v.Checkbox).withConfig({displayName:"styled__Checkbox",componentId:"sc-1czrg41-0"})(["color:",";font-size:12px;margin-left:",";width:100%;> span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:",";}"],(0,v.getColor)("text"),(0,v.getSizeBy)(0),(0,v.getSizeBy)(25)),ie=(0,oe.default)(v.Flex).attrs({height:"1px",margin:[4,0]}).withConfig({displayName:"styled__Divider",componentId:"sc-1czrg41-1"})(["background-color:rgba(0,0,0,0.12);"]),le=(0,oe.default)(v.ListItem).withConfig({displayName:"styled__ListItem",componentId:"sc-1czrg41-2"})(["align-items:center;display:flex;flex-direction:row;font-size:",";justify-content:space-between;padding-left:",";"],(0,v.getSizeBy)(3),(0,v.getSizeBy)(0)),ce=(0,oe.default)(v.Drop).attrs({align:{top:"bottom",right:"right"},animation:!0,background:"dropdown",column:!0,margin:[.5,0,0],overflow:{vertical:"auto"},padding:[4],round:1,width:70}).withConfig({displayName:"styled__MetricsDropdown",componentId:"sc-1czrg41-3"})(["box-sizing:content-box;"]),de=(0,oe.default)(v.Button).attrs({neutral:!0,flavour:"borderless",small:!0}).withConfig({displayName:"styled__OptionButton",componentId:"sc-1czrg41-4"})(["&&&{font-size:14px;font-weight:normal;justify-content:flex-start;padding-left:",";}"],(0,v.getSizeBy)(2)),se=(0,oe.default)(v.Button).withConfig({displayName:"styled__PencilButton",componentId:"sc-1czrg41-5"})(["> svg.button-icon{width:",";height:",";opacity:0;}"],(0,v.getSizeBy)(4),(0,v.getSizeBy)(4)),ue=(0,oe.default)(v.Button).withConfig({displayName:"styled__MetricsButton",componentId:"sc-1czrg41-6"})(["&&&{width:100%;}"]),me=function(e){var t=e.isOpen,n=e.onClose,o=e.onEdit,a=e.roomId,i=e.targetRef,l=(0,R.dh)(a),d=(0,c.Z)(l,2),s=d[0],u=d[1];if(!i.current||!t)return null;var m=function(e){o(e),n()};return r.createElement(ce,{close:n,"data-testid":"metricsMenu",onClickOutside:n,onEsc:n,target:i.current},s.map((function(e){return r.createElement(le,{"data-testid":"metricsMenu-metric-".concat(e.title),key:e.id},r.createElement(ae,{checked:!e.hidden,"data-testid":"metricsMenu-metricCheckbox",label:e.title,onChange:function(){return u(e.id,"hidden",!e.hidden)}}),r.createElement(se,{"data-testid":"metricsMenu-editMetric",flavour:"borderless",icon:"pencilSolid",neutral:!0,onClick:function(){return m(e.id)}}))})),s.length>0&&r.createElement(ie,{"data-testid":"metricsMenu-divider"}),r.createElement(le,{"data-testid":"metricsMenu-addMetricItem"},r.createElement(ue,{"data-testid":"metricsMenu-addMetricButton",label:"Add new metric",icon:"plus",onClick:function(){return m("new")},small:!0})))},fe=function(e){var t=e.spaceId,n=e.roomId,o=(0,w.Z)(),a=(0,c.Z)(o,4),i=a[0],l=a[2],d=a[3],s=(0,r.useState)(null),u=(0,c.Z)(s,2),m=u[0],f=u[1],p=(0,r.useRef)();return r.createElement(r.Fragment,null,r.createElement(v.Button,{"data-ga":"metric-setting::click-metric-setting::hm-nodes","data-testid":"metricSettings-button",flavour:"hollow",icon:"gear",neutral:!0,onClick:l,ref:p,label:"Metrics",small:!0}),r.createElement(me,{isOpen:i,onClose:d,onEdit:f,roomId:n,targetRef:p}),m&&r.createElement(re,{"data-testid":"metricsManagement",spaceId:t,roomId:n,id:m,onClose:function(){return f(null)}}))},pe=n(38671),ge=n(39979);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(){return(0,E.L)("grouping","click-grouping","hm-nodes")},ye=(0,ge.Z)(x.Z),Ee=[{icon:"node",label:"Node status",value:"nodeStatus","data-ga":"grouping::click-grouping-node-status::hm-nodes"},{icon:"alarm_bell",label:"Alert status",value:"alertStatus","data-ga":"grouping::click-grouping-status::hm-nodes"}],we={Option:function(e){var t=e.innerProps,n=e.data,o=e.isSelected;return r.createElement(de,(0,y.Z)({},n,t,{active:o}))}},xe={control:function(e){return ve(ve({},e),{},{height:32,minHeight:32,width:160})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e){return ve(ve({},e),{},{height:20,minHeight:20,paddingRight:4,paddingTop:0,paddingBottom:0})},valueContainer:function(e){return ve(ve({},e),{},{paddingTop:0,paddingBottom:0})}},Oe=function(){var e=(0,f.th)(),t=(0,o.UL)(),n=(0,w.Z)(),a=(0,c.Z)(n,4),i=a[0],l=a[2],d=a[3],s=(0,pe.Z)().onIntegrationsClick,u=B(t,"groupMode"),m=(0,c.Z)(u,2),p=m[0],g=m[1],h=(0,r.useMemo)((function(){return Ee.find((function(e){return e.value===p}))||Ee[0]}),[p]),b=(0,r.useCallback)((function(e){var t=e.value;return g(t)}),[g]);return r.createElement(v.Flex,{alignItems:"center","data-testid":"agentsHead-actions",flexWrap:!1,gap:3},r.createElement(v.Select,{components:we,label:"Group by",onChange:b,onMenuOpen:be,options:Ee,styles:xe,value:h}),r.createElement(fe,{roomId:t,spaceId:e}),r.createElement(v.Button,{icon:"integrations",flavour:"hollow",onClick:s,small:!0},"Integrations"),i&&r.createElement(O.Z,{onClose:d}),r.createElement(ye,{"data-ga":"add-nodes::click-add-nodes::hm-nodes","data-testid":"agentsHead-addNode",icon:"nodes_hollow",label:"Add Nodes",onClick:l,small:!0}))},ke=function(){return r.createElement(v.Flex,{width:"100%",justifyContent:"end",background:"mainBackground",padding:[2]},r.createElement(Oe,null))},Ce=(n(2707),n(66992),n(70189),n(78783),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(85827),n(25387),n(72608),n(39612)),Ze=n(88866);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se,Ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getGrouping,o=n.extraKey,a={},i=function(e,t){var n=t.getNode,r=t.getGrouping,o=t.nodeMenus,a={};return e.forEach((function(e){var t=n(e);if(t){var a=r(t),i=a.name,l=a.priority,c=a.icon;o[e]=je(je({},t),{},{groupId:i,subMenuId:e,priority:l,groupIcon:c})}})),(0,q.Z)(e).sort((function(e,t){var n,r,a,i;return(null===(n=o[e])||void 0===n?void 0:n.priority)-(null===(r=o[t])||void 0===r?void 0:r.priority)||((null===(a=o[e])||void 0===a?void 0:a.name)||"").localeCompare((null===(i=o[t])||void 0===i?void 0:i.name)||"",void 0,{sensitivity:"accent",ignorePunctuation:!0})})).forEach((function(e){var t=o[e];if(t){var n="".concat(t.groupId,"|").concat(t.subMenuId);a[t.groupId]||(a[t.groupId]=new Set),n&&a[t.groupId].add(t.id)}})),{menuGroups:a}}(e,{getNode:t,getGrouping:r,nodeMenus:a}),l=i.menuGroups,c={},d=Object.keys(l).reduce((function(e,t){var n=(0,q.Z)(l[t]),r=a[n[0]];return e[t]={level:0,name:r.groupId,id:t,subMenuIds:n,link:"".concat((0,Ce.Z)("menu_".concat(t))),size:24,forceVisibility:!0,icon:r.groupIcon,extraKey:o},n.forEach((function(e){var n,r,i,l,d=a[e];c[e]=je(je({},d),{},{level:1,id:e,menuGroupId:t,link:"".concat((0,Ce.Z)("menu_".concat(t,"_submenu_").concat(e))),size:24,forceVisibility:!0,icon:(null===(n=Ze._[null===(r=d.os)||void 0===r?void 0:r.nm])||void 0===n?void 0:n.iconName)||(null===(i=Ze.V[null===(l=d.os)||void 0===l?void 0:l.id])||void 0===i?void 0:i.iconName)||"os",extraKey:o})})),e}),{}),s=Object.keys(l),u=s.reduce((function(e,t){1;var n=je(je({},d[t]),{},{sticky:!0});return[].concat((0,q.Z)(e),[n],(0,q.Z)(d[t].subMenuIds.reduce((function(e,t){1;var n=c[t];return[].concat((0,q.Z)(e),[n])}),[])))}),[]);return a=null,{stickyIds:{},allElements:u,menuGroupIds:s,menuGroupById:d,subMenuById:c}},Pe=n(62340),De=n(22965),Te={alertStatus:(Se={},(0,b.Z)(Se,Pe.Z.critical,1),(0,b.Z)(Se,Pe.Z.warning,2),(0,b.Z)(Se,Pe.Z.clear,3),(0,b.Z)(Se,Pe.Z.unreachable,4),Se),nodeStatus:{Live:1,Stale:2,Offline:3}},Be={nodeStatus:function(e){return(0,De.Q5)(e.state)},alertStatus:function(e){return(0,De.hC)(e)}},Me=n(15394),Fe=n(53499),_e=n(69743),Ae=n(56102),Le=n(11835),Re=["id"],Ve=function(e){var t=e.id,n=(0,M.Z)(e,Re);return r.createElement(_e.d,(0,y.Z)({id:t},n),r.createElement(Ae.Y,{id:t}),r.createElement(Le.f,{id:t}))},ze=(0,r.memo)(Ve),He=n(3322),Ge=n(24093),Ue=n(33335),Ke=n(6585),We=n(97279),qe=(0,oe.default)(v.Button).attrs({flavour:"hollow",neutral:!0,tiny:!0}).withConfig({displayName:"styled__ActionButton",componentId:"sc-31e37b-0"})(["&&&{border-color:",";&:hover{background-color:",";}.button-icon{"," fill:",";}}"],(0,v.getColor)("nodeBadgeBorder"),(0,v.getColor)("nodeBadgeBackground"),(function(e){var t=e.iconSize;return t&&"\n      height: ".concat(t,";\n      width: ").concat(t,";\n      ")}),(0,v.getColor)("textDescription")),Qe=(0,oe.default)(qe).attrs({icon:"trashcan",iconSize:"15px"}).withConfig({displayName:"styled__ObsoleteButton",componentId:"sc-31e37b-1"})([""]),Ye=(0,oe.default)(qe).attrs({icon:"removeNode"}).withConfig({displayName:"styled__RemoveButton",componentId:"sc-31e37b-2"})([""]),Xe=(0,oe.default)(v.Box).attrs({background:"placeholder",height:4,width:.25}).withConfig({displayName:"styled__InfoSeparator",componentId:"sc-31e37b-3"})([""]),Je=(0,oe.default)(v.Flex).withConfig({displayName:"styled__NodeActions",componentId:"sc-31e37b-4"})(["display:none;"]),$e=(0,oe.default)(v.Flex).attrs({alignItems:"center",gap:1}).withConfig({displayName:"styled__NodeNameContainer",componentId:"sc-31e37b-5"})(["&:hover{h5{color:#00ab44;text-decoration:underline;text-decoration-color:#00ab44;}svg{fill:#00ab44;}}"]),et=(0,oe.default)(v.H5).attrs((function(e){var t=e.isLive;return{cursor:t?"pointer":"auto",color:t?"text":"textDescription"}})).withConfig({displayName:"styled__NodeName",componentId:"sc-31e37b-6"})([""]),tt=["connectivity","id","name"],nt=function(e){var t=e.connectivity,n=e.id,a=e.name,i=(0,M.Z)(e,tt),l=(0,Ue.gI)("node:Delete"),d=!(0,o.Hm)().untouchable,s=(0,w.Z)(),u=(0,c.Z)(s,4),m=u[0],f=u[2],p=u[3],g=(0,w.Z)(),h=(0,c.Z)(g,4),v=h[0],b=h[2],E=h[3];return r.createElement(Je,(0,y.Z)({alignSelf:"end",gap:1,"data-testid":"node-actions"},i),d&&r.createElement(r.Fragment,null,r.createElement(Ge.Z,{badge:"actionRemove","data-testid":"remove-node-action"},r.createElement(Ye,{"data-ga":"nodes-table-row::click-remove-node::nodes-view",onClick:b})),v&&r.createElement(We.ZP,{ids:[n],name:a,onClose:E})),l&&"Offline"===t&&r.createElement(r.Fragment,null,r.createElement(Ge.Z,{badge:"actionObsolete","data-testid":"obsolete-node-action"},r.createElement(Qe,{"data-ga":"nodes-table-row::click-obsolete-node::nodes-view",onClick:f})),m&&r.createElement(Ke.ZP,{ids:[n],name:a,onClose:p})))},rt=n(56001),ot=["instanceType","name","providerType"],at=function(e){var t=e.instanceType,n=e.name,o=e.providerType,a=(0,M.Z)(e,ot);return r.createElement(Ge.Z,(0,y.Z)({badge:"cloudInfo","data-testid":"node-cloud-info",nodeName:n},a),r.createElement(v.Flex,{alignItems:"center",gap:1},r.createElement(v.Icon,{color:"textDescription","data-testid":"node-cloud-info-icon",name:"ipNetworking",width:"18px",height:"18px"}),r.createElement(v.TextSmall,{color:"textDescription","data-testid":"node-cloud-info-text"},(0,De.MC)(o)," \u2022 ",(0,De.MC)(t))))},it=["connectivity","name"],lt=function(e){var t=e.connectivity,n=e.name,o=(0,M.Z)(e,it);return r.createElement(Ge.Z,(0,y.Z)({badge:"connectivity",connectivityState:t,"data-testid":"node-connectivity",nodeName:n},o),r.createElement(v.Icon,{name:"connectivityStatus".concat(t),width:"18px",height:"18px"}))},ct=["onClick"],dt=function(e){var t=e.onClick,n=(0,M.Z)(e,ct);return r.createElement(Ge.Z,(0,y.Z)({badge:"info","data-testid":"node-info-cta"},n),r.createElement(v.Icon,{color:"textDescription",cursor:"pointer",height:"18px",width:"18px",name:"information",onClick:t}))},st=["name"],ut=function(e){var t=e.name,n=(0,M.Z)(e,st);return r.createElement(Ge.Z,(0,y.Z)({badge:"k8s","data-testid":"node-kubernetes",nodeName:t},n),r.createElement(v.Flex,{alignItems:"center",gap:1},r.createElement(v.Icon,{color:"textDescription","data-testid":"node-kubernetes-icon",name:"serviceKubernetes",width:"18px",height:"18px"}),r.createElement(v.TextSmall,{color:"textDescription","data-testid":"node-kubernetes-text"},"k8s")))},mt=["kernelName","kernelVersion","name"],ft=function(e){var t=e.kernelName,n=e.kernelVersion,o=e.name,a=(0,M.Z)(e,mt);return r.createElement(Ge.Z,(0,y.Z)({badge:"kernel","data-testid":"node-kernel",nodeName:o},a),r.createElement(v.TextSmall,{color:"textDescription"},(0,De.cB)(t,n)))},pt=n(72132),gt=n(79655),ht=["id","state","isLive","name"],vt=function(e){var t=e.isLive,n=e.name;return r.createElement(r.Fragment,null,r.createElement(et,{"data-testid":"node-name-text",isLive:t},n),r.createElement(v.Icon,{color:"placeholder","data-testid":"node-name-icon",name:"goToNode",width:"18px",height:"18px"}))},bt=function(e){var t=e.id,n=e.state,o=e.isLive,a=e.name,i=(0,M.Z)(e,ht),l=(0,m.m3)(t);return"stale"===n||o?r.createElement(gt.rU,(0,y.Z)({"data-testid":"node-name-link",to:l},i),r.createElement($e,{"data-testid":"node-name-container"},r.createElement(vt,{isLive:o,name:a}))):r.createElement(vt,{isLive:o,name:a})},yt=["architecture","cpuFrequency","cpus","diskSpace","memory","name","os","osName"],Et=function(e){var t,n,o=e.architecture,a=e.cpuFrequency,i=e.cpus,l=e.diskSpace,c=e.memory,d=e.name,s=e.os,u=e.osName,m=(0,M.Z)(e,yt);return r.createElement(Ge.Z,(0,y.Z)({badge:"systemInfo","data-testid":"node-system-info",nodeName:d},m),r.createElement(v.Flex,{alignItems:"center",gap:1},r.createElement(v.Icon,{color:"textDescription","data-testid":"node-system-info-icon",name:(null===(t=Ze._[u])||void 0===t?void 0:t.iconName)||(null===(n=Ze.V[s])||void 0===n?void 0:n.iconName)||"os",width:"16px",height:"16px"}),r.createElement(v.TextSmall,{color:"textDescription","data-testid":"node-system-info-text"},(0,De.MC)(u)," \u2022 ",(0,De.ys)(a)," \u2022"," ",(0,De.MC)(i,1===i?"Core":"Cores")," \u2022 ",(0,De.MC)(o)," ","\u2022 ",(0,De.MC)((0,De.yo)(c),"RAM")," \u2022"," ",(0,De.MC)((0,De.yo)(l),"HD"))))},wt=["container","name","virtualization"],xt=function(e){var t=e.container,n=e.name,o=e.virtualization,a=(0,M.Z)(e,wt),i=(0,De.jo)(t,o);return r.createElement(Ge.Z,(0,y.Z)({badge:"type","data-testid":"node-type",nodeName:n,nodeType:i.label},a),r.createElement(v.Flex,{alignItems:"center",gap:1},r.createElement(v.Icon,{color:"textDescription","data-testid":"node-type-icon",name:i.icon,height:i.iconSize,width:i.iconSize}),r.createElement(v.TextSmall,{color:"textDescription","data-testid":"node-type-text"},i.label)))},Ot=n(83925),kt=n(9058),Ct=(n(31672),n(59461),n(74916),n(4723),function(e,t){return e&&e.getRoot().getChildren().find((function(e){return e.match({id:"nodes-".concat(t)})}))}),Zt=n(16978),It=function(e){var t=e.id,n=e.roomId,o=e.nodeId,a=e.context,i=e.dimensions,l=(0,kt.e)(),c=(0,r.useMemo)((function(){var e=Ct(l,n),r=[t,o,a].join("-");if(!e)return null;var c=e.getNode({id:r});return c?(c.updateAttribute("selectedDimensions",i.map((function(e){return e.name}))),c):(c=l.makeChart({attributes:{id:r,nodesScope:[o],contextScope:[a],pixelsPerPoint:20,selectedDimensions:i.map((function(e){return e.name}))}}),e.appendChild(c),c)}),[a,t,o,n,l]);return c?r.createElement(Zt.Z,{chart:c,hasHeader:!1,hasFooter:!1,hasFilters:!1}):null},jt=(0,r.memo)(It),St=n(38626),Nt=function(e){var t=e.id,n=e.context,a=e.nodeId,i=e.isLive,l=e.hidden,c=e.title,d=e.dimensions,s=(0,o.UL)();return l||!i?null:r.createElement(v.Flex,{column:!0,"data-testid":"metrics-chart-".concat(n),flex:"grow",basis:"174px"},r.createElement(St.Z,{text:c||n,maxLength:19,TextComponent:v.TextSmall,color:"textDescription",margin:[1,0,1,2],as:"div"}),r.createElement(jt,{id:t,context:n,nodeId:a,roomId:s,dimensions:d}))},Pt=function(e){var t,n,a=e.id,i=e.name,l=e.hw,c=e.os,d=e.capabilities,s=e.container,u=e.updateSeverity,m=e.labels,f=e.isLive,p=e.state,h=e.version,b=e.extraKey,E=(0,o.UL)(),w=null===(t=d.funcs)||void 0===t?void 0:t.enabled,x=null===(n=d.ml)||void 0===n?void 0:n.enabled,O=(0,De.Q5)(p),k=m||{},C=k._cloud_instance_type,Z=k._cloud_provider_type,I="true"===(null===m||void 0===m?void 0:m._is_k8s_node),j=!(0,De.O2)(C)||!(0,De.O2)(Z),S=(0,g.Sf)("sidebarTab",{flavour:"val",extraKey:b}),N=(0,g.Sf)("sidebarOpen",{flavour:"bool"}),P=(0,g.Sf)("sidebarNodeId",{flavour:"val",extraKey:b}),D=(0,r.useCallback)((function(e){N(!0),S(e),P(a)}),[a]),T=(0,r.useCallback)((function(){return D("alerts")}),[D]),B=(0,r.useCallback)((function(){return D("info")}),[D]),M=(0,He.Eq)(),F=(0,R.uA)(E);return r.createElement(v.Flex,{"data-testid":"nodeRow-".concat(i),"data-submenuid":a,padding:[1],column:!0,gap:1,round:!0},r.createElement(v.Flex,{alignItems:"center","data-testid":"nodeRow-basic-info",gap:2,height:{min:6}},r.createElement(lt,{connectivity:O,"data-testid":"nodeRow-connectivity-".concat(O.toLowerCase()),name:i}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(bt,{"data-testid":"nodeRow-name",id:a,name:i,isLive:f,state:p}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(dt,{onClick:B,"data-testid":"nodeRow-more-info-cta"}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(rt.Z,{id:a,isLive:f,"data-testid":"nodeRow-alerts",name:i,onClick:T}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(pt.Z,{badge:"ml","data-testid":"nodeRow-machine-learning-status",enabled:x,name:i},r.createElement(v.Icon,{name:"anomaliesLens",size:"small",color:"text"})),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(pt.Z,{badge:"fn","data-testid":"nodeRow-fn-status",enabled:w,name:i,onClick:function(){return M(a)}},r.createElement(v.Icon,{name:"functions",size:"small",color:"text"})),u&&r.createElement(r.Fragment,null,r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(Ot.Z,{name:i,os:c.id,container:s,warningLevel:u,labels:m,version:h,text:u,"data-testid":"nodeRow-needs-update"})),r.createElement(nt,{"data-testid":"nodeRow-node-actions",id:a,name:i,connectivity:O})),r.createElement(v.Flex,{alignItems:"center","data-testid":"nodeRow-detailed-info",gap:2},r.createElement(Et,{architecture:l.architecture,cpuFrequency:l.cpuFrequency,cpus:l.cpus,"data-testid":"nodeRow-system-info",diskSpace:l.diskSpace,memory:l.memory,name:i,osName:c.nm,os:c.id}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),!(null===c||void 0===c||!c.kernel)&&r.createElement(ft,{"data-testid":"nodeRow-kernel",kernelName:c.kernel.nm,kernelVersion:c.kernel.v,name:i}),r.createElement(Xe,{"data-testid":"nodeRow-separator"}),I&&r.createElement(r.Fragment,null,r.createElement(ut,{"data-testid":"nodeRow-kubernetes",name:i}),r.createElement(Xe,{"data-testid":"nodeRow-separator"})),r.createElement(xt,{container:l.container,"data-testid":"nodeRow-type",name:i,virtualization:l.virtualization}),j&&r.createElement(r.Fragment,null,r.createElement(Xe,{"data-testid":"nodeRow-separator"}),r.createElement(at,{"data-testid":"nodeRow-cloud-info",instanceType:C,name:i,providerType:Z}))),!(null===F||void 0===F||!F.length)&&r.createElement(v.Flex,{"data-testid":"nodeRow-charts",gap:1},F.map((function(e){return r.createElement(Nt,(0,y.Z)({key:e.id},e,{nodeId:a,isLive:f}))}))))},Dt=function(e){switch(e.level){case 0:return ze;case 1:return Pt;default:return null}},Tt=["onChartNameChange","initialChartName","dashboardOptions","linkToGo","contextToGo"],Bt=function(e){var t=e.onChartNameChange,n=e.initialChartName,o=e.dashboardOptions,a=e.linkToGo,i=e.contextToGo,l=(0,M.Z)(e,Tt),c=(0,Me.Z)({onChartNameChange:t,initialChartName:n,linkToGo:a,contextToGo:i}),d=c.setActiveMenuGroupId,s=c.setActiveSubMenuId;return r.createElement(p.v,l,r.createElement(Fe.Z,{onActiveMenuGroupId:d,onActiveSubMenuId:s,getComponent:Dt,dashboardOptions:o,initialChartName:n,checkVisibility:function(){return!0}}))},Mt=["config"],Ft=function(){var e=(0,f.th)(),t=(0,o.UL)(),n=function(){var e=(0,o.UL)(),t=T(e,"groupMode")||"nodeStatus",n=Be[t]||Be.nodeStatus;return(0,r.useCallback)((function(e){var r,o=n(e);return{name:o,priority:Be[t]?null===Te||void 0===Te||null===(r=Te[t])||void 0===r?void 0:r[o]:Te.nodeStatus,icon:"nodeStatus"===t?"connectivityStatus".concat(o):null}}),[t])}(),a=(0,u.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),i=(0,m.wU)(),l=(0,d.Z)(),v=(0,c.Z)(l,2),b=v[0],y=v[1].width;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.host,a=n.width,i=(0,kt.e)(),l=(0,r.useRef)();(0,r.useMemo)((function(){if(i){var n=Ct(i,e);n&&n.destroy(),n=i.makeContainer({attributes:{host:o,enabledXAxis:!1,id:"nodes-".concat(e),hasToolbox:!1,height:"75px",groupingMethod:"average",groupBy:["dimension"],aggregationMethod:"avg",legend:!1,axisLabelFontSize:7,yAxisLabelWidth:20,hasYlabel:!1,nodesScope:t,width:a}}),l.current=n,i.appendChild(n)}}),[e]),(0,r.useMemo)((function(){l.current&&(l.current.setAttribute("width",a),l.current.getNodes().forEach((function(e){return e.updateAttribute("width",a)})))}),[l.current,a]),(0,r.useLayoutEffect)((function(){return function(){return l.current&&l.current.destroy()}}),[])}(t,a,{host:(0,f.Q6)()?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(e,"/rooms/").concat(t),width:y});var E=(0,g.I0)("nodeIdToGo",{key:t,extraKey:"nodesView",flavour:"val"}),w=(0,c.Z)(E,2),x=w[0],O=w[1];return r.createElement(p.Z,{getObject:i,ids:a,getMenu:Ne,getGrouping:n,deps:[n],extraKey:"nodesView"},r.createElement(s.Z,{ref:b,position:"relative",sidebar:r.createElement(h.ZP,{hiddenTabs:Mt,nodeIds:a,title:"Nodes",initialChartName:x,flavour:"nodesView",loaded:!0,hasSearch:!1})},r.createElement(ke,null),r.createElement(Bt,{initialChartName:x,onChartNameChange:O})))},_t=function(){var e=(0,o.UL)(),t=(0,a.zN)();return(0,a.X7)(e,"loaded")&&!t.length?r.createElement(l.ZP,{feature:"NodesView",mode:"NoNodesView"},r.createElement(i.Z,null)):r.createElement(l.ZP,{feature:"NodesView"},r.createElement(Ft,null))}},36560:function(e,t,n){n.d(t,{H:function(){return F},Z:function(){return _}});var r=n(87462),o=n(29439),a=n(67294),i=n(10340),l=n(46667),c=n(37518),d=n(86242),s=n(28350),u=n(36459),m=(n(19601),n(21249),n(57640),n(9924),n(71893)),f=n(94666),p=n(31203),g=n(52428),h=(0,m.default)(i.Flex).withConfig({displayName:"adminsList__RowFlex",componentId:"sc-1pb9ob2-0"})(["&:hover{background:",";}"],(0,i.getColor)("elementBackground")),v=(0,m.default)(i.Icon).withConfig({displayName:"adminsList__StyledIcon",componentId:"sc-1pb9ob2-1"})(["cursor:pointer;"]),b=function(e){var t=Object.assign({},((0,u.Z)(e),e)),n=(0,f.nP)();return a.createElement(i.Flex,(0,r.Z)({column:!0,border:{side:"top",color:"borderSecondary"},flex:"grow",padding:[1,0],height:{max:50},overflow:"auto"},t),n.map((function(e){return a.createElement(h,{flex:{grow:0,shrink:0},key:e.id,padding:[0,4],justifyContent:"between",height:10,alignItems:"center"},a.createElement(i.Flex,{key:e.id,gap:2,alignItems:"center"},a.createElement(p.Z,{src:e.avatarURL,title:e.name}),a.createElement(i.Text,null,e.name),a.createElement(i.Text,{color:"textLite"},e.email)),a.createElement(v,{onClick:(0,g.J)(e.email,{text:"Admin email address copied to your clipboard."}),size:"small",name:"copy",color:"primary"}))})))},y=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledWarningIcon",componentId:"sc-q96c2w-0"})(["border-radius:50%;overflow:hidden;background:",";"],(0,i.getColor)(["neutral","white"])),E=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledCheckmarkIcon",componentId:"sc-q96c2w-1"})(["border-radius:50%;overflow:hidden;background:",";padding:6px;width:24px;height:24px;"],(0,i.getColor)("elementBackground")),w=(0,m.default)(i.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-q96c2w-2"})(["transform:",";"],(function(e){return e.closed?"none":"rotate(180deg)"})),x=n(45987),O=n(91008),k=["gaPrefix"],C=function(e){var t=e.gaPrefix,n=void 0===t?"onboarding":t,o=(0,x.Z)(e,k);return a.createElement(i.Flex,(0,r.Z)({column:!0,gap:1,color:"textDescription"},o),a.createElement(i.Text,null,"Need help?"),a.createElement(i.Text,null,"Use our"," ",a.createElement(O.Z,{href:"https://community.netdata.cloud/",target:"_blank","data-ga":"".concat(n,"::click-forums::allpages")},"forums")," ","or public"," ",a.createElement(O.Z,{href:"https://discord.gg/mPZ6WZKKG2",target:"_blank","data-ga":"".concat(n,"::click-discord::allpages")},"discord channel")))},Z=n(72911),I=n(91268),j=n(33335),S=n(46189),N=n(89250),P=n(92432),D=S.Z.demoSlug,T=(0,m.default)(i.Button).withConfig({displayName:"headerButtons__StyledButton",componentId:"sc-11mwk9m-0"})(["&&{padding:2px 16px;font-size:12px;height:auto;width:auto;min-width:96px;}"]),B=function(){var e=(0,N.s0)();return a.createElement(i.Flex,{gap:4},a.createElement(O.Z,{href:"https://learn.netdata.cloud/docs/architecture/deployment-strategies",rel:"noopener noreferrer",target:"_blank"},"Possible Deployment Strategies"),!window.envSettings.onprem&&a.createElement(T,{"data-ga":"no-nodes-view::click-demo::no-nodes-header",flavour:"default",onClick:function(t){e("/spaces/".concat(D)),(0,P.L)("no-nodes-view","click-demo","no-nodes-header"),t.preventDefault()},label:"Live Demo"}))},M=n(8741),F=function(){return a.createElement(a.Fragment,null,a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-memberSection",gap:1},a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-memberHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-memberHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.Flex,{justifyContent:"between",flex:!0},a.createElement(i.H3,{color:"textDescription","data-testid":"noNodesView-memberHeaderText"},"You are a member and only space admins can connect new nodes"),a.createElement(B,null))),a.createElement(i.Flex,{"data-testid":"noNodesView-memberDescription",padding:[0,0,2,13]},a.createElement(i.Text,{color:"textDescription","data-testid":"noNodesView-memberDescriptionText"},"Please contact anyone from the list in order to do so"))),a.createElement(i.Flex,{"data-testid":"noNodesView-memberAdminsListSection",padding:[0,0,0,12]},a.createElement(b,{"data-testid":"noNodesView-memberAdminsList"})))},_=function(e){var t=e.videoId,n=(0,c.UL)(),u=(0,d.Z)(n),m=(0,o.Z)(u,2),f=m[0],p=m[1],g=p.onAddNodes,h=p.selectedNodes,v=f.claimedNodeIds.length>0,b=(0,l.Z)(!0),x=(0,o.Z)(b,2),O=x[0],k=x[1],S=(0,j.gI)("node:Create");return a.createElement(I.Z,{column:!1,"data-testid":"noNodesViewPage",gap:12,padding:[6],margin:[0,0,8],overflow:"auto"},a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-cmdSection",flex:{grow:0,shrink:1},width:"100%",gap:2},a.createElement(i.Flex,{"data-testid":"noNodesView-warningBanner",alignItems:"center",background:"warningBackground",gap:4,height:{min:10},padding:[0,3],round:!0},a.createElement(y,{"data-testid":"noNodesView-warningBannerIcon",name:"exclamation",color:"warning"}),a.createElement(i.Text,{color:"bright","data-testid":"noNodesView-warningBannerText"},"You have no nodes.")),S&&a.createElement(a.Fragment,null,a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-adminSection",justifyContent:"between",onClick:v?k:null,cursor:v?"pointer":null},a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-adminHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-adminHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.H3,{"data-testid":"noNodesView-adminHeaderText",color:"textDescription"},"Connect new nodes")),a.createElement(i.Flex,{gap:4,alignItems:"center"},a.createElement(B,null),v&&a.createElement(w,{closed:!O,"data-testid":"noNodesView-adminClaimedNodesIcon",name:"chevron_down",color:"textLite"}))),a.createElement(i.Collapsible,{"data-testid":"noNodesView-adminClaimNodesContainer",open:O},a.createElement(i.Flex,{"data-testid":"noNodesView-adminClaimNodes",padding:[0,0,0,12]},a.createElement(M.Z,{rooms:[n]})))),!S&&a.createElement(F,null),v&&a.createElement(a.Fragment,null,a.createElement(i.Flex,{alignItems:"center","data-testid":"noNodesView-availableNodesHeader",gap:4,height:10,padding:[0,3]},a.createElement(E,{"data-testid":"noNodesView-availableNodesHeaderIcon",name:"checkmark_s",color:"textLite"}),a.createElement(i.H3,{color:"textDescription","data-testid":"noNodesView-availableNodesHeaderText"},"Add already available nodes")),a.createElement(i.Flex,{height:"100%","data-testid":"noNodesView-availableNodesContainer",padding:[0,0,0,12]},a.createElement(s.Z,(0,r.Z)({"data-testid":"noNodesView-availableNodesList"},f,{onAddNodes:g,canAddNodes:!!h.length,padding:[2,0,8]}))))),t&&a.createElement(i.Flex,{column:!0,"data-testid":"noNodesView-videoSection",flex:{shrink:0,grow:0}},a.createElement(Z.Z,{"data-testid":"noNodesView-onboardingVideo",height:296,width:520,videoId:t}),a.createElement(C,{"data-testid":"noNodesView-needHelp",padding:[8,0]})))}},4571:function(e,t,n){n.d(t,{Z:function(){return Nt}});n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(87462),o=n(4942),a=n(67294),i=n(89250),l=n(74662),c=n(36560),d=n(29439),s=n(2077),u=n(5441),m=n(25517),f=n(4822),p=n(91268),g=n(43969),h=n(78266),v=n(10340),b=n(37518),y=n(72911),E=n(8741),w=n(62200),x=n(91008),O=n(33335),k=n(41898),C=function(){var e=(0,b.UL)(),t=(0,O.gI)("node:Create");return a.createElement(p.Z,{column:!1,"data-testid":"noNodesViewPage",gap:12,padding:[6]},a.createElement(v.Flex,{column:!0,gap:5,flex:{shrink:0,grow:0},"data-testid":"noKubernetesView-videoSection"},a.createElement(y.Z,{"data-testid":"noNodesView-onboardingVideo",height:350,width:850,videoId:w.mX[0]}),a.createElement(y.Z,{"data-testid":"noNodesView-onboardingVideo",height:350,width:850,videoId:w.mX[1]})),a.createElement(v.Flex,{column:!0,gap:4},a.createElement(v.Box,{border:{side:"bottom",color:"borderSecondary"}},a.createElement(v.Box,{margin:[0,0,2,0]},a.createElement(x.Z,{href:"https://learn.netdata.cloud/guides/monitor/kubernetes-k8s-netdata",target:"_blank",rel:"noopener noreferrer","data-ga":"k8s-tab::click-link-guides::kubernetes-overview-and-visualizations"},a.createElement(v.TextBig,{color:"primary"},"Kubernetes monitoring with Netdata: Overview and visualizations"))),a.createElement(v.Box,{margin:[0,0,2,0]},a.createElement(x.Z,{href:"https://learn.netdata.cloud/docs/cloud/visualize/kubernetes",target:"_blank",rel:"noopener noreferrer","data-ga":"k8s-tab::click-link-guides::kubernetes-visualizations"},a.createElement(v.TextBig,{color:"primary"},"Kubernetes visualizations")))),a.createElement(v.Flex,{column:!0,gap:4},t?a.createElement(E.Z,{integrationId:k.O_,rooms:[e]}):a.createElement(c.H,null))))},Z=n(45987),I=(n(26699),n(32023),n(92222),n(39714),n(71893)),j=n(65565),S=n(92432),N=n(82351),P=n(97945),D=n(96104),T=n(74059),B=(n(69826),I.default.div.withConfig({displayName:"selections__Separator",componentId:"sc-1cc7y18-0"})(["width:1px;height:",";background:",";"],(0,v.getSizeBy)(2.5),(0,v.getColor)("borderSecondary"))),M=[{label:"Volume",value:"volume"},{label:"KS2",value:"ks2"}],F=[{label:"Average",value:"average"},{label:"Median",value:"median"},{label:"Min",value:"min"},{label:"Max",value:"max"},{label:"Stddev",value:"stddev"}],_=[{label:"Metrics",value:""},{label:"Anomaly Rate",value:"anomaly-bit"}],A=function(){return a.createElement(v.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(v.TextMicro,{color:"white"},"Choose the algorithm you want to be used to identify correlations across metrics:"),a.createElement(v.TextMicro,null,a.createElement(v.TextMicro,{color:"white",strong:!0},"KS2:")," ","A statistical test comparing the distribution of the highlighted window to the baseline."),a.createElement(v.TextMicro,null,a.createElement(v.TextMicro,{color:"white",strong:!0},"Volume:")," ","Percentage change in averages between highlighted window and baseline."))},L=function(){return a.createElement(v.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(v.TextMicro,{color:"white"},"What aggregation function do you want to apply when aggregating multiple datapoints for metric correlations."))},R=function(){return a.createElement(v.Flex,{column:!0,gap:1,alignItems:"center",width:"220px"},a.createElement(v.TextMicro,{color:"white"},"Do you want to find correlations over the metric values or the anomaly rates of each metric."))},V=function(e){var t=e.runGetWeights,n=e.nodeIds,r=e.flavour,i=(0,s.$g)({nodeIds:n,flavour:r}),l=i.method,c=i.options,d=i.group,u=null!==c&&void 0!==c&&c.includes(_[1].value)?_[1].value:"",m=(0,a.useCallback)((function(e){return function(n){var r=n.value;r="options"!==e?r:r?[r]:[];var a=(0,o.Z)({method:l,options:[c],group:d},e,r);t(a)}}),[l,c,d]),f=(0,a.useMemo)((function(){return{method:M.find((function(e){return e.value===l})),group:F.find((function(e){return e.value===d})),option:_.find((function(e){return e.value===u}))}}),[l,d,u]);return d?a.createElement(v.Flex,{gap:2},a.createElement(v.Flex,{gap:1,alignItems:"center"},a.createElement(v.TextSmall,{color:"textLite"},"Method:"),a.createElement(v.Select,{options:M,value:f.method,onChange:m("method")}),a.createElement(N.Z,{isBasic:!0,plain:!0,content:A,align:"bottom"},a.createElement(v.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(B,null),a.createElement(v.Flex,{gap:1,alignItems:"center"},a.createElement(v.TextSmall,{color:"textLite"},"Aggregation:"),a.createElement(v.Select,{options:F,value:f.group,onChange:m("group")}),a.createElement(N.Z,{isBasic:!0,plain:!0,content:L,align:"bottom"},a.createElement(v.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(B,null),a.createElement(v.Flex,{gap:1,alignItems:"center"},a.createElement(v.TextSmall,{color:"textLite"},"Data:"),a.createElement(v.Select,{options:_,value:f.option,onChange:m("options")}),a.createElement(N.Z,{isBasic:!0,plain:!0,content:R,align:"bottom"},a.createElement(v.Icon,{name:"information",color:"textDescription",size:"small"}))),a.createElement(B,null)):null},z=n(89405),H=function(e){var t=e.highlightAfter,n=e.highlightBefore,r=e.baseline,o=(0,z.rA)(),i=o.localeDateString,l=o.localeTimeString,c=new Date(t),d=new Date(n),s=new Date(r),u=new Date(t),m=Math.round((n-t)/1e3),p=Math.round((t-r)/1e3),g=(0,f.TQ)("highlight");return a.createElement(v.Flex,{gap:4,alignItems:"center"},a.createElement(v.Flex,{gap:2},a.createElement(v.Flex,{column:!0,gap:1},a.createElement(v.TextSmall,{color:"textLite"},"Selected area:"),a.createElement(v.TextSmall,{color:"textLite"},"Reference baseline:")),a.createElement(v.Flex,{column:!0,gap:1},a.createElement(v.TextSmall,{"data-testid":"metricCorrelation-selectedArea"},i(c,{long:!1}),","," ",l(c),"\xa0->\xa0",i(d,{long:!1}),","," ",l(d)),a.createElement(v.TextSmall,{"data-testid":"metricCorrelation-referenceBaseline"},i(s,{long:!1}),","," ",l(s),"\xa0->\xa0",i(u,{long:!1}),","," ",l(u))),a.createElement(v.Flex,{column:!0,gap:1},a.createElement(v.TextSmall,{color:"textLite"},"Duration:"),a.createElement(v.TextSmall,{color:"textLite"},"Duration:")),a.createElement(v.Flex,{column:!0,gap:1},a.createElement(v.TextSmall,{"data-testid":"metricCorrelation-selecteArea-duration"},m,"\xa0secs"),a.createElement(v.TextSmall,{"data-testid":"metricCorrelation-referenceBaseline-duration"},p,"\xa0secs"))),a.createElement(N.Z,{content:"Clear selection",align:"bottom",isBasic:!0},a.createElement(v.Button,{neutral:!0,flavour:"borderless",icon:"trashcan",onClick:function(){g({after:null,before:null})},"data-ga":"metric-correlation::click-delete::charts-view","data-testid":"metricCorrelation-delete"})))},G=n(39979),U=n(63346);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var W=(0,G.Z)(v.Button),q=(0,I.default)(v.Button).withConfig({displayName:"correlation__LogoButton",componentId:"sc-15d72m3-0"})(["&&{pointer-events:none;}"]),Q=(0,I.default)(v.Button).withConfig({displayName:"correlation__CloseButton",componentId:"sc-15d72m3-1"})(["position:absolute !important;top:-3px;right:-3px;"]),Y=(0,G.Z)(Q),X=(0,I.default)(v.Button).attrs({padding:[0],margin:[0,0,0,1.5],width:"auto"}).withConfig({displayName:"correlation__StyledButton",componentId:"sc-15d72m3-2"})(["height:16px !important;> span{margin:0 !important;}"]),J=function(e){var t=e.flavour,n=(0,T.th)(),r=(0,b.UL)(),i=(0,P.pG)(),l=(0,a.useMemo)((function(){return i?[i]:[]}),[i]),c=(0,D.fX)({extraKey:"nodesView",merge:!1,scoped:!0}),u="singleNode"===t?l:c,m=(0,a.useState)(!1),p=(0,d.Z)(m,2),g=p[0],h=p[1],y=(0,a.useState)(),E=(0,d.Z)(y,2),w=E[0],x=E[1],O=(0,s.d5)({nodeIds:u,flavour:t},n,r),k=O.threshold,C=O.totalDimensionsCount,Z=O.dimensionsCount,I=O.loaded,B=O.loading,M=O.getWeights,F=O.resetWeights,_=(0,s.$g)({nodeIds:u,flavour:t}),A=_.method,L=_.options,R=_.group,z=(0,f.by)("highlight"),G=z.after,Q=z.before,J=G-4*(Q-G),$=!!G;(0,a.useEffect)((function(){if(I){var e="default-result";if(R){var t=null!==L&&void 0!==L&&L.includes("anomaly-bit")?"anomaly-bit":"metrics";e="default-result-".concat(A,"-").concat(R,"-").concat(t)}return(0,S.L)("metrics-correlation",e,"charts-view",Z.toString())}}),[I]),(0,j.Z)((function(){G&&h(!0)}),[G]);var ee=(0,f.TQ)("correlation"),te=(0,f.TQ)("threshold"),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(!1),x(),M(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({highlightAfter:G,highlightBefore:Q,baselineAfter:J,baselineBefore:G,method:A,options:L,group:R,nodeIds:u},e)).then((function(){return te(s.mt)}))},re=!$||B;return(0,j.Z)((function(){I&&g&&$&&ne()}),[I,$,g]),a.createElement(v.Flex,{round:2,background:"elementBackground",padding:[2,6,2,2],alignItems:"center",justifyContent:"between",flex:!0,"data-testid":"correlation",position:"relative",height:{min:"64px"},gap:2},$?I?a.createElement(U.Xe,{feature:"MetricCorrelations",totalDimensionsCount:C,dimensionsCount:Z},a.createElement(v.Flex,{"data-testid":"metricCorrelation-resultsContainer",column:!0,width:"100%"},a.createElement(v.Flex,{justifyContent:"between",alignItems:"center",gap:1},a.createElement(v.Flex,{alignItems:"center",gap:1},a.createElement(v.Icon,{name:"correlation",color:"primary",width:"16px",height:"16px"}),a.createElement(v.TextSmall,null,"Analysed"," ",a.createElement(v.TextSmall,{color:"primary","data-testid":"metricCorrelation-resultsAnalyzed"},C)," ","and found"," ",a.createElement(v.TextSmall,{color:"primary","data-testid":"metricCorrelation-resultsFound"},Z)," ","correlated metrics."),a.createElement(N.Z,{content:"Clear results"},a.createElement(X,{flavour:"borderless",neutral:!0,disabled:B||!I&&!$,onClick:function(){te(s.mt),F(),(0,S.L)("metrics-correlation","click-delete","charts-view","".concat(I?"finish":"start"))},"data-testid":"metricCorrelation-clear",small:!0,icon:"reload"}))),a.createElement(V,{runGetWeights:ne,nodeIds:u,flavour:t})),a.createElement(v.Flex,{width:"100%"},a.createElement(v.Flex,{alignItems:"center",gap:3,margin:[0,2,0,5],width:"100%"},a.createElement(v.TextNano,{whiteSpace:"nowrap",color:"textDescription"},"Show less"),a.createElement(v.InputRange,{"data-testid":"metricCorrelation-resultsSlider",min:0,max:1,onChange:function(e){return te(e.target.value.toString())},onClick:function(){return(0,S.L)("metric-correlation","click-slider","charts-view")},step:.01,value:k}),a.createElement(v.TextNano,{whiteSpace:"nowrap",color:"textDescription"},"Show more")),a.createElement(a.Fragment,null,a.createElement(N.Z,{content:"Give us your feedback! Was it useful?",align:"bottom",enterDelay:200,showArrow:!0,activateOn:"hover"},a.createElement(v.Flex,null,a.createElement(v.Button,{flavour:"+"===w?"hollow":"borderless",disabled:w,icon:"thumb_up",onClick:function(){return x("+")},"data-ga":"metric-correlation::click-thumbs-up::charts-view","data-testid":"metricCorrelation-thumbsUp",small:!0}),a.createElement(v.Button,{flavour:"-"===w?"hollow":"borderless",disabled:w,icon:"thumb_down",onClick:function(){return x("-")},"data-ga":"metric-correlation::click-thumbs-down::charts-view","data-testid":"metricCorrelation-thumbsDown",small:!0}))))))):a.createElement(v.Flex,{alignItems:"center","data-testid":"correlationView-timePeriod-container",gap:4},a.createElement(q,{icon:"logo_s",isLoading:B}),B?a.createElement(v.H5,{"data-testid":"metricCorrelation-loadingCalculation"},"Calculating metric correlations..."):a.createElement(H,{highlightAfter:G,highlightBefore:Q,baseline:J})):a.createElement(v.Flex,{alignItems:"center",gap:1},a.createElement(v.Icon,{name:"correlation",color:"primary"}),a.createElement(v.Text,null,"Select a timeframe on any chart and find correlated metrics. Visit documentation"),a.createElement("a",{href:"https://learn.netdata.cloud/docs/cloud/insights/metric-correlations",target:"_blank",rel:"noreferrer"},a.createElement(v.Icon,{name:"nav_arrow_goto",color:"primary",width:"12px",height:"12px"}))),a.createElement(v.Flex,{alignItems:"center"},(!I||B)&&a.createElement(N.Z,{content:re?"Select an area of interest on any chart":"Click to find correlated metrics for the selected area",align:"bottom",enterDelay:200,showArrow:!0,activateOn:"hover"},a.createElement(W,{label:B?"Loading...":"Find correlations",isLoading:!1,onClick:ne,disabled:re,flavour:"hollow","data-ga":"metric-correlation::click-find-correlation::charts-view","data-testid":"metricCorrelation-find",small:!0,margin:[0,2,0,0],feature:"MetricCorrelations"})),a.createElement(N.Z,{content:"Close",align:"bottom"},a.createElement(Y,{neutral:!0,flavour:"borderless",onClick:function(){ee(!1),te(s.mt),F(),(0,S.L)("metrics-correlation","click-close","charts-view","".concat(I?"finish":"start"))},"data-ga":"metric-correlation::click-close::charts-view","data-testid":"metricCorrelation-close",icon:"x",feature:"MetricCorrelations"}))))},$=(0,G.Z)(v.Button),ee=function(){var e=(0,f.TQ)("correlation");return a.createElement(N.Z,{content:function(){return a.createElement(v.Box,null,a.createElement("strong",null,"Troubleshoot with Metric Correlations"),a.createElement("br",null),a.createElement("br",null),"Metric correlations will help you identify potential root causes for an observed issue.",a.createElement("br",null),"It will automatically analyse all available metrics for irregular behavior for the same timeframe.")},align:"bottom",activateOn:"hover",isBasic:!0},a.createElement($,{width:"118px",flavour:"hollow",label:"Metric Correlations",onClick:function(){e(!0)},"data-ga":"metrics-correlation::click-metric-correlations::charts-view","data-testid":"run-correlation",small:!0,feature:"MetricCorrelations",isStart:!0}))},te=n(14348),ne=n(88866),re=n(24093),oe=n(77796),ae=n(12008),ie=n(22965),le=I.default.div.withConfig({displayName:"styled__Separator",componentId:"sc-1fhfk7c-0"})(["background:",";height:20px;width:1px;"],(0,v.getColor)("border")),ce=n(83925);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t,n,r=e.flavour,o=(0,P.pG)(),i=(0,oe.ev)(o),l=(0,ae.n_)(i),c=l.critical,d=l.warning,s=(0,f.Sf)("sidebarTab",{flavour:"val",extraKey:r}),u=(0,f.Sf)("sidebarOpen",{flavour:"bool"}),m=(0,a.useCallback)((function(e){u(!0),s(e)}),[]),p=(0,P.iy)(o),g=p.hw,h=void 0===g?{}:g,b=p.cpus,y=p.isLive,E=p.name,w=p.os,x=void 0===w?{}:w,O=p.state,k=p.updateSeverity,C=p.labels,Z=p.version,I={dataTestId:"singleNode",isLive:y},j=(0,ie.kR)(se({count:c,type:"critical"},I)),S=(0,ie.kR)(se({count:d,type:"warning"},I)),N=(0,ie.Q5)(O),D=(0,ie.jo)(h.container,h.virtualization),T=(0,te.Z)("(min-width: 1760px)");return a.createElement(v.Flex,{alignItems:"center",background:"panelBg",border:{side:"all",color:"border"},"data-testid":"singleNode-badges-container",flex:!1,gap:1,padding:[1,2],round:1},a.createElement(v.TextSmall,{"data-testid":"singleNode-".concat(E),strong:!0},E),a.createElement(re.Z,{badge:"info","data-testid":"singleNode-nodeInfo-cta"},a.createElement(v.IconButton,{flavour:"borderless",cursor:"pointer",onClick:function(){return m("info")},icon:"information",iconColor:"nodeBadgeColor",tiny:!0,width:"18px",height:"18px"})),a.createElement(le,{"data-testid":"singleNode-separator"}),a.createElement(re.Z,{badge:"alerts",nodeName:E},a.createElement(v.AlertMasterCard,{onClick:j.text||S.text?function(){return m("alerts")}:null,pillLeft:j,pillRight:S})),k&&a.createElement(ce.Z,{"data-testid":"singleNode-update-cta",name:E,os:x.id,container:h.container,warningLevel:k,labels:C,version:Z,text:k}),a.createElement(le,{"data-testid":"singleNode-separator"}),a.createElement(re.Z,{badge:"connectivity",connectivityState:N,"data-testid":"singleNode-connectivityStateInfo",nodeName:E},a.createElement(v.Pill,{background:"nodeBadgeBackground",borderColor:"border",color:"nodeBadgeColor",flavour:"neutral",hollow:!0},N)),a.createElement(re.Z,{badge:"type","data-testid":"singleNode-nodeTypeInfo",nodeName:E,nodeType:D.label},a.createElement(v.Pill,{background:"nodeBadgeBackground",borderColor:"border",color:"nodeBadgeColor",flavour:"neutral",hollow:!0,icon:D.icon,iconSize:D.iconSize},D.label)),T&&a.createElement(re.Z,{badge:"systemInfo","data-testid":"singleNode-systemInfo",nodeName:E},a.createElement(v.Pill,{background:"nodeBadgeBackground",borderColor:"border",color:"nodeBadgeColor",flavour:"neutral",hollow:!0,normal:!0,icon:(null===(t=ne._[x.nm])||void 0===t?void 0:t.iconName)||(null===(n=ne.V[x.id])||void 0===n?void 0:n.iconName)||"os"},(0,ie.ys)(h.cpuFrequency)," (",b," ",1===h.cpus?"Core":"Cores",") -"," ",(0,ie.yo)(h.memory)," RAM - ",(0,ie.yo)(h.diskSpace))))},me=n(38671),fe=function(){var e=(0,me.Z)().onIntegrationsClick;return a.createElement(a.Fragment,null,a.createElement(v.Button,{icon:"integrations",flavour:"hollow",onClick:e,small:!0,label:"Integrations","data-ga":"integrations::click-integrations::charts-view","data-testid":"btn-show-integrations"}))},pe=n(71371),ge=["flavour"],he={singleNode:ue,default:pe.Z},ve=(0,a.memo)((function(e){var t=e.flavour,n=(0,Z.Z)(e,ge),o=(0,f.by)("correlation"),i=he[t]||he.default;return a.createElement(v.Flex,{alignItems:!o&&"center",background:"mainBackground",column:o,"data-testid":"overview-header",gap:2,justifyContent:o?"start":"between",padding:[2,2,2,4],width:"100%"},o?a.createElement(J,{flavour:t}):a.createElement(a.Fragment,null,!!i&&a.createElement(i,(0,r.Z)({},n,{flavour:t})),a.createElement(v.Flex,{gap:2},a.createElement(fe,null),a.createElement(ee,null))))})),be=n(15394),ye=n(53499),Ee=n(22962),we=n(61152),xe=n(69743),Oe=n(56102),ke=n(11835),Ce=(n(31672),n(59461),n(74916),n(4723),n(21249),n(57640),n(9924),n(69968)),Ze=n(24281),Ie=(n(48564),n(79424),n(71824)),je=n(17638),Se=n(85993),Ne=n(62525),Pe=n(41481),De=n(16978),Te=n(9058),Be=n(64504),Me=n(84147),Fe=function(e){return function(t){return"overview-page::".concat(e.getAttribute("id"),"::").concat(t)}},_e=["chartId"],Ae=["id","ids"];function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=(0,Ie.wJ)((function(e){var t=e.id,n=e.menuChartAttributes,r=(0,b.UL)(),o=(0,Te.e)(),i=(0,Be.u)(),l=(0,a.useMemo)((function(){var e,a="head-".concat(t),l=i.getChildren().find((function(e){return e.match({id:a})}));if(!l){var c=Re({contextScope:[(e=n).chartId]},(0,Z.Z)(e,_e));l=o.makeChart({attributes:Re(Re({},c),{},{roomId:r,id:a}),makeTrack:Fe}),i.appendChild(l)}return l}),[r,t,i]);return(0,Me.Ni)(n.chartId)?a.createElement(De.Z,{chart:l,"data-track":l.track("container")}):null})),ze=function(e,t){return e.layout||console.warn(t,"has no layout set, default values will be used."),Re(Re({x:0,y:0,w:3,h:5,i:e.id,chartId:e.chartId},e.layout),{},{minW:1,minH:1,static:!1})},He={lg:12,md:12,sm:12,xs:12,xxs:1},Ge={lg:40,md:30,sm:30,xs:30,xxs:30},Ue=function(e){var t=e.id,n=e.ids,o=(0,Z.Z)(e,Ae),i=(0,Ie.mQ)(n,ze),l=(0,Pe.J1)().filteredChartsCount,c=(0,Ie.MS)(t),s=(0,a.useMemo)((function(){return{lg:i.filter((function(e){if(!e)return!1;var t=c(e.chartId);return t.visible&&!t.filteredOut&&!t.hidden}))}}),[n,i,l]),u=(0,a.useState)("lg"),m=(0,d.Z)(u,2),f=m[0],p=m[1],g=(0,Ze.Z)(),h=(0,d.Z)(g,2),v=h[0],b=h[1].width,y=(0,a.useMemo)((function(){return s.lg.map((function(e){var t=e.i;return a.createElement("div",{key:t},a.createElement(Ve,{key:t,id:t}))}))}),[s]);return n.length?a.createElement(je.n,(0,r.Z)({width:"100%",margin:[2,0,0]},o,{ref:v}),a.createElement(Ce.Responsive,{layouts:s,rowHeight:Ge[f],cols:He,margin:[4,4],measureBeforeMount:!0,style:{minWidth:"100%",minHeight:"166px"},width:b||1e3,compactType:"horizontal",onBreakpointChange:p,useCSSTransforms:!1,isDraggable:!1,isResizable:!1},y)):null},Ke=(0,Se.Lj)(Ue,(function(e){return{ids:e.headIds}})),We=(0,Ne.Ji)(Ue,(function(e){return{ids:e.headIds}})),qe=["id","isActiveSticky"],Qe=function(e){var t=e.id,n=e.isActiveSticky,o=(0,Z.Z)(e,qe);return a.createElement(xe.d,(0,r.Z)({id:t},o),a.createElement(Oe.Y,{id:t,tiny:n,hasTooltip:n}),!n&&a.createElement(ke.f,{id:t,isActiveSticky:n}),!n&&a.createElement(Ke,{id:t,tiny:n}))},Ye=(0,a.memo)(Qe),Xe=n(18039),Je=n(87267),$e=["id"],et=["height"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=[],ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{selectedDimensions:e.dimensions?Object.keys(e.dimensions):rt,selectedInstances:e.instances?Object.keys(e.instances):rt,selectedNodes:e.nodes?Object.keys(e.nodes):rt,weight:e.weight}},at=function(e){var t=e.id,n=(0,Z.Z)(e,$e),o=(0,b.UL)(),i=(0,Be.u)(),l=(0,Ie.nI)(t),c=l.height,d=void 0===c?0:c,s=(0,Z.Z)(l,et),u=(0,Te.e)(),m=(0,Je.Z)(),f=m.sendLog,p=m.isReady,g=(0,a.useMemo)((function(){var e=i.getNode({id:t});return e||(e=u.makeChart({attributes:nt({contextScope:[t],height:(0,Xe.C)(i,t,d+360),id:t,roomId:o},s),makeTrack:Fe}),i.appendChild(e),e)}),[i,o,t]);(0,a.useEffect)((function(){g&&p&&"function"===typeof f&&g.updateAttribute("logOptions",{sendLog:f,payload:{feature:"Overview"}})}),[g,f,p]);var h=(0,Ie.Q8)(t,ot),v=h.weight,y=h.selectedDimensions,E=h.selectedInstances,w=h.selectedNodes;return(0,a.useEffect)((function(){g&&v&&(g.updateAttributes({selectedDimensions:y,selectedInstances:E,selectedNodes:w}),g.trigger("fetch"))}),[o,t,v,y.length,E.length,w.length]),a.createElement(De.Z,(0,r.Z)({margin:[0,0,2],chart:g,"data-chartid":t,"data-track":g.track("container")},n))},it=a.memo(at,(function(e,t){return e.id===t.id})),lt=["id","subMenuId"],ct=function(e){var t=e.id,n=e.subMenuId,o=(0,Z.Z)(e,lt);return a.createElement(it,(0,r.Z)({id:t,role:"graphics-object","aria-roledescription":"chart","data-submenuid":n},o))},dt=(0,a.memo)(ct),st=n(14048),ut=n(12664),mt=function(e){var t=e.id,n=e.isActiveSticky;return a.createElement(st.D,{gap:0,id:t},a.createElement(ut.o,{id:t,margin:[1,0,0],hasTooltip:n}),!n&&a.createElement(We,{id:t}))},ft=(0,a.memo)(mt),pt=function(e){var t=e.id,n=(0,b.UL)(),r=(0,Te.e)(),o=(0,Ie.MS)(),i=(0,Se.nk)(t).subMenuChartIds,l=(0,Be.u)(),c=(0,a.useMemo)((function(){var e=(0,d.Z)(i,1)[0],a=(o(e),l.getChildren().find((function(e){return e.match({id:t})})));if(a)return a;var c=i.map((function(e){return{value:e,label:o(e).context}}));return a=r.makeChart({attributes:{id:t,contextScope:[e],roomId:n,composite:!0,chartLibrary:"groupBoxes",groupBy:["label"],groupByLabel:["k8s_namespace","k8s_pod_name"],aggregationMethod:"avg",eliminateZeroDimensions:!1,contextItems:c},makeTrack:Fe}),l.appendChild(a),a}),[t,l]);return a.createElement(De.Z,{margin:[0,0,2],chart:c,"data-chartid":t,"data-track":c.track("container")})},gt=["id"],ht=function(e){var t=e.id,n=(0,Z.Z)(e,gt);return a.createElement(xe.d,{id:t,padding:[6,0,0]},a.createElement(Oe.Y,{id:t}),a.createElement(ke.f,{id:t,padding:[2,0,0]}),a.createElement(pt,(0,r.Z)({id:t},n)))},vt={k8s:(0,a.memo)(ht)},bt=function(e){if(vt[e.flavour])return vt[e.flavour];switch(e.level){case 0:return Ye;case 1:return ft;case 2:return dt;default:return null}},yt=function(e){var t=e.onChartNameChange,n=e.initialChartName,r=e.dashboardOptions,o=e.linkToGo,i=e.contextToGo,c=(0,we.Z)("addToDashboardModal"),s=(0,d.Z)(c,4),u=s[0],m=s[3],f=(0,be.Z)({onChartNameChange:t,initialChartName:n,linkToGo:o,contextToGo:i}),p=f.setActiveMenuGroupId,g=f.setActiveSubMenuId;return a.createElement(l.v,null,a.createElement(ye.Z,{onActiveMenuGroupId:p,onActiveSubMenuId:g,getComponent:bt,dashboardOptions:r,initialChartName:n}),u&&a.createElement(Ee.Z,{onClose:m}))},Et=n(6015);function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var xt=(0,a.memo)((function(){var e=(0,ae.O0)(),t=(0,d.Z)(e,2),n=t[0],r=t[1],i=(0,Te.e)(),l=!!n&&!!i&&i.getNode({id:n.context}),c=function(){if(r(null),null!==n&&void 0!==n&&n.context&&l){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l.getAttribute("overlays"));delete e.alert,l.updateAttribute("overlays",e),history.replaceState({},"")}};(0,a.useEffect)((function(){return c}),[]);var s=(0,b.UL)(),u=(0,Me.Cd)((null===n||void 0===n?void 0:n.context)&&s,null===n||void 0===n?void 0:n.context);if(!n||null===u||void 0===u||!u.loaded)return null;var m=u.firstEntry;return a.createElement(v.Layer,{backdrop:!1,position:"top",margin:[26,0,0],padding:[26,0,0]},a.createElement(v.Flex,{background:["neutral","black"],padding:[1,2],gap:2},a.createElement(v.TextSmall,{color:["neutral","porcelain"]},"Showing alert in ",a.createElement(v.TextSmall,{color:"bright"},n.instance)," on"," ",a.createElement(v.TextSmall,{color:"bright"},new Date(1e3*n.lastStatusChange).toLocaleString()),!m&&" doesn't exist on the node anymore",!!m&&m>n.lastStatusChange&&" exceeds agent data retention settings"),a.createElement(v.Flex,{flex:!1},a.createElement(v.Icon,{name:"x",color:"bright",onClick:c,size:"small"}))))})),Ot=xt;function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt={NoChartsView:g.Z,NoNodesView:c.Z,sidebar:{title:"Filters",hiddenTabs:["info"],Component:Et.ZP,props:{}},dashboardOptions:{},loadingMessage:"Loading charts...",Header:ve},It={overview:Ct(Ct({},Zt),{},{sidebar:Ct(Ct({},Zt.sidebar),{},{title:"Overview"}),feature:"Overview"}),k8s:Ct(Ct({},Zt),{},{NoChartsView:C,NoNodesView:C,sidebar:Ct(Ct({},Zt.sidebar),{},{title:"Kubernetes"}),loadingMessage:"Loading k8s charts...",feature:"Kubernetes"}),singleNode:Ct(Ct({},Zt),{},{sidebar:Ct(Ct({},Zt.sidebar),{},{title:"Single Node",hiddenTabs:["filters"],props:{showCollapsed:!0}}),feature:"SingleNode"})},jt=function(){return function(){var e=(0,u.E)(),t=(0,s.yp)({nodeIds:e,flavour:"rhs"}),n=(0,m.$B)(),r=(0,d.Z)(n,2),o=r[0],i=r[1],l=(0,f.by)(),c=l.after,p=l.before;(0,a.useEffect)((function(){t()}),[o,i,c,p])}(),null},St=(0,a.memo)((function(e){var t=e.flavour,n=void 0===t?"overview":t,o=e.invalidationKey,c=e.nodeIds,d=e.loaded,s=e.getChart,u=e.chartIds,m=e.areChartsIdsEmpty,f=e.showNoChartsView,g=e.showNoNodesView,v=e.initializing,b=e.chartName,y=e.setChartName,E=e.chartsLoaded,w=e.widthRef,x=e.nodesKey,O=e.blurred,k=e.blurProps,C=void 0===k?{}:k,Z=e.BlurredContent,I=It[n],j=I.dashboardOptions,S=I.NoChartsView,N=I.NoNodesView,P=I.sidebar,D=I.loadingMessage,T=I.Header,B=I.feature,M=void 0===B?"Overview":B,F=(0,i.TH)().state;return g?a.createElement(U.ZP,{feature:M,mode:"NoNodesView"},a.createElement(N,null)):v?a.createElement(h.Z,{title:"Please wait while charts are being initialized.",body:"Thank you for your patience!"}):d?a.createElement(U.ZP,{feature:M},a.createElement(l.Z,{key:o,getObject:s,ids:u,linkToGo:null===F||void 0===F?void 0:F.chartName,extraKey:n,deps:[x]},a.createElement(jt,null),a.createElement(Ot,null),a.createElement(p.Z,{ref:w,sidebar:a.createElement(P.Component,(0,r.Z)({nodeIds:c,title:P.title,initialChartName:b,hiddenTabs:P.hiddenTabs,flavour:n,loaded:E},P.props)),blurred:O,blurProps:C,BlurredContent:Z},a.createElement(T,{flavour:n}),E?f||m?a.createElement(S,null):a.createElement(yt,{dashboardOptions:j,initialChartName:b,onChartNameChange:y,linkToGo:null===F||void 0===F?void 0:F.chartName,contextToGo:null===F||void 0===F?void 0:F.contextToGo}):a.createElement(h.Z,{title:D})))):a.createElement(h.Z,{title:D})})),Nt=St},86433:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(87462),o=n(67294),a=n(97945),i=n(7335),l=n(74059),c=n(54227),d=n(71893),s=n(10340),u=n(80697),m=(0,d.default)(s.Flex).withConfig({displayName:"restrictedNodeMessage__StyledBox",componentId:"sc-f8tyvk-0"})(["transform:translate(-50%,-50%);"]),f=function(){return o.createElement(m,{column:!0,gap:4,alignItems:"end",position:"absolute",top:"50%",left:"50%",padding:[4],round:2,background:"elementBackground"},o.createElement(s.Flex,{column:!0,gap:2},o.createElement(s.Flex,{gap:2},o.createElement(s.Icon,{color:"warning",name:"warning_triangle_hollow"}),o.createElement(s.H4,null,"This node is restricted")),o.createElement(s.Text,null,"Please upgrade your plan in order to be able to unlock this view.")),o.createElement(u.Z,{tooltipProps:{align:"bottom"}}))},p=function(e){return function(t){var n=(0,l.th)(),d=(0,a.pG)(),s=(0,a.iy)(d,"isLive"),u=(0,a.iy)(d,"name");(0,c.bV)({title:u,id:d,destination:d});var m=(0,a.TQ)(d,n),p=(0,i.DH)();(0,o.useEffect)((function(){if(s&&"hasValue"===m.state){var e=m.contents;null!==e&&void 0!==e&&e.uid&&u&&p(e.uid,null,u)}}),[m,s,u]);var g=(0,o.useMemo)((function(){return[d]}),[d]);return o.createElement(e,(0,r.Z)({flavour:"singleNode",nodeIds:g,blurred:!1,blurProps:{value:"12px"},BlurredContent:f},t))}}},64504:function(e,t,n){n.d(t,{B:function(){return l},u:function(){return i}});n(69826),n(41539),n(31672),n(2490),n(59461),n(74916),n(4723);var r=n(4480),o=n(9058),a=(0,r.cn)({key:"currentChartsContainerKey",default:null}),i=function(){var e=(0,o.e)(),t=(0,r.sJ)(a);return e&&e.getRoot().getChildren().find((function(e){return e.match({id:t})}))},l=function(){return(0,r.Zl)(a)}},77901:function(e,t,n){n.d(t,{Z:function(){return G}});var r=n(87462),o=n(4942),a=n(29439),i=n(45987),l=(n(26699),n(32023),n(92222),n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),c=n(24281),d=n(89250),s=n(39915),u=n(74059),m=n(37518),f=n(96929),p=n(84147),g=n(40970),h=n(96104),v=n(97945),b=n(2077),y=n(41481),E=n(42448),w=n(4822),x=n(12008),O=n(39840),k=n(39612);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=n(93433),j=(n(69826),n(31672),n(59461),n(74916),n(4723),n(24298)),S=n(96415),N=n(70873),P=n(43460),D=n(84817),T=n(91354),B=n(9058),M=n(65565),F=n(18039),_=n(64504),A=n(14808),L=["flavour","nodeIds"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={default:{shouldHide:function(){return!1}},k8s:{shouldHide:function(e){return!e.context.includes("k8s")}}},H=[],G=function(e){return(0,l.memo)((function(t){var n=t.flavour,o=void 0===n?"overview":n,C=t.nodeIds,R=void 0===C?H:C,G=(0,i.Z)(t,L),U=(0,u.th)(),K=(0,m.UL)(),W=(0,h.fX)({extraKey:o,merge:!1,scoped:!0});W=R.length?R:W;var q=(0,f.fD)(),Q=(0,p.hH)(K),Y=(0,d.TH)().state,X=(0,p.Cd)(K),J=(0,v.Mm)(W),$=(0,g.Z)(K,W,{spaceId:U}),ee=(0,b.d5)({nodeIds:W,flavour:o},U,K),te=ee.contexts,ne=ee.metadata,re=ee.loaded,oe=ee.dimensionsCount,ae=function(){var e=(0,d.TH)().state,t=((void 0===e?{}:e)||{}).alertId,n=void 0===t?null:t,r=(0,x.O0)(),o=(0,a.Z)(r,2),i=o[0],c=o[1],s=n||(null===i||void 0===i?void 0:i.id),u=(0,x.E5)(s);(0,x.yx)(u.id),(0,l.useEffect)((function(){(u.fullyLoaded||u.id)&&c(Z(Z({},u),{},{formattedLastStatusChangeValue:(0,O.m9)(u.lastStatusChangeValue,u.units),linkToGo:"chart_".concat((0,k.Z)(u.context))}))}),[u.id,u.fullyLoaded]);var m=null!==i&&void 0!==i&&i.id?"chart_".concat((0,k.Z)(i.context)):null;return[u.id,m]}(),ie=(0,a.Z)(ae,2)[1],le=R?R.join():o,ce=(0,u.Q6)(),de=(0,c.Z)(),se=(0,a.Z)(de,2),ue=se[0],me=se[1].width;!function(e,t,n){var r=n.width,o=n.host;if(!o)throw"No host provided";var i=(0,B.e)(),c=(0,l.useRef)(),s=(0,p.QX)(e,"error"),u=(0,w.I0)(),m=(0,a.Z)(u,2),f=m[0].correlation,g=m[1],h=(0,d.TH)(),v=h.state,b=h.pathname,y=(0,_.B)(),E=(0,p.qU)(e),x=(0,p.w4)(e);(0,l.useLayoutEffect)((function(){if(e&&i&&!s){var n=i.getRoot().getChildren().find((function(e){return e.match({id:b})}));if(!n)return n=i.makeContainer({attributes:{id:b,roomId:e,host:o,navigation:f?"highlight":"pan",overlays:{proceeded:{type:"proceeded"}},composite:!0,nodesScope:t,hasCorrelation:!0,versions:E,width:r,toolboxElements:[].concat((0,I.Z)(A.h2?[T.Z]:[]),[P.default,S.default,N.default,D.Z])}}),i.appendChild(n),y(b),c.current=n,(0,j.unregister)((0,F.M)(i,n),i.on("correlation",(function(e,t){t&&g({correlation:!0})})),n.onAttributeChange("versions",x));y(b)}}),[e,s,b]),(0,l.useMemo)((function(){c.current&&(c.current.setAttribute("width",r),c.current.getNodes().forEach((function(e){return e.updateAttribute("width",r)})))}),[c.current,r]),(0,M.Z)((function(){c.current&&c.current.getNodes().forEach((function(e){e.updateAttribute("nodesScope",t),e.getAttribute("active")&&"chart"===e.type&&e.fetch()}))}),[c.current,t]),(0,l.useEffect)((function(){c.current&&c.current.getApplicableNodes({syncHighlight:!0}).forEach((function(e){e.updateAttribute("navigation",f?"highlight":"pan")}))}),[c.current,f]),(0,l.useEffect)((function(){return function(){return c.current&&c.current.destroy()}}),[]),(0,l.useEffect)((function(){if(c.current&&v&&v.context){var e=v.context,t=v.chartId,n=v.nodeId,r=c.current.getNode({id:e});r&&r.updateAttributes({selectedInstances:["".concat(t,"@").concat(n)],selectedNodes:[n]});var o=t&&n&&c.current.on("chartLoaded",(function(r){var a=r.getAttribute("id");e===a&&(r.updateAttributes({selectedInstances:["".concat(t,"@").concat(n)],selectedNodes:[n]}),o())}));return function(){return v&&(0,j.unregister)(o)}}}),[c.current,v])}(K,W,{host:ce?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(U,"/rooms/").concat(K),width:me});var fe=(0,p.jg)(K),pe=re?ne:X,ge=z[o]||z.default,he=(0,p.Uq)(K),ve=(0,s.Z)(he),be=(0,y.Np)(re?te:fe,X,K,V(V({},ge),{},{force:re||he!==ve,cacheKey:"".concat(o,"-").concat(oe,"-").concat(le)})),ye=(0,p.MS)(K,ne),Ee=(0,s.Z)($,!0),we=be<1,xe=(0,w.I0)("chartName",{key:K,extraKey:le,flavour:"val"}),Oe=(0,a.Z)(xe,2),ke=Oe[0],Ce=Oe[1];(0,l.useEffect)((function(){K&&Ce(ie||(null===Y||void 0===Y?void 0:Y.chartName)||ke)}),[K,ie]);var Ze=(0,_.u)(),Ie=Object.keys(pe).length<1&&Q||W.length&&!J.length,je=(0,f.zN)();if(!Ie&&!1!==Ee&&$&&"No data for this period"!==$&&!Object.keys(pe).length)throw $;return l.createElement(e,(0,r.Z)({nodeIds:J,loaded:!!K&&q&&Ze,getChart:ye,areChartsIdsEmpty:we,showNoNodesView:q&&!je.length,showNoChartsView:Ie,initializing:$&&(0,E.V)($),chartName:ke,setChartName:Ce,chartsLoaded:Q&&!!me,invalidationKey:K,flavour:o,chartIds:re?te:fe,widthRef:ue,nodesKey:le},G))}))}},72869:function(e,t,n){n.d(t,{Z:function(){return Te}});var r={};n.r(r),n.d(r,{OSTableSchema:function(){return L},agentTableSchema:function(){return R},dashboardsTableSchema:function(){return A},dockerTableSchema:function(){return _},machinesTableSchema:function(){return F}});var o=n(87462),a=n(45987),i=n(29439),l=n(4942),c=(n(41539),n(64211),n(2490),n(41874),n(47941),n(85827),n(25387),n(72608),n(21249),n(57640),n(9924),n(82526),n(41817),n(57327),n(88449),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),d=n(10340),s=n(18997),u=n(41331),m=n(37518),f=n(25819),p=n(74059),g=n(78266),h=n(93433),v=(n(92222),n(91008)),b=n(92432),y=n(89250),E=n(39840),w=n(65351),x=n(85287),O=(0,c.memo)((function(e){var t=e.count,n=e.testId;return c.createElement(d.TextHuge,{strong:!0,color:"textDescription",alignSelf:"center","data-testid":n,overflow:"hidden"},isNaN(t)?"-":(0,x.d)(t))})),k=(n(26833),n(2707),n(18446)),C=n.n(k),Z=n(71893),I=n(85651),j={metrics:(0,Z.css)(["tbody tr{&:nth-child(odd){background:",";}&:nth-child(even){background:",";}}thead tr{background:",";}"],(0,I.getColor)("nodeBadgeBackground"),(0,I.getColor)("panelBg"),(0,I.getColor)("panelBg")),progressBar:(0,Z.css)(["tr{background:",";}"],(0,I.getColor)("panelBg"))},S=(0,Z.default)(d.Table).attrs({coloredSortedColumn:!1}).withConfig({displayName:"styled__StyledTable",componentId:"sc-1kpag36-0"})(["&&{width:100%;height:auto;align-self:start;th,td{padding:4px 8px;min-width:auto;height:32px;width:auto;}","}"],(function(e){var t=e.layout;return j[t]||j.metrics})),N=(0,Z.default)(d.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1kpag36-1"})(["float:right;cursor:pointer;"]),P=[{id:"value",desc:!1}],D=function(e){var t=e.columns,n=e.data,r=e.layout,o=void 0===r?"metrics":r,a=e.sortBy,i=void 0===a?P:a;return null!==n&&void 0!==n&&n.length?c.createElement(S,{layout:o,data:n,dataColumns:t,sortBy:i,enableSorting:!0}):c.createElement(d.Flex,{width:"100%"},c.createElement(d.TextSmall,{color:"textLite",alignSelf:"center",margin:[0,"auto"]},"No data"))},T=n(44109),B=n(38626),M={name:function(e){return function(e,t){var n=t.maxLength;return{id:"name",accessorKey:"name",header:e,cell:function(e){var t=e.getValue;return n?c.createElement(B.Z,{maxLength:n,text:t(),TextComponent:d.TextSmall}):c.createElement(d.TextSmall,null,t())}}}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},value:{id:"value",header:"#",accessorKey:"value",cell:function(e){var t=e.getValue;return c.createElement(d.TextSmall,{strong:!0},t())}},goToDashboard:{id:"goToDashboard",accessorKey:"value",header:"",cell:function(e){var t=e.cell,n=e.getValue,r=t.row.original.path,o=(0,y.s0)(),a=(0,c.useCallback)((function(){(0,b.L)("total-cust-dashboard","click-cust-dasbhoard","hm-page",n()),o("".concat(r,"/").concat(n()))}),[r,n()]);return c.createElement(N,{name:"goToNode",width:"14px",height:"14px",color:"textDescription",onClick:a})}},progressBar:function(e){return{id:"value",accessorKey:"value",header:e.header,cell:function(e){var t=e.cell,n=e.getValue,r=t.row.original,o=r.name,a=r.total,i=r.color,l=a?n()/a:0,s=(0,T.e)(l);return c.createElement(d.Flex,{column:!0,margin:[1,0,0,0]},o?c.createElement(d.Flex,{justifyContent:"between"},c.createElement(d.TextSmall,null,o),c.createElement(d.TextSmall,{strong:!0},n())):null,c.createElement(d.ProgressBar,{color:i,width:s}))}}}},F=[M.name("VM"),M.value],_=[M.name("Containers"),M.value],A=[M.name("Latest Updated",{maxLength:24}),M.goToDashboard],L=[M.progressBar({header:"OS",dataEntry:"nodesByOS"})],R=[M.progressBar({header:"Agent Version",dataEntry:"nodesByAgentVersion"})],V=(0,c.memo)((function(e){var t=e.data,n=e.schemaKey,o=e.testId,a=Object.values(t).reduce((function(e,t){return e+t}),0),i=Object.keys(t).map((function(e){return{name:e,value:t[e],total:a}})).sort((function(e,t){return t.value-e.value}));return c.createElement(d.Flex,{padding:[0,4],height:"100%","data-testid":"".concat(o,"-table-container"),overflow:"hidden"},c.createElement(D,{columns:r[n],data:i,layout:"progressBar"}))}),(function(e,t){return C()(e,t)}));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=[{id:"name",desc:!1}],U=function(e){var t=e.count,n=e.data,r=(0,p.uk)(),o=(0,m.vf)(),a=function(e){var t=e.data,n=void 0===t?[]:t,r=e.path;return null===n||void 0===n?void 0:n.map((function(e){return H(H({},e),{},{value:e.slug,path:r})}))}({data:n,path:"/spaces/".concat(r,"/rooms/").concat(o,"/dashboards")});return c.createElement(d.Flex,{column:!0,alignItems:"center","data-testid":"totalDashboards-table-container",margin:[0,4],gap:2,overflow:"hidden"},c.createElement(O,{count:t,testId:"total-dashboards-value"}),c.createElement(D,{columns:A,data:a,sortBy:G}))},K=(0,c.memo)(U,(function(e,t){return C()(e,t)})),W=n(9446),q=(0,Z.default)(d.TextSmall).withConfig({displayName:"pieChartLabels__StyledText",componentId:"sc-15uxiq-0"})(["display:flex;align-items:center;cursor:",";&:hover{opacity:",";}"],(function(e){return e.onClick?"pointer":"auto"}),(function(e){return e.onClick?"0.7":"1"})),Q=(0,c.memo)((function(e){var t=e.title,n=e.value,r=e.color,o=e.onClick,a=void 0===o?null:o;return c.createElement(d.Flex,{alignItems:"center",justifyContent:"between",width:"100%",gap:4,flex:{grow:1,shrink:0}},c.createElement(d.Flex,{gap:1},c.createElement(d.Flex,{width:"4px",height:"16px",background:r}),c.createElement(q,{whiteSpace:"nowrap",onClick:a},t,a&&c.createElement(d.Icon,{color:"textLite",margin:[0,0,0,1],name:"nav_arrow_goto",height:"10px",width:"10px"}))),c.createElement(d.Text,{strong:!0},null!==n&&void 0!==n?n:"-"))})),Y=function(e){var t=e.data;return c.createElement(d.Flex,{column:!0,alignItems:"start",justifyContent:"center",gap:5},t.map((function(e,t){var n=e.title,r=e.value,o=e.color,a=e.onClick;return c.createElement(Q,{key:"".concat(n,"-").concat(r,"-").concat(t),title:n,value:r,color:o,onClick:a})})))};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){var t=e.data,n=e.theme;return t.map((function(e){return J(J({},e),{},{color:(0,d.getColor)(e.color)({theme:n})})}))},ee=function(e){var t=e.chartData,n=void 0===t?[]:t,r=e.lineWidth,o=void 0===r?15:r,a=e.animate,i=void 0===a||a,l=e.label,s=e.hasData,u=(0,c.useContext)(Z.ThemeContext);return c.createElement(d.Flex,{gap:4,margin:[0,4],height:{min:"100px",max:"130px"},alignItems:"center"},c.createElement(Y,{data:n}),c.createElement(d.Flex,{height:"100px",flex:{grow:1,shrink:1}},s?c.createElement(W.PieChart,{label:function(){return l},labelStyle:{fontSize:"24px",fontWeight:400,fontFamily:"IBM Plex Sans",lineHeight:" 32px",fill:(0,d.getColor)("textDescription")({theme:u})},labelPosition:0,data:$({data:n,theme:u}),lineWidth:o,animate:i}):c.createElement(d.Icon,{color:"border",name:"pie_chart_skeleton",width:"100px",height:"100px",alignSelf:"center"})))},te=function(e){return Object.keys(e).reduce((function(t,n){return[].concat((0,h.Z)(t),[{name:n,value:e[n]}])}),[]).sort((function(e,t){return t.value-e.value}))},ne=function(e){var t=e.data,n=t.vm,r=t.docker,o=t.chartData,a=t.hasData,i=te(n),l=te(r);return c.createElement(d.Flex,{justifyContent:"around","data-testid":"nodesByMachine-tables-container",overflow:"hidden"},c.createElement(d.Flex,{flex:{grow:1,shrink:0},basis:"200px"},c.createElement(ee,{chartData:o,hasData:a})),c.createElement(d.Flex,{gap:2,flex:{grow:1,shrink:0},basis:"50%",padding:[0,4,0,2]},c.createElement(D,{columns:F,data:i}),c.createElement(D,{columns:_,data:l})))},re=(0,c.memo)(ne,(function(e,t){return C()(e,t)})),oe=n(82351);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=(0,Z.default)(d.Text).withConfig({displayName:"nodesByDataReplication__StyledValue",componentId:"sc-19v6tvl-0"})(["line-height:17px;"]),ce=function(e){var t=e.parent,n=e.child,r=t+n,o=(0,T.e)(t/r);return c.createElement(d.Flex,{column:!0,gap:1},c.createElement(d.Flex,{justifyContent:"between","data-testid":"nodesByDataReplication-parent-child"},c.createElement(me,{name:"Parents",value:t,background:["blue","aquamarine"]}),c.createElement(me,{name:"Children",value:n,background:["purple","lilac"]})),c.createElement(d.ProgressBar,{background:["purple","lilac"],color:["blue","aquamarine"],width:o}))},de={r_1:{label:"1",color:["blue","indigo"]},r_2:{label:"2",color:["green","limeGreen"]},"r_*":{label:">2",color:["yellow","seaBuckthorn"]}},se=function(){return c.createElement(d.Flex,{column:!0,gap:1,alignItems:"center",width:"220px","data-testid":"nodesByDataReplication-information-text",overflow:"hidden"},c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Replication factor 1:")," ","The node's data are only on the node itself. Lose the node, lose the data!"),c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Replication factor 2:")," ","The node's metrics are replicated to one parent. The parent can trigger alerts for the child."),c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Replication factor ",">2",":")," ","Same as 2, but with the metrics replicated to more than one parent. Each parent in the hierarchy can trigger alerts for its children."),c.createElement(d.TextMicro,{color:"white",margin:[2,0]},"Aim to have most of your nodes with at least a factor of 2 and your critical ones with ",">2","."))},ue=function(e){var t=(0,c.useMemo)((function(){var t=Object.keys(de).reduce((function(t,n,r){var o,a=e[n]||0;return[].concat((0,h.Z)(t),[ie(ie({key:n},de[n]),{},{value:a,sumValue:((null===(o=t[r-1])||void 0===o?void 0:o.sumValue)||0)+a})])}),[]);return[t,t[t.length-1].sumValue]}),[e]),n=(0,i.Z)(t,2),r=n[0],o=n[1];return c.createElement(d.Flex,{column:!0,margin:[6,0,0]},c.createElement(d.Flex,{margin:[0,0,2],gap:1},c.createElement(d.TextSmall,null,"Replication factor"),c.createElement(oe.Z,{isBasic:!0,plain:!0,content:se,align:"bottom"},c.createElement(d.Icon,{name:"information",color:"textDescription",size:"small"}))),c.createElement(d.Flex,{justifyContent:"between",margin:[0,0,1],"data-testid":"nodesByDataReplication-replications"},r.map((function(e){return c.createElement(me,{key:e.key,name:e.label,value:e.value,background:e.color})}))),c.createElement(d.ProgressBar,{background:"nodeBadgeBackground",value:r.map((function(e){return{width:(0,T.e)(e.value/o),color:e.color}}))}))},me=function(e){var t=e.name,n=e.value,r=void 0===n?"-":n,o=e.background,a=void 0===o?"text":o;return c.createElement(d.Flex,{alignItems:"center"},c.createElement(d.Flex,{width:"4px",height:"16px",background:a,round:3,margin:[0,1,0,0]}),c.createElement(d.TextSmall,{color:"textDescription",margin:[0,3,0,0]},t),c.createElement(le,{color:"textDescription",strong:!0},r))},fe=function(e){var t=e.parentChild,n=e.replication;return c.createElement(d.Flex,{column:!0,margin:[4,4,1],"data-testid":"nodesByDataReplication-container"},c.createElement(ce,t),c.createElement(ue,n))},pe={dataReplication:function(){return(0,b.L)("nodes-data-replication","click-link-stream-replication","hm-page")}},ge=function(){var e=(0,m.A3)(),t=(0,y.s0)(),n=(0,E.yi)(),r=(0,w.Z)("manageWarRoom").handleOpenModal,o=(0,c.useCallback)((function(){return r("users")}),[]);return{claimedNodes:{props:{title:"Nodes",description:"Number of nodes claimed to Netdata in current room",basis:"calc(100%/12)",flex:{grow:"1",shrink:"0"},onClick:function(){return t("".concat(e,"/nodes"))},testId:"claimedNodes"},Component:O,selector:function(e){var t=e.nodes;return t?{count:t.offline+t.online+t.stale,updatedAt:t.updatedAt}:{count:"-"}}},nodesByStatus:{props:{title:"Nodes by status",description:"Breakdown of the nodes by their status in regards to Netdata",tooltip:c.createElement(d.Flex,{column:!0,width:{max:"200px"},gap:2},c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Live:")," ","Node is actual collecting and streaming metrics to Netdata"),c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Stale:")," ","Node is currently offline and not streaming metrics to Netdata. It can show historical data from a parent node"),c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Offline:")," ","Node is currently offline, not streaming metrics to Netdata and not available in any parent nodes"),c.createElement(d.TextMicro,{color:"white"},c.createElement(d.TextMicro,{color:"white",strong:!0},"Unseen:")," ","Nodes have never been connected to Netdata, they are claimed but no successful connection was established")),basis:"calc(100%/6)",flex:{grow:"2",shrink:"0"},testId:"nodesByStatus"},Component:ee,selector:function(n){var r=n.nodes,o=function(e){var t;return null!==(t=null===r||void 0===r?void 0:r[e])&&void 0!==t?t:"-"},a=function(){return t("".concat(e,"/nodes"))};return{chartData:[{title:"Live",value:o("online"),color:"live",onClick:a},{title:"Stale",value:o("stale"),color:"stale",onClick:a},{title:"Offline",value:o("offline"),color:"offline",onClick:a},{title:"Unseen",value:o("unseen"),color:"unseen",onClick:a}],hasData:!!r&&!r.error,updatedAt:null===r||void 0===r?void 0:r.updatedAt}}},nodesByML:{props:{title:"Nodes by ML",description:"Breakdown of the nodes in regards to our ML features",basis:"calc(100%/6)",flex:{grow:"2",shrink:"0"},onClick:function(){return t("".concat(e,"/anomalies"))},testId:"nodesByML"},Component:ee,selector:function(e){var t,n,r,o,a,i,l=e.nodes;return{chartData:[{title:"Enabled",value:null!==(t=null===l||void 0===l||null===(n=l.ml)||void 0===n?void 0:n.enabled)&&void 0!==t?t:"-",color:["blue","aquamarine"]},{title:"Disabled",value:null!==(r=null===l||void 0===l||null===(o=l.ml)||void 0===o?void 0:o.disabled)&&void 0!==r?r:"-",color:["yellow","yellow100"]},{title:"Not Capable",value:null!==(a=null===l||void 0===l||null===(i=l.ml)||void 0===i?void 0:i.notCapable)&&void 0!==a?a:"-",color:"placeholder"}],hasData:!!l&&!l.error,updatedAt:null===l||void 0===l?void 0:l.updatedAt}}},nodesByMachine:{props:{title:"Nodes over type of machine/technology",description:"Breakdown of the machines/technology where Netdata is running on",basis:"550px",flex:{grow:"5",shrink:"0"},testId:"nodesByMachine"},Component:re,selector:function(e){var t,n,r,o,a,i,l,c,d,s,u,m=e.nodes;return{data:{vm:null!==(t=null===m||void 0===m?void 0:m.vmTechnology)&&void 0!==t?t:{},docker:null!==(n=null===m||void 0===m?void 0:m.containerRuntime)&&void 0!==n?n:{},chartData:[{title:"Bare Metal",value:null!==(r=null===m||void 0===m||null===(o=m.type)||void 0===o?void 0:o.bareMetal)&&void 0!==r?r:"-",color:["blue","indigo"]},{title:"VM",value:null!==(a=null===m||void 0===m||null===(i=m.type)||void 0===i?void 0:i.virtualMachine)&&void 0!==a?a:"-",color:["blue","cyan"]},{title:"Container",value:null!==(l=null===m||void 0===m||null===(c=m.type)||void 0===c?void 0:c.container)&&void 0!==l?l:"-",color:["purple","lilac"]}].concat((0,h.Z)(null!==m&&void 0!==m&&null!==(d=m.type)&&void 0!==d&&d.unknown?[{title:"Unknown",value:null!==(s=null===m||void 0===m||null===(u=m.type)||void 0===u?void 0:u.unknown)&&void 0!==s?s:"-",color:"placeholder"}]:[])),hasData:!!m&&!m.error},updatedAt:null===m||void 0===m?void 0:m.updatedAt}}},nodesByDataReplication:{props:{title:"Nodes by data replication",description:c.createElement(c.Fragment,null,"Summary of your"," ",c.createElement(v.Z,{Component:d.TextMicro,href:"https://learn.netdata.cloud/docs/metrics-storage-management/enable-streaming",target:"_blank",onClick:pe.dataReplication},"streaming and replication")," ","status across your nodes"),basis:"calc(100%/6)",flex:{grow:"1",shrink:"0"},minWidth:"250px",testId:"nodesByDataReplication"},Component:fe,selector:function(e){var t=e.nodes;return t&&!t.error?{parentChild:{parent:t.parent,child:t.child},replication:t.replicationFactor,updatedAt:t.updatedAt}:{parentChild:{},replication:{}}}},nodesByOS:{props:{title:"Nodes by O/S version",description:"Breakdown of the nodes in regards to the O/S version they are running",basis:"430px",flex:{grow:"5",shrink:"0"},schemaKey:"OSTableSchema",dataGa:"node-os-version",testId:"nodesByOS"},Component:V,selector:function(e){var t=e.nodes;return t&&!t.error?{data:t.osVersion,updatedAt:t.updatedAt}:{data:{}}}},nodesByAgentVersion:{props:{title:"Nodes by Agent version",description:"Breakdown of the nodes in regards to the Agent version running on them",basis:"430px",flex:{grow:"5",shrink:"0"},schemaKey:"agentTableSchema",dataGa:"node-agent-version",testId:"nodesByAgentVersion"},Component:V,selector:function(e){var t=e.nodes;return t&&!t.error?{data:t.agentVersion,updatedAt:t.updatedAt}:{data:{}}}},activeAlerts:{props:{title:"Active Alerts",description:"Breakdown of the active alerts by status across all live nodes",basis:"calc(100%/6)",flex:{grow:"0",shrink:"0"},testId:"activeAlerts"},Component:ee,selector:function(e){var t=e.alarms;return t&&!t.error?{chartData:[{title:"Critical",value:t.critical,color:"errorText",onClick:function(){return n("critical")}},{title:"Warning",value:t.warning,color:"warningText",onClick:function(){return n("warning")}}],label:t.critical+t.warning,hasData:!!t&&!t.error&&t.critical+t.warning,updatedAt:t.updatedAt}:{chartData:[{title:"Critical",value:"-",color:"errorText",onClick:function(){return n("critical")}},{title:"Warning",value:"-",color:"warningText",onClick:function(){return n("warning")}}],hasData:!!t&&!t.error}}},usersByRole:{props:{title:"Users by role",description:"Breakdown of the users by their role",basis:"calc(100%/6)",flex:{grow:"0",shrink:"0"},onClick:function(){return o()},testId:"usersByRole"},Component:ee,selector:function(e){var t=e.spaceroom;return t&&!t.error?{chartData:[{title:"admin",value:t.admin,color:["green","green140"]},{title:"user",value:t.user,color:["purple","lilac"]}],label:t.admin+t.user,hasData:!!t&&!t.error,updatedAt:t.updatedAt}:{chartData:[{title:"admin",value:"-",color:["green","green140"]},{title:"user",value:"-",color:["purple","lilac"]}],hasData:!!t&&!t.error}}},totalDashboards:{props:{title:"Total Dashboards",description:"Number of the currently available custom dashboards in room",basis:"calc(100%/6)",flex:{grow:"0",shrink:"0"},testId:"totalDashboards"},Component:K,selector:function(e){var t=e.dashboards;return t&&!t.error?{count:t.dashboards,data:t.lastUpdated,updatedAt:t.updatedAt}:{count:"-",data:[]}}}}},he=function(e){var t=e.title,n=e.description,r=e.tooltip;return c.createElement(d.Flex,{column:!0,margin:[4,4,3],height:{min:12}},c.createElement(d.Flex,{gap:1,alignItems:"center"},c.createElement(d.Text,{color:"text","data-testid":"metrics-header-title"},t),r&&c.createElement(oe.Z,{isBasic:!0,plain:!0,content:r,align:"bottom"},c.createElement(d.Icon,{name:"information",color:"textDescription",size:"small"}))),c.createElement(d.TextMicro,{color:"textDescription","data-testid":"metrics-header-description"},n))},ve=(0,c.memo)(he),be=n(58504),ye=n(20709),Ee=function(e){var t=e.updatedAt,n=(0,c.useState)(),r=(0,i.Z)(n,2)[1],o=function(e){if(!e)return"";var t=new Date(e);return t.getTime()?(0,ye.Z)(t,new Date):""}(t);return(0,be.Z)((function(){return r(Math.random())}),6e4),c.createElement(d.Flex,{justifyContent:"end",margin:[2,4]},c.createElement(d.TextFemto,{color:"textLite","data-testid":"metrics-footer-last-updated"},"Last updated: ",o||"-"))},we=n(96104),xe=n(96929),Oe=n(36560),ke=n(63346),Ce=["basis","title","flex","description","tooltip","minWidth","onClick","testId"];function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e,t){var n=(0,p.th)(),r=(0,m.UL)(),o=(0,we.fX)({extraKey:"home",merge:!1,scoped:!0});(0,s.Z)((function(){return{enabled:!!(n&&r&&o.length&&null!==e&&void 0!==e&&e.length),fetch:function(){return(0,f.mP)(n,r,e,o)},onReceive:function(e){var n=e.data;return t((function(e){var t=Ie(Ie(Ie({},e),n),{},{charts:Ie(Ie({},e.charts),n.charts)});return function(e,t){return e===t||!Object.keys(e).some((function(n){return!(0,u.ZP)(e[n],t[n],{omit:["updatedAt","latency"]})}))}(t,e)?e:t}))},onFail:function(t){return e.reduce((function(e,n){var r=n.name;return Ie(Ie({},e),{},(0,l.Z)({},r,{error:t}))}),{})},pollingOptions:{pollingInterval:588e3}}}),[n,r,o,e])},Se=[{name:"charts",projections:"points"}],Ne=[{name:"charts",projections:"retention"}],Pe=[{name:"charts",projections:"metrics"}],De=[{name:"nodes"},{name:"spaceroom"},{name:"alarms"},{name:"dashboards"}],Te=function(){var e=(0,c.useState)({}),t=(0,i.Z)(e,2),n=t[0],r=t[1];je(Se,r),je(Ne,r),je(Pe,r),je(De,r);var l=(0,xe.zN)(),s=(0,xe.fD)(),u=ge();return s?s&&!l.length?c.createElement(ke.ZP,{feature:"Home",mode:"NoNodesView"},c.createElement(Oe.Z,null)):c.createElement(ke.ZP,{feature:"Home"},c.createElement(d.Flex,{flexWrap:!0,overflow:"auto",padding:[0,0,4,4],"data-testid":"roomHome-layout-container"},Object.keys(u).map((function(e){var t=u[e],r=t.props,i=r.basis,l=r.title,s=r.flex,m=r.description,f=r.tooltip,p=r.minWidth,g=void 0===p?"250px":p,h=r.onClick,v=void 0===h?null:h,b=r.testId,y=(0,a.Z)(r,Ce),E=t.Component,w=(0,t.selector)(n);return c.createElement(d.Flex,{key:e,column:!0,basis:i,flex:s,height:"280px",width:{min:g},margin:[4,4,0,0],background:"panelBg",justifyContent:"between",round:!0,"data-testid":"metrics-container-".concat(b),onClick:v,cursor:v?"pointer":"auto"},c.createElement(ve,(0,o.Z)({title:l,description:m,tooltip:f},w)),c.createElement(E,(0,o.Z)({testId:e},y,w)),c.createElement(Ee,w))})))):c.createElement(g.Z,{title:"Loading room stats..."})}},37497:function(e,t,n){n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(15861),a=n(64687),i=n.n(a),l=n(4480),c=n(67294),d=n(37518),s=n(25819);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(0,l._8)((function(n){var r=n.snapshot,a=n.set;return(0,o.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getPromise((0,d.n2)({id:t,key:"fullyLoaded"}));case 2:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:(0,s.fv)(e,t).then((function(t){var n=t.data;return a((0,d.ZB)(n.id),m(m({},n),{},{spaceId:e,fullyLoaded:!0,loaded:!0}))}));case 6:case"end":return n.stop()}}),n)})))}),[e,t]);(0,c.useEffect)((function(){e&&t&&n()}),[e,t])}},60464:function(e,t,n){var r=n(93433),o=n(4942),a=(n(21249),n(57640),n(9924),n(41539),n(15581),n(2490),n(34514),n(54747),n(85827),n(25387),n(72608),n(92222),n(47941),n(82526),n(57327),n(88449),n(59849),n(38880),n(49337),n(33321),n(69070),n(4480)),i=n(18997),l=n(12008),c=n(48450),d=n(77796),s=n(99322),u=n(16634);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).polling,o=void 0===n||n,m=(0,a._8)((function(e){var n=e.set;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,o=void 0===e?[]:e;n((0,s.e)({id:t,key:"ids"}),o.map((function(e){return e.id}))),n((0,s.e)({id:t,key:"loaded"}),!0),n((0,s.e)({id:t,key:"updatedAt"}),(new Date).toISOString()),n((0,s.e)({id:t,key:"error"}),null),o.forEach((function(e){n((0,l.fp)({id:e.id}),(function(t){return f(f({},t),{},{loaded:!0},e)}))}));var a=o.reduce((function(e,t){var n=t.id,o=t.nodeId;return e[o]=[].concat((0,r.Z)(e[o]||[]),[n]),e}),{});n(d.in,a)}}),[e,t]),p=(0,a._8)((function(e){var n=e.set;return function(e){n((0,s.e)({id:t,key:"error"}),(0,u.Z)(e))}}));(0,i.Z)((function(){return{enabled:!!e&&!!t,polling:o,fetch:function(){return(0,c.sr)(e,t)},onFail:p,onReceive:m,force:!0}}),[e,t])}},40970:function(e,t,n){n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(29439),a=(n(47941),n(92222),n(67294)),i=n(39915),l=n(68035),c=n(65565),d=n(84147),s=n(4822),u=n(25819),m=n(42448);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.spaceId,f=n.autorun,g=void 0!==f&&f,h=(0,a.useState)(null),v=(0,o.Z)(h,2),b=v[0],y=v[1],E=(0,s.by)(),w=E.after,x=E.before,O=(0,a.useRef)();O.current={after:w<0?w:Math.floor(w/1e3),before:w<0?0:Math.ceil(x/1e3)};var k=function(e){if(e&&null!==e&&void 0!==e&&e.response){var t=e.response.data.errorMsgKey;y(t)}else y(e)},C=(0,a.useMemo)((function(){return(0,m.V)(b)?5e3:65e3}),[b]),Z=(0,a.useRef)(),I=(0,d.w4)(e,!0),j=function(e){var t=e.results,n=e.versions;I((function(e){return p(p({},e),n)})),y((!t||!Object.keys(t).length)&&"No data for this period")},S=(0,d.qU)(e).contextsHardHash,N=(0,i.Z)(S,!0);return(0,c.Z)((function(){I((function(e){return p(p({},e),{},{contextsHardHash:"invalidating"})}))}),[t]),(0,l.Z)((function(){return{cache:!1,key:"spaces.".concat(r,".rooms.").concat(e,".charts"),polling:!1,autorun:g||Boolean(r&&e),fetch:function(){return(0,u.Mn)(r,e,t,p({},O.current))},association:{getIds:function(){return(0,d.dA)({roomId:e,merge:Z.current===t})},getError:function(){return(0,d.W2)({id:e,key:"error"})},getLoaded:function(){return(0,d.W2)({id:e,key:"loaded"})},getUpdatedAt:function(){return(0,d.W2)({id:e,key:"updatedAt"})}},getResource:function(t){return(0,d.PP)({id:e,key:t})},getResourcesInitializer:function(){var n=(0,d.Q7)({id:e,merge:Z.current===t,nodeIds:t});return Z.current=t,n},getResourceInitialState:function(e){return p({fullyLoaded:!0},e)},onFail:k,pollingOptions:{pollingInterval:C},onReceive:j,after:w,nodeIds:t,force:!0,skip:!N&&!!S||"invalidating"===N&&!!S}}),[r,e,C,S,w,x]),b}},29748:function(e,t,n){var r=n(4942),o=(n(2707),n(41539),n(15581),n(2490),n(34514),n(54747),n(21249),n(57640),n(9924),n(47941),n(82526),n(57327),n(88449),n(59849),n(38880),n(49337),n(33321),n(69070),n(4480)),a=n(47133),i=n(18997),l=n(74059),c=n(37518),d=n(25819),s=n(5934);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,l.th)(),t=(0,c.UL)(),n=(0,o._8)((function(e){var n=e.set;return function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=(void 0===e?{}:e).results;if(n((0,s.oq)({id:t,key:"loaded"}),!0),null!==r&&void 0!==r&&r.length){var o=r.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})}));o.forEach((function(e){return n((0,a.lz)(e.id),(function(t){return m(m({},t),{},{loaded:!0},e)}))}));var i=o.map((function(e){return e.id}));n((0,s.oq)({id:t,key:"ids"}),i)}}}));(0,i.Z)((function(){return{enabled:!!e&&!!t,fetch:function(){return(0,d.j2)(e,t)},onReceive:n}}),[e,t])}},39904:function(e,t,n){n(92222);var r=n(68035),o=n(274),a=n(34912),i=n(44197),l=n(1229),c=n(33335);t.Z=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).polling,d=void 0===n||n,s=(0,c.gI)("room:ReadUsers");(0,r.Z)((function(){return{key:"spaces.".concat(e,".rooms.").concat(t,".members"),autorun:!!e&&!!t&&s,fetch:function(){return(0,o.fQ)(e,t)},polling:d,association:{getError:function(){return(0,l.Ci)({id:t,key:"error"})},getIds:function(){return(0,l.Ci)({id:t,key:"ids"})},getLoaded:function(){return(0,l.Ci)({id:t,key:"loaded"})},getUpdatedAt:function(){return(0,l.Ci)({id:t,key:"updatedAt"})}},sort:function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})},getResource:function(e){return(0,a.mX)({id:e})},getResourcesInitializer:function(){return a.Bb},getResourceInitialState:function(){return i.E},pollingOptions:{pollingInterval:18e4}}}),[e,t])}},63920:function(e,t,n){var r=n(29439),o=(n(41539),n(88674),n(17727),n(67294)),a=n(50308),i=n.n(a),l=n(10340),c=n(46715),d=n(93017),s=n(39979),u=n(87267),m=n(63346),f=n(46667),p=(0,s.Z)(l.Button);t.Z=function(e){var t=e.onDecline,n=void 0===t?i():t,a=e.onCancellingEnd,s=void 0===a?i():a,g=(0,c.Zn)(),h=(0,d.Z)(),v=(0,r.Z)(h,2),b=v[0],y=v[1],E=(0,c.Gl)().value,w=(0,o.useMemo)((function(){var e;return null===(e=((null===E||void 0===E?void 0:E.free)||[])[0])||void 0===e?void 0:e.id}),[E]),x=(0,u.Z)(),O=x.sendLog,k=x.isReady,C=(0,f.Z)(),Z=(0,r.Z)(C,4),I=Z[0],j=Z[2],S=Z[3],N=(0,o.useCallback)((function(){j(),g({productId:w}).then((function(){b({header:"Successfully canceled subscription",text:"You are now on Community plan"}),O({feature:"TrialOptOut",isSuccess:!0})})).catch((function(){y({header:"Failed to cancel the subscription",text:"Remained on Business plan"}),O({feature:"TrialOptOut",isFailure:!0,error:"Failed to cancel the subscription"})})).finally((function(){s(),S()}))}),[w,k]);return o.createElement(l.Modal,{backdropProps:{backdropBlur:!0}},o.createElement(m.ZP,{feature:"TrialOptOut"},o.createElement(l.ModalContent,{width:{base:140}},o.createElement(l.ModalHeader,null,o.createElement(l.Flex,{gap:2,alignItems:"center"},o.createElement(l.H4,null,"Go to Community plan"))),o.createElement(l.ModalBody,null,I?o.createElement(l.Flex,{height:"100px"},o.createElement(l.TextBig,null,"Changing billing plan...")):o.createElement(l.Flex,{gap:2,column:!0},o.createElement(l.H3,null,"Are You Sure?"),o.createElement(l.TextBig,null,"It looks like you've chosen to opt-out of your 30-day business trial. We want to make sure you're making the decision that's right for you."),o.createElement(l.TextBig,null,"By opting out, you'll switch to our community plan immediately."))),o.createElement(l.ModalFooter,null,o.createElement(l.Flex,{justifyContent:"end",gap:4,padding:[1,2]},o.createElement(p,{feature:"TrialOptOut",label:"Yes, I am sure!",flavour:"hollow",small:!0,onClick:N,disabled:!w||I}),o.createElement(p,{feature:"TrialOptOut",label:"No, I want the trial!",small:!0,onClick:n,disabled:I}))))))}},14256:function(e,t,n){n.d(t,{Z:function(){return E}});var r=n(29439),o=n(67294),a=n(10340),i=n(71893),l=i.default.ul.withConfig({displayName:"styled__StyledList",componentId:"sc-dat9w0-0"})(["list-style:disc outside none;margin-left:16px;"]),c=(0,i.default)(a.ModalContent).attrs((function(e){return{width:e.isMobile?{base:"95vw"}:{}}})).withConfig({displayName:"styled__TrialWelcomeModalContent",componentId:"sc-dat9w0-1"})([""]),d=n(63920),s=n(50308),u=n.n(s),m=n(18827),f=function(e){var t=e.onOptOutClick,n=void 0===t?u():t;return o.createElement(a.Flex,{column:!0,gap:4},o.createElement(a.Flex,{column:!0,gap:2},o.createElement(a.TextBigger,null,"What to expect?"),o.createElement(l,null,o.createElement("li",null,"Waved off 5 connected node limitation, add all your infrastructure without concerns"),o.createElement("li",null,'Multiple users allowed including having user roles like "Troubleshooter", "Manager", "Observer" and "Billing"'),o.createElement("li",null,"Unlimited Custom Dashboards, set free your imagination without limits!"),o.createElement("li",null,"Up-to 90 days of alert history and topology events. Never miss an important event while troubleshooting."),o.createElement("li",null,"Business level alert notification integrations available (Slack, PagerDuty and more)."))),o.createElement(m.Z,{onOptOutClick:n}))},p=n(46667),g=n(39979),h=n(63346),v=n(22648),b=n(91726),y=(0,g.Z)(a.Button),E=function(){var e=(0,v.m)(),t=(0,p.Z)(!0),n=(0,r.Z)(t,4),i=n[0],l=n[3],s=(0,p.Z)(),u=(0,r.Z)(s,4),m=u[0],g=u[2],E=u[3];return m?o.createElement(d.Z,{onDecline:E,onCancellingEnd:function(){localStorage.setItem(b.Bk,!0),E(),l()}}):i?o.createElement(a.Modal,{backdropProps:{backdropBlur:!0}},o.createElement(h.ZP,{feature:"TrialWelcome"},o.createElement(c,{isMobile:e},o.createElement(a.ModalHeader,null,o.createElement(a.Flex,{gap:2,alignItems:"center"},o.createElement(a.Icon,{name:"netdataPress",color:"text"}),o.createElement(a.H4,null,"Welcome to Netdata!"))),o.createElement(a.ModalBody,null,o.createElement(a.Flex,{column:!0,gap:4},o.createElement(a.H3,null,"You've just unlocked a 30-day free Business trial!"),o.createElement(f,{onOptOutClick:g}))),o.createElement(a.ModalFooter,null,o.createElement(a.Flex,{justifyContent:"end",padding:[1,2]},o.createElement(y,{feature:"TrialWelcome",label:"Get started!",onClick:function(){l(),localStorage.setItem(b.Bk,!0)}})))))):null}},18827:function(e,t,n){var r=n(45987),o=n(67294),a=n(50308),i=n.n(a),l=n(10340),c=n(87267),d=["onOptOutClick"];t.Z=function(e){var t=e.onOptOutClick,n=void 0===t?i():t,a=(0,r.Z)(e,d),s=(0,c.Z)(),u=s.sendLog,m=s.isReady,f=(0,o.useCallback)((function(){n(),u({feature:"TrialOptOut",isStart:!0})}),[m]);return o.createElement(l.Text,a,"Not interested in the trial? No worries!"," ",o.createElement(l.Box,{"data-testid":"upgrade-to-business-banner",onClick:f,as:l.Text,cursor:"pointer",textDecoration:"underline",color:"primary"},"You can opt-out and continue with our community plan"),".")}},29516:function(e,t,n){var r=n(18997),o=n(4480),a=n(48450),i=n(45781),l=n(95383),c=n(33335);t.Z=function(e){var t=(0,o._8)((function(t){var n=t.set;return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data.results;n((0,i.e)({id:e}),t)}})),n=(0,o._8)((function(t){var n=t.set;return function(t){return n((0,i.e)({id:e,key:"error"}),t)}})),d=(0,l.y3)(e,"loaded"),s=(0,c.gI)("alert:ReadAll");(0,r.Z)((function(){return{enabled:s&&!!e&&d,fetch:function(){return(0,a.Kp)(e)},onFail:n,onReceive:t,pollingOptions:{pollingInterval:15e4}}}),[e,!!d])}},29983:function(e,t,n){var r=n(4480),o=n(68035),a=n(274),i=n(34912),l=n(94666),c=n(1229),d=n(33335);t.Z=function(e){var t=(0,r._8)((function(t){var n=t.set;return function(t){var r=t.results;return n((0,l.J9)(e),r)}})),n=(0,d.gI)("user:ReadAll");(0,o.Z)((function(){return{key:"spaces.".concat(e,".members"),autorun:!!e&&n,fetch:function(){return(0,a.Q5)(e)},association:{getError:function(){return(0,c.Ci)({id:e,key:"error"})},getIds:function(){return(0,l.WA)({id:e,key:"ids"})},getLoaded:function(){return(0,l.WA)({id:e,key:"loaded"})},getUpdatedAt:function(){return(0,l.WA)({id:e,key:"updatedAt"})}},sort:function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"accent",ignorePunctuation:!0})},getResource:function(e){return(0,i.mX)({id:e})},getResourcesInitializer:function(){return i.Bb},onReceive:t,pollingOptions:{pollingInterval:315e3}}}),[e])}},69063:function(e,t,n){n(92222),n(74916),n(77601);var r=n(67294),o=n(89250),a=n(9058),i=n(24298),l=n(74059),c=n(37518);t.Z=function(){var e=(0,a.e)(),t=function(){var e=(0,l.uk)(),t=(0,c.vf)();return"/spaces/".concat(e,"/rooms/").concat(t,"/overview")}(),n=(0,o.s0)();(0,r.useEffect)((function(){if(e)return(0,i.unregister)(e.on("goToLink",(function(e,r){var o,a=location.pathname;return e&&e.getParent().getAttribute("roomId")&&(a=e.getParent().getId(),a=/^\/spaces/.test(a)?a:t),n(a,r?{state:{chartName:r},replace:!0}:{state:{contextToGo:null===e||void 0===e||null===(o=e.getAttribute("contextScope"))||void 0===o?void 0:o[0]},replace:!0})})))}),[e,t])}},9449:function(e,t,n){var r=n(67294),o=n(44682);t.Z=function(e){var t=(0,r.useRef)();return(0,o.Sz)(e,(function(e){return t.current=e,!1})),t}},24281:function(e,t,n){var r=n(29439),o=n(67294),a={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};t.Z=function(){var e=(0,o.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1],l=(0,o.useState)(a),c=(0,r.Z)(l,2),d=c[0],s=c[1],u=(0,o.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,o=t.width,a=t.height,i=t.top,l=t.left,c=t.bottom,d=t.right;s({x:n,y:r,width:o,height:a,top:i,left:l,bottom:c,right:d})}}))}),[]);return(0,o.useLayoutEffect)((function(){if(n)return u.observe(n),function(){u.disconnect()}}),[n]),[i,d]}},18997:function(e,t,n){var r=n(29439),o=(n(41539),n(88674),n(17727),n(67294)),a=n(50308),i=n.n(a),l=n(9058),c=n(46189),d=n(29283),s=n(13477);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,l.e)(),a=(0,o.useMemo)((function(){return n?n.getRoot():null}),[n]),u=(0,o.useMemo)(e,t),m=(0,o.useRef)(!0),f=(0,o.useRef)({timeoutId:null,promise:null}),p=(0,d.Z)(),g=(0,r.Z)(p,2)[1],h=(0,o.useCallback)((function(e){m.current=!1;var t=u.fetch,n=u.onStart,r=void 0===n?i():n,o=u.onFail,l=void 0===o?i():o,d=u.onPollingFail,s=void 0===d?i():d,p=u.onReceive,h=void 0===p?i():p,v=u.onSettle,b=void 0===v?i():v,y=u.onBlurMode,E=void 0===y?i():y,w=u.polling,x=void 0===w||w,O=u.pollingOptions;r(e),f.current={timeoutId:null,promise:null};var k=function(){return f.current.promise=t(e),f.current.promise.then(h).catch((function(e){if(!e.isCancel)throw e})),f.current.promise},C=function e(){f.current.timeoutId=setTimeout((function(){if(null!==O&&void 0!==O&&O.shouldPause&&a&&(a.getAttribute("hovering")||a.getAttribute("paused"))||!g.current&&(!a||!a.getAttribute("autofetchOnWindowBlur")))return E(),e();k().then((function(){return!m.current&&x&&e()})).catch((function(t){t.isCancel||s(t),!m.current&&!t.isCancel&&x&&e()}))}),(null===O||void 0===O?void 0:O.pollingInterval)||c.Z.pollingInterval)};return k().then((function(){return!m.current&&x&&C()})).catch((function(e){e.isCancel||l(e),m.current||!x||e.isCancel||C()})).finally(b),function(){var e,t;m.current=!0,null===(e=f.current.promise)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e),clearTimeout(f.current.timeoutId)}}),t),v=(0,s.Iy)("isAnonymous");return(0,o.useEffect)((function(){var e=u.enabled,t=void 0===e||e,n=u.force,r=void 0!==n&&n,o=u.skip;if((!v||r)&&!(void 0!==o&&o))return t?h():void 0}),[v,h]),h.clearRef=f,h}},3975:function(e,t,n){n.d(t,{QF:function(){return c},vq:function(){return d}});var r=n(67294),o=n(89250),a=n(37518),i=n(74059),l=function(e,t,n){var o=t();(0,r.useLayoutEffect)((function(){o!==e&&n(e)}),[o,e])},c=function(){var e=(0,o.UO)().roomSlug,t=(0,a.TF)();return l(e,a.vf,t),e},d=function(){var e=(0,o.UO)().spaceSlug,t=(0,i.$v)();return l(e,i.uk,t),e};t.ZP=function(){return[d(),c()]}}}]);