!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ba05e87b-e78a-41df-9d34-e50d261d8b1d",e._sentryDebugIdIdentifier="sentry-dbid-ba05e87b-e78a-41df-9d34-e50d261d8b1d")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"833aaee1cc06f5081274f22d18347a1cce30fb04"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[5746],{35746:function(e,t,n){n.r(t);var a=n(29439),r=(n(91058),n(67294)),o=n(23855),i=n(12274),l=n(33913),u=n(29422),s=n(23677),d=n(49546),c=n(26398),f=n(4480),m=n(13655),p=n(45916),g=n(91008),b=n(46667),D=(0,f.nZ)({key:"fetchLicense",get:function(){return c.Z.get("/api/v1/license").then((function(e){return e.data})).catch((function(){return null}))}}),h=(0,f.cn)({key:"licenseAtom",default:D});t.default=function(){if(!window.envSettings.onprem)return null;var e=(0,f.$P)(h),t=(0,b.Z)(),n=(0,a.Z)(t,2),c=n[0],D=n[1],w=(0,r.useState)(),v=(0,a.Z)(w,2),Z=v[0],y=v[1],x=(0,r.useState)(!1),E=(0,a.Z)(x,2),I=E[0],S=E[1];return(0,r.useEffect)((function(){if("hasValue"===e.state){var t=e.contents,n=(0,o.default)(t.exp);if(y(n),(0,i.default)(n)){var a=parseInt((n-new Date)/1e3/60/60/24);if(!(a>30)){var r=localStorage.getItem("dismissLicenceWarning");r&&(0,i.default)((0,o.default)(r))&&!(0,l.Z)((0,o.default)(r))&&a>0||(D(!0),a<0&&S(!0))}}}}),[e]),c?I?r.createElement(m.Layer,{full:!0,backdropProps:{backdropBlur:"3px"}},r.createElement(p.Z,{testId:"onprem-banner",width:"100%",background:"errorBackground",position:"absolute",top:"0",tooltipProps:{align:"top"},zIndex:20},r.createElement(m.Flex,{justifyContent:"center",alignItems:"center",width:"100%",gap:2},r.createElement(m.Text,null,"Your Netdata Enterprise On-prem License has expired on ",(0,d.default)(Z,"PPPP"),". Please contact your admin /"," ",r.createElement(g.Z,{"data-testid":"renew",href:"mailto:billing@netdata.cloud",as:"a",cursor:"pointer",textDecoration:"underline",color:"main"},"billing@netdata.cloud")," ","to renew your license.")))):r.createElement(p.Z,{testId:"onprem-banner",width:"100%",background:"warningBackground",position:"absolute",top:"0",onClose:function(){D(),localStorage.setItem("dismissLicenceWarning",(0,u.Z)(new Date,{days:1}).toISOString())},tooltipProps:{align:"top"},zIndex:20},r.createElement(m.Flex,{justifyContent:"center",alignItems:"center",width:"100%",gap:2},r.createElement(m.Text,null,"Your Netdata Enterprise On-prem License will expire in ",(0,s.Z)(Z),". Please contact your admin /"," ",r.createElement(g.Z,{"data-testid":"renew",href:"mailto:billing@netdata.cloud",as:"a",cursor:"pointer",textDecoration:"underline",color:"main"},"billing@netdata.cloud")," ","to renew your license."))):null}},23677:function(e,t,n){n.d(t,{Z:function(){return D}});var a=n(84314),r=n(49474),o=n(50157),i=n(11699),l=n(8958),u=n(19013),s=n(82268),d=n(52149),c=n(24262),f=n(13882),m=1440,p=2520,g=43200,b=86400;function D(e,t){return(0,f.Z)(1,arguments),function(e,t,n){var D,h;(0,f.Z)(2,arguments);var w=(0,a.j)(),v=null!==(D=null!==(h=null===n||void 0===n?void 0:n.locale)&&void 0!==h?h:w.locale)&&void 0!==D?D:l.Z;if(!v.formatDistance)throw new RangeError("locale must contain formatDistance property");var Z=(0,r.Z)(e,t);if(isNaN(Z))throw new RangeError("Invalid time value");var y,x,E=(0,d.Z)((0,s.Z)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:Z});Z>0?(y=(0,u.default)(t),x=(0,u.default)(e)):(y=(0,u.default)(e),x=(0,u.default)(t));var I,S=(0,i.Z)(x,y),M=((0,c.Z)(x)-(0,c.Z)(y))/1e3,k=Math.round((S-M)/60);if(k<2)return null!==n&&void 0!==n&&n.includeSeconds?S<5?v.formatDistance("lessThanXSeconds",5,E):S<10?v.formatDistance("lessThanXSeconds",10,E):S<20?v.formatDistance("lessThanXSeconds",20,E):S<40?v.formatDistance("halfAMinute",0,E):S<60?v.formatDistance("lessThanXMinutes",1,E):v.formatDistance("xMinutes",1,E):0===k?v.formatDistance("lessThanXMinutes",1,E):v.formatDistance("xMinutes",k,E);if(k<45)return v.formatDistance("xMinutes",k,E);if(k<90)return v.formatDistance("aboutXHours",1,E);if(k<m){var X=Math.round(k/60);return v.formatDistance("aboutXHours",X,E)}if(k<p)return v.formatDistance("xDays",1,E);if(k<g){var P=Math.round(k/m);return v.formatDistance("xDays",P,E)}if(k<b)return I=Math.round(k/g),v.formatDistance("aboutXMonths",I,E);if((I=(0,o.Z)(x,y))<12){var T=Math.round(k/g);return v.formatDistance("xMonths",T,E)}var _=I%12,L=Math.floor(I/12);return _<3?v.formatDistance("aboutXYears",L,E):_<9?v.formatDistance("overXYears",L,E):v.formatDistance("almostXYears",L+1,E)}(e,Date.now(),t)}},33913:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(19013),r=n(13882);function o(e){return(0,r.Z)(1,arguments),(0,a.default)(e).getTime()<Date.now()}}}]);