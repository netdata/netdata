!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fcc18125-fa9c-4468-aabf-97dc42b62a52",e._sentryDebugIdIdentifier="sentry-dbid-fcc18125-fa9c-4468-aabf-97dc42b62a52")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"833aaee1cc06f5081274f22d18347a1cce30fb04"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[90],{16978:function(e,t,n){var a=n(87462),r=n(45987),o=n(67294),c=n(54576),l=n(70486),i=n(86954),s=n(20581),u=n(16374),d=n(1981),m=n(28138),g=n(18892),f=n(63076),p=n(65855),h=["width","height"],v=(0,o.forwardRef)((function(e,t){var n=e.width,c=e.height,l=(0,r.Z)(e,h);return o.createElement(i.ChartWrapper,{width:n,height:c},o.createElement(p.x1,(0,a.Z)({hasHeader:!1,hasFilters:!1,hasFooter:!1,width:n,height:c},l,{ref:t})))})),E=(0,l.default)(v,{tile:!0}),y={dygraph:p.ZP,easypiechart:m.ZP,gauge:u.ZP,number:g.ZP,groupBoxes:s.ZP,d3pie:d.default,bars:f.ZP},w=function(e){var t=(0,c.useChart)(),n=(0,o.useMemo)((function(){if(!t)return null;var e=t.getAttributes(),n=e.chartLibrary;return e.sparkline?E:y[n]}),[t]);return n?o.createElement(n,(0,a.Z)({},e,{chart:t})):null};t.Z=(0,c.withChartProvider)((0,o.memo)(w))},82210:function(e,t,n){var a=n(67294),r=n(71893),o=n(13655),c=n(5710),l=n(37503),i=(0,r.default)(o.Flex).withConfig({displayName:"restrictedContentMessage__StyledBox",componentId:"sc-wbsw81-0"})(["transform:translate(-50%,-50%);"]),s={node:"This node is locked so you can't see the Single Node dashboard.",alert:"This node is locked so you can't see the full alert details. ",dashboard:"This dashboard is locked so you can't see it."};t.Z=function(e){var t=e.flavour,n=void 0===t?"node":t;return a.createElement(i,{column:!0,width:"100%",gap:2,alignItems:"center",position:"absolute",top:"50%",left:"50%",padding:[4],round:2},a.createElement(o.TextBigger,null,s[n]||""),a.createElement(l.Z,null,a.createElement(o.TextBig,{color:"primary"},"Upgrade for no limitations!")),a.createElement(o.TextBig,null,"or"),a.createElement(c.Z,null,a.createElement(o.TextBig,{color:"primary"},"Change your active node selection to unlock it.")))}},54244:function(e,t,n){var a=n(67294),r=n(13655);t.Z=function(e){var t=e.flavour,n=e.icon,o=e.children;return a.createElement(r.Pill,{icon:n,textProps:{textTransform:"capitalize"},flavour:t},o)}},50709:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(29439),r=n(67294),o=n(13655),c=n(12008),l=(n(92222),n(74916),n(15306),n(26398)),i=n(91008),s=n(37518),u=n(12899),d=function(e){var t=e.alertId,n=(0,c.E5)(t),d=n.name,m=function(e){var t=(0,r.useState)(!0),n=(0,a.Z)(t,2),o=n[0],c=n[1],i="".concat("https://community.netdata.cloud/t","/").concat(null===e||void 0===e?void 0:e.replace(/[._]/g,"-"));return(0,r.useEffect)((function(){e&&l.Z.get(i).then((function(){return c(!1)})).catch((function(){return c(!0)}))}),[e]),[i,o]}(void 0===d?"unknown alert":d),g=(0,a.Z)(m,2),f=g[0],p=g[1],h=(0,s.UL)(),v=(0,u.R3)(),E=(0,a.Z)(v,2)[1],y=(0,r.useMemo)((function(){return{alignSelf:"start",onClick:function(){return E({roomId:h,alert:n})}}}),[f,p,E]);return r.createElement(i.Z,y,"Learn more about this alert",!p&&r.createElement(o.Icon,{name:"arrow_left",rotate:2,size:"small",margin:[0,0,-.75,1],color:"success"}))}},80854:function(e,t,n){var a=n(87462),r=n(45987),o=n(67294),c=n(13655),l=["iconName","iconSize","children"];t.Z=function(e){var t=e.iconName,n=e.iconSize,i=e.children,s=(0,r.Z)(e,l);return o.createElement(c.Flex,(0,a.Z)({gap:2,alignItems:"center"},s),o.createElement(c.Icon,(0,a.Z)({name:t,color:"textLite"},n&&{height:n,width:n})),o.createElement(c.Text,{strong:!0},i))}},29876:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(87462),r=n(45987),o=n(67294),c=n(13655),l=n(12008),i=(n(92222),n(89405)),s=n(50358),u=n(39840),d=function(e){var t=e.label,n=e.testid,a=e.status,r=e.value,l=e.when,d=e.units,m=(0,i.rA)(),g=m.localeTimeString,f=m.localeDateString,p=(0,o.useMemo)((function(){var e=new Date(1e3*l);return e&&"".concat(f(e,{long:!1})," ").concat(g(e,{secs:!0}))}),[l,f,g]),h=(0,u.pK)(r,d);return o.createElement(c.Flex,{gap:2,alignItems:"center"},o.createElement(c.Flex,{width:"100px"},o.createElement(c.TextSmall,null,t)),o.createElement(c.Flex,{gap:2,alignItems:"center"},o.createElement(c.TextSmall,{color:"text","data-testid":"".concat(n,"-dateTime")},p),o.createElement(s.Z,{loaded:!0,status:a,valueWithUnit:h,"data-testid":"".concat(n,"-value")})))},m=["alertId"],g=function(e){var t=e.alertId,n=(0,r.Z)(e,m),i=(0,l.E5)(t),s=i.fullyLoaded,u=void 0!==s&&s,g=i.units,f=i.lastStatusChangeValue,p=i.lastStatusChange,h=i.status,v=i.lastUpdated,E=i.value;i.prevStatus,i.prevValue,i.prevDuration;return u?o.createElement(c.Flex,(0,a.Z)({gap:2,column:!0,"data-testid":"alertValues"},n),v&&o.createElement(d,{label:"Latest",status:h,testid:"alertValues-latest",value:E,when:v,units:g}),p&&o.createElement(d,{label:"Triggered",status:h,testid:"alertValues-triggered",value:f,when:p,units:g})):null}},92253:function(e,t,n){var a=n(4942),r=(n(92222),n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),o=n(16978),c=n(50308),l=n.n(c),i=n(13655),s=n(91128),u=n(78266),d=n(74059),m=n(37518),g=n(9058),f=n(22648),p=n(39840);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return function(t){return"alert-modal::".concat(e.getAttribute("id"),"::").concat(t)}},y={width:"108px",height:"77px"};t.Z=function(e){var t=e.instance,n=e.context,a=e.isFormattedValueLoaded,c=e.nodeId,h=e.status,w=e.lastStatusChange,x=e.formattedLastStatusChangeValue,b=e.lastUpdated,S=e.spaceId,k=e.roomId,Z=e.setChartSelected,I=void 0===Z?l():Z,C=(0,d.th)();S=S||C;var T=(0,m.UL)();k=k||T;var N=(0,f.m)(),F=(0,g.e)(),_=(0,s.Z)();(0,r.useEffect)((function(){return _(),_}),[]);var D=(0,d.Q6)(),P=(0,r.useMemo)((function(){if(a){var e=F.makeChart({attributes:{nodeId:c,contextScope:[n],selectedInstances:t&&c?["".concat(t,"@").concat(c)]:[],id:t,roomId:k,enabledResetRange:!1,overlays:{proceeded:{type:"proceeded"},alarm:{type:"alarm",status:h,value:x,when:w}},host:D?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(S,"/rooms/").concat(k),nodesScope:[c],toolboxElements:[],sparkline:N,hasToolbox:!N},makeTrack:E});return F.getRoot().appendChild(e),e}}),[t,a]);return(0,p.Wi)({lastUpdated:b,lastStatusChange:w},a),(0,r.useEffect)((function(){return I((function(e){return v(v({},e),P)})),function(){P&&P.destroy(),I(null)}}),[P]),r.createElement(i.Flex,{flex:!1,width:"100%",height:75},a&&P?r.createElement(o.Z,{"data-chartid":t,chart:P,hasHeader:!N,hasFooter:!N}):r.createElement(u.Z,{iconProps:y,title:"Loading chart..."}))}},63860:function(e,t,n){var a=n(87462),r=n(45987),o=(n(74916),n(15306),n(67294)),c=n(71893),l=n(13655),i=n(39840),s=["rawTime","secs","long","nowrap"],u=c.default.div.withConfig({displayName:"timeCell__TimeBox",componentId:"sc-1k785pi-0"})(["display:flex;flex-direction:column;align-items:start;justify-content:center;"]);t.Z=function(e){var t=e.rawTime,n=e.secs,c=e.long,d=e.nowrap,m=void 0!==d&&d,g=(0,r.Z)(e,s),f=(0,i.e8)({rawTime:t,secs:n,long:c}),p=f.timeAgo,h=f.formattedDate,v=void 0===h?"":h;return o.createElement(u,g,o.createElement(l.TextSmall,null,p),o.createElement(l.TextMicro,(0,a.Z)({color:"textLite"},m&&{whiteSpace:"nowrap"}),v?null===v||void 0===v?void 0:v.replace(/ /g," - "):""))}},32071:function(e,t,n){n.d(t,{Z:function(){return O}});var a=n(67294),r=n(13655),o=n(12008),c=n(57387),l=n(71893),i=l.default.div.withConfig({displayName:"styled__StyledAlertTypeIndicator",componentId:"sc-19nk935-0"})(["width:",";height:",";border-radius:",";background-color:",";"],(0,r.getSizeBy)(1),(0,r.getSizeBy)(1),(0,r.getSizeBy)(1),(function(e){var t=e.critical,n=e.theme;return(0,r.getColor)(t?"error":["yellow","sunglow"])({theme:n})})),s=l.default.a.withConfig({displayName:"styled__StyledLink",componentId:"sc-19nk935-1"})(["padding:",";text-decoration:none;color:",";&:visited{color:",";}&:hover{text-decoration:none;}"],(function(e){var t=e.padding;return null!==t&&void 0!==t?t:"0"}),(0,r.getColor)("success"),(0,r.getColor)("success")),u=n(82351),d=function(e){var t=e.title,n=e.value,o=e.testId,l=e.status;return n?a.createElement(a.Fragment,null,a.createElement(r.Flex,{justifyContent:"between"},a.createElement(r.Flex,{gap:1,alignItems:"center"},a.createElement(i,{critical:"critical"===l}),a.createElement(r.H6,{color:"textDescription"},t)),a.createElement(r.Flex,{gap:1,alignItems:"center"},a.createElement(r.TextSmall,{color:"textDescription"},"More details about"," ",a.createElement(r.TextSmall,{strong:!0,color:"textDescription"},"$this")," ","command"),a.createElement(u.Z,{content:"The $this value comes from the DB Lookup or the Calculation above",isBasic:!0,plain:!0},a.createElement(r.Flex,{margin:[-.5,0,0]},a.createElement(r.Icon,{name:"informationPress",color:"textLite",width:"16px",height:"16px"}))))),a.createElement(c.ZP,{"data-testid":o},n)):null},m=(n(92222),n(91058),n(12195)),g=n(61973),f=n(33511),p=function(e){if("string"===typeof e&&(e=parseInt(e,10)),0===e)return"now";var t=new Date;return e<0?(0,m.Z)((0,g.Z)(t,e),t,{addSuffix:!0}):(0,m.Z)((0,f.Z)(t,e),t,{addSuffix:!0})},h=function(e){var t=(0,o.E5)(e),n=t.instance,r=t.lookupAfter,c=t.lookupBefore,l=t.lookupDimensions,i=t.lookupMethod,s=t.lookupOptions;return(0,a.useMemo)((function(){return r?function(e){var t=e.lookupOptions,n=e.lookupDimensions,a=e.lookupMethod,r=e.lookupAfter,o=e.lookupBefore,c=e.instance,l="of all values";if(n){var i=n.split(","),s=i.length>1?"of the sum of dimensions":"of all values of dimension";l="".concat(s," ").concat(i.join(", "))}var u=t?", with options ".concat(t):"";return"".concat(a," ").concat(l," of chart ").concat(c,", starting ").concat(p(r+o)," and up to ").concat(p(o)).concat(u)}({lookupOptions:s,lookupDimensions:l,lookupMethod:i,lookupAfter:r,lookupBefore:c,instance:n}):""}),[r,n])},v=n(80854),E=function(e){var t=e.heading,n=e.value,o=e.testId;return n&&n.length?a.createElement(r.Flex,{column:!0,gap:3},t&&a.createElement(r.H6,{textTransform:"uppercase",color:"textDescription"},t),a.createElement(c.ZP,{"data-testid":o},n)):null},y=(0,a.memo)(E),w=n(25935),x=n(87462),b=function(e){var t=e.iconName,n=e.category,o=e.iconSize,c=void 0===o?"16px":o,l=e.value,i=e.testid;return l?a.createElement(r.Flex,{alignItems:"center",gap:1},a.createElement(r.Flex,{alignItems:"center",gap:1,basis:"100px"},a.createElement(r.Icon,(0,x.Z)({name:t,color:"textLite"},c&&{height:c,width:c})),a.createElement(r.TextSmall,{whiteSpace:"nowrap",color:"textDescription"},n,":")),a.createElement(r.TextSmall,{strong:!0,"data-testid":i},l)):null},S=function(e){var t=e.id,n=e.testid,c=(0,o.E5)(t),l=c.calculation,s=c.warning,u=c.critical,m=c.updateEvery,g=h(t),f=(0,a.useMemo)((function(){return(0,w.ZP)(l)}),[l]);return a.createElement(r.Flex,{column:!0,gap:4},a.createElement(v.Z,{iconName:"code"},"Configuration"),a.createElement(y,{heading:"DB lookup",value:g,testId:"".concat(n,"-lookup")}),a.createElement(y,{heading:"Calculation",value:f,testId:"".concat(n,"-calculation")}),a.createElement(r.H6,{textTransform:"uppercase",color:"textDescription"},"Severity Conditions"),a.createElement(r.Flex,{column:!0,gap:2},a.createElement(d,{title:"Warning when",value:s,testId:"".concat(n,"-warningWhen"),status:"warning"},a.createElement(i,{critical:!1})),a.createElement(d,{title:"Critical when",value:u,testId:"".concat(n,"-criticalWhen"),status:"critical"},a.createElement(i,{critical:!0}))),a.createElement(r.H6,{textTransform:"uppercase",color:"textDescription"},"Check"),a.createElement(b,{iconName:"clock_hollow",category:"Check every",value:"".concat(m," seconds"),testid:"".concat(n,"-checkEvery")}))},k=(0,a.memo)(S),Z=n(97945),I=n(80239),C=n(45987),T=n(54244),N=n(63860),F=n(50358),_=["isHighlighted","lastStatusChangeValue","lastStatusChange","units","status","nodeName"],D=function(e){var t=e.isHighlighted,n=e.lastStatusChangeValue,o=e.lastStatusChange,c=e.units,l=e.status,i=e.nodeName,s=(0,C.Z)(e,_);return a.createElement(r.Flex,(0,x.Z)({background:t&&"modalTabsBackground",border:{side:"all",color:"borderSecondary"},color:"textDescription",justifyContent:"between",padding:[4],round:!0},s),a.createElement(r.Flex,{column:!0,justifyContent:"between",gap:2},i&&a.createElement(r.Text,{strong:!0},i),a.createElement(N.Z,{rawTime:o,secs:!0,"data-testid":"nodeItem-lastStatusChange"})),a.createElement(r.Flex,{height:5,gap:2,alignItems:"center",alignSelf:"start"},a.createElement(u.Z,{content:"Triggered value",align:"bottom"},a.createElement(r.Box,null,a.createElement(F.Z,{loaded:!0,status:l,units:c,value:n,"data-testid":"nodeItem-alertValue"}))),a.createElement(T.Z,{flavour:l,icon:"alarm_bell","data-testid":"alertView-alertPill-value"},l)))},P=function(e){var t=e.children;return a.createElement(r.Flex,{gap:2,column:!0},t)},O=function(e){var t=e.id,n=e.nodeName,c=e.testid,l=void 0===c?"alertDetailsModal":c,i=(0,o.E5)(t),u=i.class,d=i.instanceName,m=i.component,g=i.family,f=i.nodeId,p=i.type,h=i.lastStatusChangeValue,E=i.lastStatusChange,y=i.units,w=i.status,x=i.notificationType,S=(0,Z.iy)(f,"name");return a.createElement(r.Flex,{column:!0,gap:4},a.createElement(v.Z,{iconName:"information",margin:[0,0,0,-.5]},"Alert Info"),a.createElement(P,null,a.createElement(b,{iconName:"nodes_hollow",category:"Node",value:n||S,testid:"".concat(l,"-hostname")}),a.createElement(b,{iconName:"charts_view",category:"Instance",value:d,testid:"".concat(l,"-chartId")}),a.createElement(b,{iconName:"data_retention",category:"Type",value:p,testid:"".concat(l,"-type")}),a.createElement(b,{iconName:"last_week",category:"Hostname"}),a.createElement(b,{iconName:"metrics",category:"Component",value:m,testid:"".concat(l,"-component")}),a.createElement(b,{iconName:"applications_hollow",category:"Family",value:g,testid:"".concat(l,"-family")}),a.createElement(b,{iconName:"networkingStack",category:"Class",value:u,testid:"".concat(l,"-class")}),a.createElement(b,{iconName:"incident_manager",category:"Event ID",testid:"".concat(l,"-eventId")})),a.createElement(k,{id:t,testid:l}),a.createElement(v.Z,{iconName:"nodes_hollow",iconSize:"20px"},"Instance Values - Node Instances"),a.createElement(r.Flex,{column:!0,gap:2},"agent"!==x&&a.createElement(r.Text,{color:"textDescription"},"A node may be claimed through multiple instances on the cloud (streaming through parent) and Netdata aggregates the alerts from all the instances and displays a single Active alert based on the highest severity, latest change."),a.createElement(D,{lastStatusChangeValue:h,lastStatusChange:E,units:y,status:w,nodeName:S,isHighlighted:!0})),a.createElement(v.Z,{iconName:"gear",iconSize:"20px"},"Edit Alert"),a.createElement(r.Text,{"data-testid":"".concat(l,"-edit-info")},"If you wish to edit and configure this alert, please:"),a.createElement(s,{href:I.UV,target:"_blank",padding:"0 4px 0 0","data-testid":"".concat(l,"-editAlertConfig-link"),"data-ga":"alert-modal::click-edit::alerts-view"},"Visit the documentation",a.createElement(r.Icon,{name:"arrow_left",rotate:2,size:"small",margin:[0,0,-.75,1],color:"success"})))}},50358:function(e,t,n){var a=n(87462),r=n(45987),o=(n(92222),n(67294)),c=n(13655),l=n(45771),i=["loaded","status","units","value","valueWithUnit"],s={critical:{background:"errorSemi",border:{side:"all",color:"error"},color:"error"},warning:{background:"warningSemi",border:{side:"all",color:"warning"},color:"warning"},cleared:{background:"successSemi",border:{side:"all",color:"success"},color:"success"},default:{background:"generic",border:{side:"all",color:"border"},color:"text"}};t.Z=function(e){var t=e.loaded,n=e.status,u=e.units,d=e.value,m=e.valueWithUnit,g=(0,r.Z)(e,i),f=s[n]||s.default,p=f.background,h=f.border,v=f.color,E=(0,o.useMemo)((function(){if(m)return m;if(void 0===d)return"-";var e=(0,l.J)(d);return"".concat(e," ").concat(u||"-")}),[d,m,u]);return o.createElement(c.Flex,(0,a.Z)({background:p,border:h,padding:[.5,2],round:9,width:{min:10},justifyContent:"center"},g),o.createElement(c.TextSmall,{color:v,strong:!0,whiteSpace:"nowrap",truncate:!0},t?E:"-"))}},12899:function(e,t,n){n.d(t,{R3:function(){return d},Nu:function(){return m},UD:function(){return u}});var a=n(4480),r=n(26398),o=n(74059),c=n(37518),l=(0,a.cn)({key:"assistantAlert",default:null}),i=(0,a.cn)({key:"assistantAlertsAtom",default:[]}),s=(0,a.CG)({key:"assistantSelector",get:function(e){var t=e.space,n=e.room,a=e.alarm,o=e.node,c=e.chart;return function(){return function(e){var t=e.space,n=e.room,a=e.alarm,o=e.node,c=e.chart;return r.Z.post("/api/v1/troubleshoot",{space:t,room:n,alarm:a,node:o,chart:c})}({space:t,room:n,alarm:a,node:o||"dummy-node-id",chart:c||"dummy-chart-id"})}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),u=function(e){var t,n=e.alarm,r=e.node,l=e.chart,i=(0,o.th)(),u=(0,c.UL)(),d=(0,a.$P)(s({space:i,room:u,alarm:n,node:r,chart:l}));return{loaded:"loading"!==d.state,value:null===(t=d.contents)||void 0===t?void 0:t.data,hasError:"hasError"===d.state}},d=function(){return(0,a.FV)(l)},m=function(){return(0,a.FV)(i)}}}]);