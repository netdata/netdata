!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bb35c91e-e329-4d66-857e-0d9445eb8760",e._sentryDebugIdIdentifier="sentry-dbid-bb35c91e-e329-4d66-857e-0d9445eb8760")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"2cf38a68974d9b3eec7e06942a3de12160049f5f"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[6876],{51091:function(e,t,a){var n=a(87462),r=a(45987),l=(a(57327),a(41539),a(88449),a(2490),a(59849),a(21249),a(57640),a(9924),a(92222),a(71893)),i=a(10928),c=a.n(i),o=a(67294),s=a(59978),u=["items","isBig","showBackButton","testid"],d=(0,l.default)(s.Box).withConfig({displayName:"breadcrumbs__StyledItemContainer",componentId:"sc-3u39st-0"})([""]),m=(0,l.css)(["&:hover{color:",";}"],(function(e){var t=e.withHover,a=e.theme;return t&&(0,s.getColor)("success")({theme:a})})),g=(0,l.default)(s.Text).withConfig({displayName:"breadcrumbs__StyledText",componentId:"sc-3u39st-1"})(["",""],m),f=(0,l.default)(s.TextSmall).withConfig({displayName:"breadcrumbs__StyledTextSmall",componentId:"sc-3u39st-2"})(["",""],m);t.Z=function(e){var t=e.items,a=e.isBig,l=e.showBackButton,i=void 0===l||l,m=e.testid,v=void 0===m?"":m,h=(0,r.Z)(e,u),b=(0,o.useMemo)((function(){return null!==t&&void 0!==t&&t.length&&i?c()(t.filter((function(e){return!!e.onClick}))).onClick:null}),[t,i]);if(null===t||void 0===t||!t.length)return null;var y=a?g:f;return o.createElement(s.Flex,(0,n.Z)({gap:4},h),i&&o.createElement(s.Button,{onClick:b,icon:"chevron_left",label:"Back",neutral:!0,flavour:"hollow",small:!0,padding:[0,2,0,1],textTransform:"uppercase","data-testid":"".concat(v,"-breadcrumbs-backButton")}),o.createElement(s.Flex,{gap:2,alignItems:"center"},t.map((function(e,t){var a=e.isDisabled,r=e.name,l=e.onClick;return o.createElement(d,(0,n.Z)({key:t,alignItems:"center"},l&&{cursor:"pointer",onClick:l},{"data-testid":"".concat(v,"-breadcrumbs-level-").concat(t)}),o.createElement(y,{color:a&&"textLite","data-testid":"".concat(v,"-breadcrumbs-level-").concat(t),withHover:!!l},0!==t&&" / ",r))}))))}},26876:function(e,t,a){a.r(t),a.d(t,{default:function(){return he}});var n=a(67294),r=a(4480),l=a(99322),i=a(91268),c=a(84074),o=a(71181),s=a(29439),u=a(59978),d=a(96929),m=a(36560),g=a(12008),f=a(597),v=a(78266),h=(a(21249),a(57640),a(9924),a(87462)),b=a(45987),y=a(71893),p=a(20686),C=["type","value"],E=(0,y.default)(u.Text).attrs({whiteSpace:"normal",wordBreak:"break-word"}).withConfig({displayName:"tableSchema__TextCell",componentId:"sc-u3gyvm-0"})([""]),w=function(e){return function(t){var a=t.getValue;return n.createElement(E,e,a())}},S=(0,y.default)(u.Icon).withConfig({displayName:"tableSchema__StyledIcon",componentId:"sc-u3gyvm-1"})(["vertical-align:middle;"]),x=function(e){var t=e.type,a=e.value,r=(0,b.Z)(e,C);return n.createElement(u.Flex,(0,h.Z)({padding:[0,2]},r,{justifyContent:"center"}),0===a?n.createElement(E,{textAlign:"center"},"-"):n.createElement(p.Z,{type:t,textSize:"normal","data-testid":"alertView-alertPill-".concat(t)},a))},I={id:"chevron",header:"",cell:function(){return n.createElement(S,{rotate:2,name:"chevron_left",color:"textDescription"})}},N={displayName:!1},T=[{id:"summary",accessorKey:"summary",header:"Alert",cell:function(e){var t=e.getValue;return n.createElement(E,{"data-testid":"alertName"},t())}},{id:"nodesRunningAlert",accessorKey:"nodeCount",header:"Nodes Running Alert",cell:function(e){var t=e.getValue;return n.createElement(E,{textAlign:"center","data-testid":"nodesRunningAlert"},t())}},{id:"alertInstances",accessorKey:"instanceCount",header:"Alert Instances",cell:function(e){var t=e.getValue;return n.createElement(E,{textAlign:"center","data-testid":"alertInstances"},t())}},{id:"criticalNodes",accessorKey:"criticalCount",header:"Critical",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"critical",value:t(),"data-testid":"criticalNodes"})}},{id:"warningNodes",accessorKey:"warningCount",header:"Warning",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"warning",value:t(),"data-testid":"warningNodes"})}},{id:"clearNodes",accessorKey:"clearCount",header:"Clear",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"clear",value:t(),"data-testid":"clearNodes"})}},{id:"errorNodes",accessorKey:"errorCount",header:"Error",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"neutral",value:t(),"data-testid":"errorNodes"})}},{id:"uniqueConfigs",accessorKey:"configCount",header:"Configs",cell:function(e){var t=e.getValue;return n.createElement(E,{textAlign:"center","data-testid":"uniqueConfigs"},t())}},{id:"displayName",accessorKey:"displayName",header:"Name",cell:function(e){var t=e.getValue;return n.createElement(E,{"data-testid":"alertName"},t())}}],k=a(50358),z=a(63860),A=a(97945),V=a(62200),Z=(0,y.default)(u.TextSmall).withConfig({displayName:"styled__StyledLinkText",componentId:"sc-1y769u1-0"})(["",""],"\n  cursor: pointer;\n  overflow-wrap: break-word;\n  max-width: 140px;\n  &:hover {\n    opacity: 0.7;\n  }\n"),_=(0,y.default)(u.TextSmall).withConfig({displayName:"styled__StyledText",componentId:"sc-1y769u1-1"})(["&:hover{color:",";text-decoration:underline;}"],(0,u.getColor)("accent")),K=a(38626),P=a(91008),R=function(e){var t=e.row,a=e.value,r=e.openModal,l=t.original,i=l.id,c=l.info,o=(0,n.useCallback)((function(){r({alertId:i})}),[i]);return n.createElement(P.Z,{Component:u.TextSmall,flavour:"tableLink",cursor:"pointer",showToolTip:!0,content:c,onClick:o,"data-testid":"alertsTableSchema-alertName-".concat(a),"data-ga":"alerts-table::click-alert::alerts-view::".concat(a)},a)},O=function(e){var t=e.row,a=e.nodeId,r=t.original.id,l=(0,A.iy)(a,"name"),i=(0,A.WR)(a,{alertId:r});return n.createElement(u.Flex,{width:35,"data-testid":"alertsTableSchema-nodeName-".concat(l),"data-ga":"alerts-table::click-node::alerts-view::".concat(l)},n.createElement(Z,{onClick:i},n.createElement(K.Z,{maxLength:V.sf,text:l,TextComponent:_})))},F=function(e){var t=e.row,a=e.value,r=t.original,l=r.id,i=r.nodeId,c=r.instanceName,o=(0,A.WR)(i,{alertId:l});return n.createElement(u.Flex,{"data-testid":"alertsTableSchema-chart-id-".concat(a),"data-ga":"alerts-table::click-chartId::alerts-view::".concat(a)},n.createElement(Z,{onClick:o},n.createElement(K.Z,{maxLength:25,TextComponent:_,text:c})))},L={displayName:!1},j=function(e){var t=e.openModal;return[{id:"status",accessorKey:"status",header:"Status",cell:function(e){var t=e.getValue;return n.createElement(p.Z,{type:"".concat(t(),"AlertsTable"),"data-testid":"alertsTable-alertPill","data-ga":"alerts-table::click-status::alerts-view::".concat(t())},t())},size:80,maxSize:120,minSize:60},{id:"summary",accessorKey:"summary",header:"Alert",cell:function(e){var a=e.row,r=e.getValue;return n.createElement(R,{row:a,value:r(),openModal:t})},minSize:120,maxSize:180,size:150},{id:"instance",header:"Instance",accessorKey:"instance",cell:function(e){var t=e.row,a=e.getValue;return n.createElement(F,{row:t,value:a()})},minSize:120,maxSize:180,size:150},{id:"nodeName",header:"Node",accessorKey:"nodeId",cell:function(e){var t=e.row,a=e.getValue;return n.createElement(O,{row:t,nodeId:a()})},minSize:120,maxSize:180,size:150},{id:"value",header:"Latest value",accessorKey:"value",cell:function(e){var t=e.row,a=e.getValue,r=t.original,l=r.status,i=r.units;return n.createElement(k.Z,{loaded:!0,status:l,units:i,value:a(),"data-testid":"alertsTableSchema-alertValue","data-ga":"alerts-table::click-alert-value::alerts-view"})},size:120,maxSize:150,minSize:80},{id:"lastUpdated",header:"Updated at",accessorKey:"lastUpdated",cell:function(e){var t=e.getValue;return n.createElement(z.Z,{rawTime:t(),secs:!0,"data-testid":"alertsTableSchema-latestUpdated"})},minSize:120,maxSize:180,size:150},{id:"lastStatusChangeValue",header:"Triggered value",accessorKey:"lastStatusChangeValue",cell:function(e){var t=e.row,a=e.getValue,r=t.original,l=r.status,i=r.units;return n.createElement(k.Z,{loaded:!0,status:l,units:i,value:a(),"data-testid":"alertsTableSchema-triggeredValue","data-ga":"alerts-table::click-triggered-value::alerts-view"})},minSize:80,maxSize:150,size:120},{id:"lastStatusChange",header:"Triggered at",accessorKey:"lastStatusChange",cell:function(e){var t=e.getValue;return n.createElement(z.Z,{rawTime:t(),secs:!0,"data-testid":"alertsTableSchema-lastStatusChange"})},minSize:120,maxSize:180,size:150},{id:"displayName",accessorKey:"displayName",header:"Name",cell:function(e){var a=e.row,r=e.getValue;return n.createElement(R,{row:a,value:r(),openModal:t})},minSize:80,maxSize:150,size:120}]},B=[{id:"summary",accessorKey:"summary",header:"Alert",cell:w({"data-testid":"alertInstanceName"}),minSize:200,maxSize:200,size:200},{id:"instance",header:"Instance",accessorKey:"instance",cell:function(e){var t=e.row,a=e.getValue;return n.createElement(F,{row:t,value:a()})},minSize:200,maxSize:200,size:200},{id:"status",accessorKey:"status",header:"Status",cell:function(e){var t=e.getValue;return n.createElement(u.Flex,{padding:[0,2]},n.createElement(p.Z,{type:t(),textSize:"normal","data-testid":"alertView-alertPill-value",border:void 0},t()))},minSize:80,maxSize:80,size:80},{id:"lastStatusChangeValue",accessorKey:"lastStatusChangeValue",header:"Triggered value",cell:function(e){var t=e.getValue,a=e.row.original,r=a.status,l=a.units;return n.createElement(k.Z,{loaded:!0,status:r,units:l,value:t(),"data-testid":"alertsTableSchema-alertValue"})},minSize:120,maxSize:120,size:120},{id:"lastStatusChange",accessorKey:"lastStatusChange",header:"Triggered at",cell:function(e){var t=e.getValue;return n.createElement(z.Z,{rawTime:t(),secs:!0,nowrap:!0})},minSize:120,maxSize:120,size:120},{id:"displayName",accessorKey:"displayName",header:"Name",cell:w({"data-testid":"alertInstanceName"}),minSize:200,maxSize:200,size:200}],D=a(61294),M=function(){var e=(0,g.__)(),t=(0,s.Z)(e,1)[0],a=t.alertName,r=t.nodeId,l=(0,g.JU)(a,r),i=(0,D.Z)(),c=(0,s.Z)(i,4),o=c[0],d=c[1],m=c[3],f=(0,n.useCallback)((function(e){return d({alertId:e.data.id})}),[a,r]);return n.createElement(n.Fragment,null,n.createElement(u.Table,{data:l,dataColumns:B,onClickRow:f,enableSorting:!0,enableColumnVisibility:!0,enableResizing:!0}),o&&m)},U=(a(26833),a(85827),a(41539),a(25387),a(2490),a(72608),a(66992),a(70189),a(78783),a(88921),a(96248),a(13599),a(11477),a(64362),a(15389),a(90401),a(45164),a(91238),a(54837),a(87485),a(56767),a(76651),a(61437),a(35285),a(39865),a(33948),[{id:"nodeName",accessorKey:"nodeId",header:"Node",cell:function(e){var t=e.getValue,a=(0,A.iy)(t(),"name");return n.createElement(u.Flex,{width:35,"data-testid":"alertsTableSchema-nodeName-".concat(a),"data-ga":"alerts-table::click-node::alerts-view::".concat(a)},n.createElement(K.Z,{maxLength:V.sf,text:a}))}},{id:"nodes",accessorKey:"nodeCount",header:"Node Instances",cell:w({"data-testid":"nodes",textAlign:"center"})},{id:"instances",accessorKey:"instanceCount",header:"Alert Instances",cell:w({"data-testid":"instances",textAlign:"center"})},{id:"critical",accessorKey:"criticalCount",header:"Critical",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"critical",value:t()})}},{id:"warning",accessorKey:"warningCount",header:"Warning",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"warning",value:t()})}},{id:"clear",accessorKey:"clearCount",header:"Clear",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"clear",value:t()})}},{id:"error",accessorKey:"errorCount",header:"Error",cell:function(e){var t=e.getValue;return n.createElement(x,{type:"neutral",value:t(),"data-testid":"errors"})}},{id:"configs",accessorKey:"configCount",header:"Configs",cell:w({"data-testid":"configs",textAlign:"center"})},I]),G=function(){var e=(0,g.__)(),t=(0,s.Z)(e,2),a=t[0].alertName,r=t[1],l=(0,g.JU)(a),i=(0,n.useCallback)((function(e){r({alertName:a,nodeId:e.data.nodeId})}),[a,r]),c=(0,n.useMemo)((function(){return Object.values(l.reduce((function(e,t){switch(e[t.nodeId]||(e[t.nodeId]={nodeId:t.nodeId,nodeCount:1,instanceCount:0,criticalCount:0,warningCount:0,clearCount:0,errorCount:0,configCount:0,configs:new Set}),e[t.nodeId].instanceCount=e[t.nodeId].instanceCount+1,t.status){case"warning":e[t.nodeId].warningCount=e[t.nodeId].warningCount+1;break;case"critical":e[t.nodeId].criticalCount=e[t.nodeId].criticalCount+1;break;case"clear":e[t.nodeId].clearCount=e[t.nodeId].clearCount+1;break;default:t.value||(e[t.nodeId].errorCount=e[t.nodeId].errorCount+1)}return e[t.nodeId].configCount=e[t.nodeId].configs.add(t.aci).size,e}),{}))}),[l]);return n.createElement(u.Table,{data:c,dataColumns:U,onClickRow:i,enableSorting:!0,enableColumnVisibility:!0,enableResizing:!0})},W=a(51091),H=function(){var e,t=(0,g.__)(),a=(0,s.Z)(t,2),r=a[0],l=r.alertName,i=r.nodeId,c=a[1],o=(0,A.Ne)(i?[i]:[]),u=null===o||void 0===o||null===(e=o[0])||void 0===e?void 0:e.name,d=(0,n.useMemo)((function(){return u?[{name:"All Alert Configs",onClick:function(){c({alertName:null,nodeId:null})}},{name:l,onClick:function(){c({alertName:l,nodeId:null})}},{name:u}]:l?[{name:"All Alert Configs",onClick:function(){c({alertName:null,nodeId:null})}},{name:l}]:null}),[l,u,c]);return n.createElement(W.Z,{padding:[2,0,0],items:d,testid:"alertConfigurations"})},J=(a(47941),a(82526),a(57327),a(88449),a(59849),a(38880),a(15581),a(34514),a(54747),a(49337),a(33321),a(69070),a(4942)),q=a(74059),Q=a(37518),$=a(12899);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var X=function(){var e=(0,Q.UL)(),t=(0,$.R3)(),a=(0,s.Z)(t,2)[1],r=(0,g.__)(),l=(0,s.Z)(r,2)[1],i=(0,q.Q6)(),c=(0,n.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,J.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({goto:{handleAction:function(e){var t=e.name;return l({alertName:t})},icon:"chevron_right",tooltipText:"Show configuration"}},!i&&{info:{handleAction:function(t){return a({roomId:e,alert:t})},tooltipText:"Get some help from Netdata Assistant",icon:"netdataAssistant",iconColor:"primary",dataGa:"alerts::click-assistant-icon::active-alerts-table"}})}),[i,a]);return{rowActions:c}},ee=function(){return n.createElement(u.Text,null,"Loading...")},te=function(){var e=(0,g.w4)(),t=(0,g.__)(),a=(0,s.Z)(t,2),r=a[0],l=r.alertName,i=r.nodeId,c=a[1],o=(0,$.Nu)(),d=(0,s.Z)(o,2)[1],m=(0,n.useCallback)((function(e){c({alertName:e.data.name})}),[]),f=X().rowActions;return(0,n.useEffect)((function(){var t=e.map((function(e){return{name:e.alert}}));d(t)}),[e]),n.createElement(u.Flex,{column:!0,gap:4,height:"100%",overflow:"hidden"},n.createElement(H,null),i&&n.createElement(n.Suspense,{fallback:n.createElement(ee,null)},n.createElement(M,null)),!i&&l&&n.createElement(n.Suspense,{fallback:n.createElement(ee,null)},n.createElement(G,null)),!i&&!l&&n.createElement(u.Table,{data:e,dataColumns:T,enableSorting:!0,enableColumnVisibility:!0,columnPinning:{right:["actions"]},enableColumnPinning:!0,enableResizing:!0,rowActions:f,onClickRow:m,columnVisibility:N}))},ae=a(89250),ne=[{id:"lastStatusChange",desc:!0}],re={right:["actions"]},le=function(){var e=(0,f.K)({extraKey:"alerts"}),t=(0,$.Nu)(),a=(0,s.Z)(t,2)[1],r=(0,D.Z)(),l=(0,s.Z)(r,4),i=l[0],c=l[1],o=l[3],d=function(){var e=(0,ae.s0)(),t=(0,q.uk)(),a=(0,Q.UL)(),r=(0,$.R3)(),l=(0,s.Z)(r,2)[1],i=(0,q.Q6)();return{rowActions:(0,n.useMemo)((function(){return i?{}:{goto:{handleAction:function(){e("/spaces/".concat(t,"/settings/notifications#notificationsActiveTab=1"))},tooltipText:"Go to silencing manager",icon:"alarm_off",dataGa:"alerts-table::click-link-to-manager::active-alerts-table"},info:{handleAction:function(e){return l({roomId:a,alert:e})},tooltipText:"Get some help from Netdata Assistant",icon:"netdataAssistant",iconColor:"primary",dataGa:"alerts::click-assistant-icon::active-alerts-table"}}}),[i,l])}}().rowActions;return(0,n.useEffect)((function(){a(e)}),[e]),n.createElement(n.Fragment,null,n.createElement(u.Table,{enableSorting:!0,enableColumnVisibility:!0,columnVisibility:L,data:e,dataColumns:j({openModal:c}),rowActions:d,sortBy:ne,columnPinning:re,enableColumnPinning:!0,enableResizing:!0}),i&&o)},ie=(a(92222),a(89405)),ce=function(){var e=function(){var e=(0,ie.rA)(),t=e.localeTimeString,a=e.localeDateString,r=(0,l.u)("updatedAt");return(0,n.useMemo)((function(){if(r){var e=new Date(r);return"".concat(a(e,{long:!0})," ").concat(t(e,{secs:!0}))}}),[r,t,a])}();return n.createElement(u.Flex,{column:!0,justifyContent:"center",alignItems:"center",gap:4},n.createElement(u.Icon,{name:"checkmark",width:"168px",height:"168px",margin:[13,0,0]}),n.createElement(u.H3,{margin:[10,0,0]},"This room has no active alerts, you are all good!"),n.createElement(u.Text,{margin:[2,0,0,0]},"Visit later or check your notifications"),n.createElement(u.TextSmall,{color:"textLite"},"Last updated at: ",e))},oe=(0,n.memo)(ce),se=a(46189),ue=function(){return n.createElement(u.Flex,{column:!0,justifyContent:"center",alignItems:"center",margin:[12,0,0]},n.createElement("img",{src:"".concat(se.Z.assetsBaseURL,"/img/no-filter-results.png"),alt:"No Filter Results",title:"No Filter Results"}),n.createElement(u.H3,null,"There are no results for these filtering criteria"))},de=(0,n.memo)(ue),me=a(63346),ge=function(e){var t=e.count,a=(0,l.u)("ids"),r=(0,l.u)("loaded"),i=(0,g.ER)(a).length;return r?i?t?n.createElement(me.ZP,{feature:"AlertsActive",mode:"AlertsTable"},n.createElement(le,null)):n.createElement(me.ZP,{feature:"AlertsActive",mode:"NoFilterResultsIndication"},n.createElement(de,null)):n.createElement(me.ZP,{feature:"AlertsActive",mode:"NoAlertsIndication"},n.createElement(oe,null)):n.createElement(v.Z,{title:"Loading alerts..."})},fe=function(){var e=(0,r.FV)(c.p$),t=(0,s.Z)(e,2),a=t[0],l=t[1],i=(0,g.v3)(),o=(0,n.useCallback)((function(e){e===a&&i(),l(e)}),[a,l]),h=(0,f.K)({extraKey:"alerts"}).length,b=(0,g.sb)();return(0,d.fD)()&&!b.length?n.createElement(me.ZP,{feature:"Alerts",mode:"NoNodesView"},n.createElement(m.Z,null)):n.createElement(u.Tabs,{selected:a,onChange:o,height:"100%",padding:[4,4,0]},n.createElement(u.Tab,{label:n.createElement(u.Text,null,"Active (",h,")"),maxWidth:"100%","data-testid":"alertTabs-activeAlerts"},n.createElement(ge,{count:h})),n.createElement(u.Tab,{label:n.createElement(u.Text,null,"Alert Configurations"),maxWidth:"100%","data-testid":"alertTabs-configurations"},n.createElement(n.Suspense,{fallback:n.createElement(v.Z,{title:"Loading alert configurations..."})},n.createElement(me.ZP,{feature:"AlertsConfiguration"},n.createElement(te,null)))))},ve=["chartIndexing","alerts","info","config"],he=function(){var e=(0,l.u)("ids"),t=(0,r.sJ)(c.p$),a=!!e.length&&1!==t;return n.createElement(i.Z,{sidebar:a&&n.createElement(o.ZP,{title:"Alerts",flavour:"alerts",loaded:!0,hasSearch:!1,hiddenTabs:ve})},n.createElement(fe,null))}}}]);