!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="31e0a798-b9e8-4bbf-a1ec-31efec426019",e._sentryDebugIdIdentifier="sentry-dbid-31e0a798-b9e8-4bbf-a1ec-31efec426019")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"833aaee1cc06f5081274f22d18347a1cce30fb04"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[223],{16978:function(e,t,n){var a=n(87462),l=n(45987),r=n(67294),i=n(54576),o=n(70486),c=n(86954),u=n(20581),s=n(16374),d=n(1981),m=n(28138),p=n(18892),g=n(63076),h=n(65855),f=["width","height"],v=(0,r.forwardRef)((function(e,t){var n=e.width,i=e.height,o=(0,l.Z)(e,f);return r.createElement(c.ChartWrapper,{width:n,height:i},r.createElement(h.x1,(0,a.Z)({hasHeader:!1,hasFilters:!1,hasFooter:!1,width:n,height:i},o,{ref:t})))})),E=(0,o.default)(v,{tile:!0}),x={dygraph:h.ZP,easypiechart:m.ZP,gauge:s.ZP,number:p.ZP,groupBoxes:u.ZP,d3pie:d.default,bars:g.ZP},b=function(e){var t=(0,i.useChart)(),n=(0,r.useMemo)((function(){if(!t)return null;var e=t.getAttributes(),n=e.chartLibrary;return e.sparkline?E:x[n]}),[t]);return n?r.createElement(n,(0,a.Z)({},e,{chart:t})):null};t.Z=(0,i.withChartProvider)((0,r.memo)(b))},54244:function(e,t,n){var a=n(67294),l=n(13655);t.Z=function(e){var t=e.flavour,n=e.icon,r=e.children;return a.createElement(l.Pill,{icon:n,textProps:{textTransform:"capitalize"},flavour:t},r)}},10082:function(e,t,n){var a=n(87462),l=n(45987),r=n(67294),i=n(13655),o=["vertical"];t.Z=function(e){var t=e.vertical,n=(0,l.Z)(e,o);return r.createElement(i.Box,(0,a.Z)({as:"hr",height:t?"100%":"1px"},t?{}:{width:"100%"},{sx:{borderWidth:t?"0px 0px 0px 1px":"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}},n))}},92253:function(e,t,n){var a=n(4942),l=(n(92222),n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),r=n(16978),i=n(50308),o=n.n(i),c=n(13655),u=n(91128),s=n(78266),d=n(74059),m=n(37518),p=n(9058),g=n(22648),h=n(39840);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return function(t){return"alert-modal::".concat(e.getAttribute("id"),"::").concat(t)}},x={width:"108px",height:"77px"};t.Z=function(e){var t=e.instance,n=e.context,a=e.isFormattedValueLoaded,i=e.nodeId,f=e.status,b=e.lastStatusChange,y=e.formattedLastStatusChangeValue,C=e.lastUpdated,w=e.spaceId,T=e.roomId,S=e.setChartSelected,I=void 0===S?o():S,k=(0,d.th)();w=w||k;var Z=(0,m.UL)();T=T||Z;var F=(0,g.m)(),D=(0,p.e)(),A=(0,u.Z)();(0,l.useEffect)((function(){return A(),A}),[]);var O=(0,d.Q6)(),z=(0,l.useMemo)((function(){if(a){var e=D.makeChart({attributes:{nodeId:i,contextScope:[n],selectedInstances:t&&i?["".concat(t,"@").concat(i)]:[],id:t,roomId:T,enabledResetRange:!1,overlays:{proceeded:{type:"proceeded"},alarm:{type:"alarm",status:f,value:y,when:b}},host:O?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"".concat(window.envSettings.apiUrl,"/api/v3/spaces/").concat(w,"/rooms/").concat(T),nodesScope:[i],toolboxElements:[],sparkline:F,hasToolbox:!F},makeTrack:E});return D.getRoot().appendChild(e),e}}),[t,a]);return(0,h.Wi)({lastUpdated:C,lastStatusChange:b},a),(0,l.useEffect)((function(){return I((function(e){return v(v({},e),z)})),function(){z&&z.destroy(),I(null)}}),[z]),l.createElement(c.Flex,{flex:!1,width:"100%",height:75},a&&z?l.createElement(r.Z,{"data-chartid":t,chart:z,hasHeader:!F,hasFooter:!F}):l.createElement(s.Z,{iconProps:x,title:"Loading chart..."}))}},3027:function(e,t,n){n.r(t),n.d(t,{default:function(){return Le}});var a=n(67294),l=n(13655),r=n(29439),i=n(5312),o=n(46667),c=n(37518),u=n(16978),s=n(9058),d=n(64504),m=function(){var e=(0,a.useRef)(),t=(0,i.Lb)().getAttribute("id"),n=(0,c.UL)(),o=(0,d.u)(),m=(0,s.e)(),p=function(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),l=n[0],i=n[1],o=(0,a.useMemo)((function(){return new IntersectionObserver((function(e){var t=(0,r.Z)(e,1)[0];return i(t.isIntersecting)}))}),[e]);return(0,a.useEffect)((function(){return o.observe(e.current),function(){return o.disconnect()}}),[]),l}(e),g=(0,a.useMemo)((function(){var e=m.makeChart({attributes:{contextScope:[t],height:80,id:t,roomId:n,toolboxElements:[]}});return o.appendChild(e),e}),[o,n,t]);return a.createElement(l.Flex,{ref:e,width:"100%",height:"350px"},p?a.createElement(u.Z,{margin:[0,0,2],chart:g,"data-chartid":t,"data-track":g.track("container")}):null)},p=(0,a.memo)(m),g=n(12008),h=n(92253),f=n(39840),v=n(74059),E=function(e){var t=e.alertId,n=(0,v.th)(),o=(0,c.UL)(),u=(0,i.rJ)(),s=(0,r.Z)(u,2)[1],d=(0,g.E5)(t),m=d.fullyLoaded,p=void 0!==m&&m,E=d.units,x=d.lastStatusChangeValue,b=d.lastStatusChange,y=d.context,C=d.instance,w=d.nodeId,T=d.status,S=d.lastUpdated,I=d.value;(0,g.yx)(t,{spaceId:n,roomId:o});var k=(0,f.pK)(I,E),Z=(0,f.pK)(x,E);return p?a.createElement(h.Z,{id:t,context:y,instance:C,formattedLastValue:k,formattedLastStatusChangeValue:Z,lastStatusChange:b,lastUpdated:S,isFormattedValueLoaded:p,nodeId:w,status:T,testid:"alertView",spaceId:n,roomId:o,setChartSelected:s}):a.createElement(l.Flex,{height:"200px"},"Loading chart...")},x=function(e){var t=e.title,n=void 0===t?"Chart preview":t,c=(0,o.Z)(!0),u=(0,r.Z)(c,2),s=u[0],d=u[1],m=(0,i.Lb)();return a.createElement(l.Flex,{column:!0,gap:2,padding:[2,0]},a.createElement(l.Flex,{gap:1,alignItems:"center",cursor:"pointer",onClick:d},a.createElement(l.Box,null,n),a.createElement(l.Icon,{name:"chevron_down",size:"small",color:"textLite",rotate:s?2:0})),a.createElement(l.Flex,{height:s?"auto":"0px",overflow:"hidden"},null!==m&&void 0!==m&&m.alertId?a.createElement(E,{alertId:m.alertId}):a.createElement(p,null)))},b=n(87462),y=n(45987),C=(n(21249),n(57640),n(9924),["title","showAdvanced","children"]),w=function(e){var t=e.title,n=void 0===t?"":t,i=e.showAdvanced,c=e.children,u=(0,y.Z)(e,C),s=(0,o.Z)(!1),d=(0,r.Z)(s,2),m=d[0],p=d[1];return a.createElement(l.Flex,(0,b.Z)({column:!0,gap:2,padding:[2,0]},u),a.createElement(l.Flex,{alignItems:"center",justifyContent:"between"},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Icon,{name:"dot",width:"8px",color:"primary"}),a.createElement(l.Text,{strong:!0},n)),i&&a.createElement(l.Checkbox,{label:"Show advanced",checked:m,onChange:p})),a.createElement(l.Flex,{padding:[0,0,0,4]},a.Children.map(c,(function(e){return a.isValidElement(e)?a.cloneElement(e,{advanced:m}):e}))))},T=["isVertical"],S=function(e){var t=e.isVertical,n=(0,y.Z)(e,T);return a.createElement(l.Box,(0,b.Z)({as:"hr",height:t?"100%":"1px",width:t?"1px":"100%",sx:{borderWidth:t?"0px 0px 0px 1px":"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}},n))},I=n(60593),k=function(){var e=(0,i.qS)(),t=e.detectionMethod,n=e.setDetectionMethod;return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Flex,null,a.createElement(l.ButtonGroup,{items:I._L,checked:t,onChange:n})),a.createElement(l.TextSmall,{color:"textLite"},"An alert is triggered whenever a metric crosses a threshold"))},Z=n(93433),F=(n(69720),n(92222),n(4942)),D=(n(57327),n(41539),n(88449),n(2490),n(59849),n(47941),n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(50308)),A=n.n(D),O=n(877),z=function(e){return a.createElement(O.c.Option,e,a.createElement(l.Flex,{gap:2},a.createElement(l.Checkbox,{checked:e.isSelected}),a.createElement(l.TextSmall,null,e.label)))},P=function(e){return a.createElement(l.Box,{position:"relative"},a.createElement(l.Select,(0,b.Z)({components:{Option:z}},e)))};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,F.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V,j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,n=e.value,i=void 0===n?{}:n,o=e.options,c=void 0===o?[]:o,u=e.updateState,s=void 0===u?A():u,d=e.placeholder,m=e.defaultOption,p=i.items,g=i.expression,h=(0,a.useState)(i),f=(0,r.Z)(h,2),v=f[0],E=f[1];(0,a.useEffect)((function(){s(v)}),[v]);var x=(0,a.useCallback)((function(e){E((function(t){return L(L({},t),{},{items:e.filter((function(e){return!!e.value}))})}))}),[v,E]),b=(0,a.useCallback)((function(e){var t=e.target.value;E((function(e){return L(L({},e),{},{expression:t})}))}),[v,E]);return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Flex,{column:!0,gap:1},t&&a.createElement(l.TextSmall,{strong:!0},t),a.createElement(P,{options:c,value:null!==p&&void 0!==p&&p.length?p.filter((function(e){return e.value})):m,onChange:x,styles:{size:"tiny"},isDisabled:!1,isMulti:!0,closeMenuOnSelect:!1})),a.createElement(l.TextInput,{value:g||"",onChange:b,placeholder:d||"Type an expression",size:"tiny"}))},U=function(){var e=(0,i.rJ)(),t=(0,r.Z)(e,1)[0],n=t.getAttribute&&t.getAttribute("nodes")||[],l=Object.entries(n).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return{label:t[1].nm,value:n}})),o={label:"".concat(l.length," ").concat(l.length>1?"Nodes":"Node"),value:""},c=[o].concat((0,Z.Z)(l)),u=(0,i.Bf)(),s=u.metrics.hosts,d=u.setHosts;return a.createElement(j,{value:s,options:c,updateState:d,defaultOption:o})},M=function(){var e=(0,i.rJ)(),t=(0,r.Z)(e,1)[0],n=t.getAttribute&&t.getAttribute("instances")||[],l=Object.entries(n).map((function(e){var t=(0,r.Z)(e,2),n=t[0];return{label:t[1].nm,value:n}})),o={label:"".concat(l.length," ").concat(l.length>1?"Instances":"Instance"),value:""},c=[o].concat((0,Z.Z)(l)),u=(0,i.Bf)(),s=u.metrics.charts,d=u.setCharts;return a.createElement(j,{value:s,options:c,updateState:d,defaultOption:o})},N=(n(26833),function(){var e=(0,i.rJ)(),t=(0,r.Z)(e,1)[0],n=t.getAttribute&&t.getAttribute("labels")||[],l=Object.values(n).map((function(e){var t=e.id,n=e.vl;return{label:t,options:(void 0===n?[]:n).map((function(e){return{label:e.id,value:"".concat(t,":").concat(e.id)}}))}})),o={label:"".concat(l.length," ").concat(l.length>1?"Labels":"Label"),value:""},c=[o].concat((0,Z.Z)(l)),u=(0,i.Bf)(),s=u.metrics.chartLabels,d=u.setChartLabels;return a.createElement(j,{value:s,options:c,updateState:d,defaultOption:o})}),R=function(){var e=(0,i.Bf)(),t=e.metrics.os,n=e.setOs,l=(0,a.useMemo)((function(){return null!==t&&void 0!==t&&t.length?t.filter((function(e){return e.value})):I.Gx}),[t]);return a.createElement(P,{options:I.yi,value:l,onChange:n,styles:{size:"tiny"},isDisabled:!1,isMulti:!0,closeMenuOnSelect:!1})},_=n(10082),W=["children"],J=function(e){var t=e.children,n=(0,y.Z)(e,W);return a.createElement(l.Flex,(0,b.Z)({width:{max:70}},n),t)},K=function(){return a.createElement(l.Flex,{gap:2},a.createElement(J,null,a.createElement(U,null)),a.createElement(_.Z,{vertical:!0}),a.createElement(J,null,a.createElement(M,null)),a.createElement(_.Z,{vertical:!0}),a.createElement(J,null,a.createElement(N,null)),a.createElement(_.Z,{vertical:!0}),a.createElement(J,null,a.createElement(R,null)))},G=function(e){var t=e.advanced,n=(0,i.rJ)(),o=(0,r.Z)(n,1)[0],c=o.getAttribute?o.getAttribute("id"):"",u=(0,i.Bf)().setOn;return(0,a.useEffect)((function(){u(c)}),[]),a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Box,{width:"200px"},a.createElement(l.TextInput,{value:c,onChange:function(e){return u(e.target.value)},disabled:!0,size:"tiny"})),a.createElement(l.Text,null,t?"from":"on"),!t&&a.createElement(l.TextInput,{value:"each system everywhere",onChange:function(){},disabled:!0,size:"tiny"})),t&&a.createElement(K,null))},q=function(){var e=(0,i.Bf)(),t=e.metrics.lookup,n=e.setLookup,r=(t||{}).aggregation;return a.createElement(l.Select,{options:I.w6,value:r,onChange:function(e){return n({aggregation:e})},styles:{minWidth:"80px",size:"tiny"},isDisabled:!1})},H=function(){var e=(0,i.Bf)(),t=e.metrics.lookup,n=e.setLookup,r=(t||{}).denoter;return a.createElement(l.Select,{options:I.Vt,value:r,onChange:function(e){return n({denoter:e})},styles:{minWidth:"80px",size:"tiny"},isDisabled:!1})},$=function(){var e=(0,i.rJ)(),t=(0,r.Z)(e,1)[0],n=(t.getAttribute&&t.getAttribute("dimensionIds")||[]).map((function(e){return{label:e,value:e}})),l={label:"All Dimensions",value:""},o=[l].concat((0,Z.Z)(n)),c=(0,i.Bf)(),u=c.metrics.lookup,s=c.setLookup,d=(u||{}).dimensions,m=(0,a.useMemo)((function(){return null!==d&&void 0!==d&&d.length?d.filter((function(e){return e.value})):l}),[d,l.label]);return a.createElement(P,{options:o,value:m,onChange:function(e){return s({dimensions:e})},styles:{size:"tiny"},isDisabled:!1,isMulti:!0,closeMenuOnSelect:!1})},Y=function(){var e=(0,i.Bf)(),t=e.metrics.lookup,n=e.setLookup,r=(t||{}).timePeriod;return a.createElement(l.Select,{options:I.nb,value:r,onChange:function(e){return n({timePeriod:e})},styles:{minWidth:"80px",size:"tiny"},isDisabled:!1})},Q=function(){var e=(0,i.Bf)(),t=e.metrics.lookup,n=e.setLookup,l=(t||{}).options;return a.createElement(P,{options:I.bo,value:l,placeholder:"Options",onChange:function(e){return n({options:e})},styles:{size:"tiny"},isDisabled:!1,isMulti:!0,closeMenuOnSelect:!1})},X=function(){return a.createElement(l.Flex,{flexWrap:!0,alignItems:"center",gap:2},a.createElement(l.Text,null,"Evaluate the"),a.createElement(q,null),a.createElement(l.Text,null,"of"),a.createElement(H,null),a.createElement(l.Text,null,"of"),a.createElement($,null),a.createElement(l.Text,null,"over the last"),a.createElement(Y,null),a.createElement(Q,null))},ee=function(){var e=(0,i.Bf)(),t=e.metrics,n=t.calc,r=t.units,o=e.setCalcActive,c=e.setCalcValue,u=e.setUnitsValue,s=n||{},d=s.active,m=s.value;return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Toggle,{labelRight:"Add formula",colored:!0,checked:d,onChange:function(e){return o(e.target.checked)}}),a.createElement(l.Flex,{gap:2},a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,null,"Formula"),a.createElement(l.Box,{width:"500px"},a.createElement(l.TextInput,{value:m,placeholder:"$this",onChange:function(e){return c(e.target.value)},size:"tiny",disabled:!d}))),a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,null,"Units"),a.createElement(l.Box,{width:"80px"},a.createElement(l.TextInput,{value:r,onChange:function(e){return u(e.target.value)},size:"tiny",disabled:!d})))))},te=function(e){var t=e.advanced;return a.createElement(l.Flex,{column:!0,gap:3},a.createElement(G,{advanced:t}),a.createElement(X,null),t&&a.createElement(ee,null))},ne=function(e){var t=e.value,n=e.onChange;return a.createElement(l.Select,{options:I.KW,value:t,onChange:n,styles:{size:"tiny"}})},ae=n(54244),le=n(82351),re={denoter:I.Iu.thresholds.below,value:75},ie=function(e){var t=e.recovery,n=e.onRecoveryThresholdAdd,r=e.onValueChange,i=(t||{}).value;return t?a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Pill,{flavour:"success",hollow:!0,icon:"reload"},"Recovery Threshold"),a.createElement(l.TextInput,{onChange:function(e){return r(e.target.value)},value:i,type:"number",min:0,size:"tiny",metaShrinked:!0,containerStyles:{width:"80px"}}),a.createElement(le.Z,{content:"Remove recovery threshold"},a.createElement(l.Button,{icon:"trashcan",flavour:"borderless",onClick:function(){return n(null)},iconColor:"textLite",iconSize:"small"}))):a.createElement(l.Button,{label:"Recovery Threshold",icon:"plus",flavour:"borderless",onClick:function(){return n(re)}})},oe=n(64637),ce=function(){return function(){}},ue=(V=function(e){var t=e.isEdit,n=e.alertingConditions,r=e.setThreshold,i=e.setRecoveryThreshold,o=e.type,c=e.advanced,u=e.isDisabled,s=n[o]||{},d=s.denoter,m=s.value,p=s.recovery,g=r(o,"denoter"),h=r(o,"value"),f=r(o,"recovery"),v=i(o,"denoter"),E=i(o,"value");return a.createElement(l.Flex,{alignItems:"center",gap:2,height:"34px"},a.createElement(l.Box,null,a.createElement(ae.Z,{width:"80px",flavour:o,textSize:"small"},(0,oe.fm)(o,!0))),t?a.createElement(l.TextInput,{onChange:function(e){return h(e.target.value)},value:m,size:"tiny",containerStyles:{width:"360px"},metaShrinked:!0}):a.createElement(a.Fragment,null,c&&!u?a.createElement(ne,{value:d,onChange:g,isDisabled:u}):a.createElement(l.TextInput,{value:null===d||void 0===d?void 0:d.label,size:"tiny",containerStyles:{width:"160px"},disabled:!0,metaShrinked:!0}),a.createElement(l.TextInput,{onChange:function(e){return h(e.target.value)},value:m,type:"number",min:0,size:"tiny",metaShrinked:!0,containerStyles:{width:"80px"},disabled:u}),c&&!u&&a.createElement(ie,{recovery:p,onRecoveryThresholdAdd:f,onDenoterChange:v,onValueChange:E,disabled:u})))},function(e){var t,n=(0,i.zk)(),r=n||{},o=r.alertingConditions,c=r.setThreshold,u=void 0===c?ce:c,s=u(e.type,"isFormula"),d=u(e.type,"value"),m=!(null!==o&&void 0!==o&&null!==(t=o[e.type])&&void 0!==t&&t.isFormula),p=!m,g=(0,a.useCallback)((function(e){var t=e.target.value;return d(t)}),[d]);return!n.isEdit&&e.advanced?a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.RadioButton,{checked:m,onChange:function(){return s(!1)}}),a.createElement(V,(0,b.Z)({},n,e,{isDisabled:!m}))),a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.RadioButton,{checked:p,onChange:function(){return s(!0)}}),a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,null,"Formula"),a.createElement(l.Box,{width:"500px"},a.createElement(l.TextInput,{value:e.value,placeholder:"$this",onChange:g,size:"tiny",disabled:!p}))))):a.createElement(V,(0,b.Z)({},n,e))}),se=function(e){var t=e.advanced;return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(ue,{type:"critical",advanced:t}),a.createElement(_.Z,null),a.createElement(ue,{type:"warning",advanced:t}))},de=function(e){var t=e.label,n=void 0===t?"":t,r=e.value,i=e.onValueChange,o=void 0===i?A():i,c=e.unit,u=e.onUnitChange,s=void 0===u?A():u,d=e.unitsOptions,m=void 0===d?I.hq:d,p=e.isDisabled;return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Text,{color:p?"textLite":"text"},n),a.createElement(l.Flex,{gap:2},a.createElement(l.TextInput,{value:r,onChange:function(e){return o(e.target.value)},type:"number",min:0,size:"tiny",containerStyles:{width:"60px"},disabled:p}),a.createElement(l.Select,{options:m,value:c,onChange:function(e){return s(e)},styles:{size:"tiny"},isDisabled:p})))},me=function(e){var t=e.advanced,n=(0,i.zk)(),l=n.alertingConditions.interval,r=l.value,o=l.unit,c=n.setIntervalValue,u=n.setIntervalUnit;return a.createElement(de,{label:"Check interval",value:r,onValueChange:c,unit:o,onUnitChange:u,isDisabled:!t})},pe=n(71893),ge=n(88387),he=(0,pe.default)(l.Box).withConfig({displayName:"delayNotification__Grid",componentId:"sc-4dhott-0"})(["display:grid;grid-template-columns:repeat(2,1fr);gap:8px 16px;"]),fe=function(){var e=(0,i.zk)(),t=e.alertingConditions.delayNotification,n=e.setDelayNotificationActive,r=e.setDelayNotificationUpValue,o=e.setDelayNotificationUpUnit,c=e.setDelayNotificationDownValue,u=e.setDelayNotificationDownUnit,s=e.setDelayNotificationMaxDelayValue,d=e.setDelayNotificationMaxDelayUnit,m=e.setDelayNotificationMultiplier,p=t.active,g=t.up,h=t.down,f=t.multiplier,v=t.max,E=!p,x=(0,ge.Oe)(n),b=(0,ge.An)(m);return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Toggle,{labelRight:"Delay Notification",colored:!0,checked:p,onChange:x}),a.createElement(he,null,a.createElement(de,{label:"Initial Delay on Alert Severity Escalation",value:null===g||void 0===g?void 0:g.value,onValueChange:r,unit:null===g||void 0===g?void 0:g.unit,onUnitChange:o,isDisabled:E}),a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Text,{color:E?"textLite":"text"},"Delay Multiplier on successive delays"),a.createElement(l.TextInput,{value:f,onChange:b,type:"number",min:0,step:.1,size:"tiny",containerStyles:{width:"60px"},disabled:E})),a.createElement(de,{label:"Initial Delay on Alert Severity De-escalation",value:null===h||void 0===h?void 0:h.value,onValueChange:c,unit:null===h||void 0===h?void 0:h.unit,onUnitChange:u,isDisabled:E}),a.createElement(de,{label:"Limit Maximum Delay",value:null===v||void 0===v?void 0:v.value,onValueChange:s,unit:null===v||void 0===v?void 0:v.unit,onUnitChange:d,isDisabled:E})))},ve=function(){var e=(0,i.zk)(),t=e.alertingConditions.agentOptions,n=e.setAgentOptionsActive,r=e.setAgentOptionsRepeatNotification,o=e.setAgentOptionsWarningAlertsDurationValue,c=e.setAgentOptionsWarningAlertsDurationUnit,u=e.setAgentOptionsCriticalAlertsDurationValue,s=e.setAgentOptionsCriticalAlertsDurationUnit,d=e.setAgentOptionsSendToValue,m=e.setAgentOptionsSendToClearNotifications,p=e.setAgentOptionsExecScriptActive,g=e.setAgentOptionsExecScriptPath,h=t.active,f=t.off,v=t.warningAlertsDuration,E=t.criticalAlertsDuration,x=t.sendTo,b=t.execScript,y=!h,C=y||f,w=(0,ge.Oe)(n),T=(0,ge.t7)(r,!0),S=(0,ge.t7)(m,!0),I=(0,ge.An)(d),k=(0,ge.t7)(p),Z=(0,ge.An)(g);return a.createElement(l.Flex,{column:!0,gap:2},a.createElement(l.Toggle,{labelRight:"Agent Specific Options",colored:!0,checked:h,onChange:w}),a.createElement(l.Flex,{column:!0,gap:2,width:"100%"},a.createElement(l.Checkbox,{label:"Repeat Alert Notifications",checked:!f,onChange:T,disabled:y}),a.createElement(l.Flex,{gap:4},a.createElement(de,{label:"Warning Alerts Duration isActive",value:null===v||void 0===v?void 0:v.value,onValueChange:o,unit:null===v||void 0===v?void 0:v.unit,onUnitChange:c,isDisabled:C}),a.createElement(de,{label:"Critical Alerts Duration isActive",value:null===E||void 0===E?void 0:E.value,onValueChange:u,unit:null===E||void 0===E?void 0:E.unit,onUnitChange:s,isDisabled:C})),a.createElement(l.Flex,{column:!0,gap:1},a.createElement(l.Text,{color:y?"textLite":"text"},"Send to"),a.createElement(le.Z,{content:"Insert space separated roles (already defined on the agent)",align:"top"},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.TextInput,{value:null===x||void 0===x?void 0:x.value,placeholder:"Roles",onChange:I,disabled:y,size:"tiny"}),a.createElement(l.Checkbox,{label:"Don't send Clear notifications",checked:!(null!==x&&void 0!==x&&x.clearNotifications),onChange:S,disabled:y})))),a.createElement(l.Flex,{alignItems:"center",gap:4},a.createElement(l.Checkbox,{label:"Custom Exec Script",checked:null===b||void 0===b?void 0:b.active,onChange:k,disabled:y}),a.createElement(l.Box,{width:"500px"},a.createElement(l.TextInput,{value:null===b||void 0===b?void 0:b.path,placeholder:"/path/to/script",onChange:Z,disabled:y,size:"tiny"})))))},Ee=function(e){var t=e.advanced,n=(0,i.zk)(),r=n.alertingConditions.denoter,o=n.setMainDenoter;return a.createElement(l.Flex,{column:!0,gap:4},a.createElement(l.Flex,{alignItems:"center",gap:2},a.createElement(l.Text,null,"Trigger when the evaluated value is"),a.createElement(ne,{value:r,onChange:o}),a.createElement(l.Text,null,"the threshold")),a.createElement(se,{advanced:t}),a.createElement(me,{advanced:t}),t&&a.createElement(a.Fragment,null,a.createElement(fe,null),a.createElement(ve,null)))},xe=function(){var e=(0,i.PK)(),t=e.templateName,n=e.templateDescription,r=e.summary,o=e.setTemplateName,c=e.setTemplateDescription,u=e.setSummary;return a.createElement(l.Flex,{column:!0,gap:2,width:"100%"},a.createElement(l.Flex,{column:!0,gap:1,width:"100%"},a.createElement(l.Text,null,"Alert template Name"),a.createElement(l.TextInput,{value:t,onChange:function(e){return o(e.target.value)},size:"tiny"})),a.createElement(l.Flex,{column:!0,gap:1,width:"100%"},a.createElement(l.Text,null,"Alert template Description"),a.createElement(l.TextInput,{value:n,onChange:function(e){return c(e.target.value)},size:"tiny"}),a.createElement(l.TextSmall,{color:"textLite"},"Select an appropriate Template Description")),a.createElement(l.Flex,{column:!0,gap:1,width:"100%"},a.createElement(l.Text,null,"Alert summary"),a.createElement(l.TextInput,{value:r,onChange:function(e){return u(e.target.value)},size:"tiny",placeholder:"Alert summary ${label:label_name} can be added"}),a.createElement(l.TextSmall,{color:"textLite"},"Add a custom title to receive Alert notifications")))},be=pe.default.div.withConfig({displayName:"styled__StyledTerminalCommand",componentId:"sc-jb3u29-0"})(["display:flex;position:relative;flex-direction:column;color:",";background:",";border:1px solid ",";border-radius:4px;cursor:pointer;overflow-wrap:anywhere;white-space:pre-wrap;padding:16px 16px 24px;width:100%;height:100%;font-family:Courier New,monospace;font-weight:bold;letter-spacing:0.09px;line-height:18px;font-size:14px;word-break:break-word;overflow-y:auto;"],(0,l.getColor)("primary"),(0,l.getColor)("terminalGreen"),(0,l.getColor)("primary")),ye=(0,pe.default)(l.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-jb3u29-1"})(["display:flex;align-self:flex-end;cursor:pointer;position:absolute;bottom:16px;right:16px;"]),Ce=n(52428),we=function(){var e=(0,i.Jx)(),t=(0,r.Z)(e,1)[0],n=(0,a.useMemo)((function(){return(0,ge.RW)(t)}),[t]);return a.createElement(be,{onClick:(0,Ce.J)(n,{text:"Config copied to your clipboard."})},n,a.createElement(ye,{name:"copy",size:"small",color:"textLite",onClick:(0,Ce.J)(n,{text:"Config copied to your clipboard."})}))},Te=n(27308),Se=n(91008),Ie=n(13477),ke=n(36285),Ze=n(38314),Fe=n(78710),De=n(64599),Ae=function(){return a.createElement(l.Flex,{column:!0,gap:2,width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},a.createElement(l.Flex,{flexWrap:!0,gap:2,alignItems:"center",justifyContent:"center"},a.createElement(l.Icon,{color:"warning",name:"warning_triangle",height:"16px"}),a.createElement(l.TextBig,null,"This feature is only available to paid plans"),a.createElement(Te.Z,{Component:l.TextBig})),a.createElement(l.Text,null,"Take a quick look at"," ",a.createElement(Se.Z,{href:"https://learn.netdata.cloud/docs/live-demo",target:"_blank",rel:"noopener noreferrer",Component:l.Text},"one of the demo spaces"),"."),a.createElement(l.Text,null,a.createElement(Se.Z,{href:"https://learn.netdata.cloud/docs/alerting/creating-alerts-with-the-alerts-configuration-manager",target:"_blank",rel:"noopener noreferrer",Component:l.Text},"Checkout the docs")," ","for more information."))},Oe=function(e){var t=e.isAnonymous;return a.createElement(l.Flex,{column:!0,gap:2,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",padding:[0,8]},t?a.createElement(a.Fragment,null,a.createElement(l.TextBig,{textAlign:"center"},"Please sign in to unlock this feature"),a.createElement(De.Z,null)):a.createElement(l.TextBig,{textAlign:"center"},"Please go to a space that is on Business plan to unlock this feature."))},ze=function(e){return e.canViewConfiguration?a.createElement(l.Flex,{width:"100%",column:!0,gap:3},a.createElement(l.Text,null,"Configuration"),a.createElement(we,null)):a.createElement(Ae,null)},Pe=function(e){return function(t){var n=((0,ke.RP)().value||{}).slug,l=!(0,Ze.BT)(n);return a.createElement(e,(0,b.Z)({canViewConfiguration:l},t))}}(ze),Be=function(e){var t=(0,Ie.Iy)("isAnonymous"),n=(0,v.th)();return(0,Fe.Ly)(n)?a.createElement(Oe,{isAnonymous:t}):t?a.createElement(ze,(0,b.Z)({canViewConfiguration:!0},e)):a.createElement(Pe,e)},Le=function(){return a.createElement(l.Flex,{gap:3,height:"100%"},a.createElement(l.Flex,{width:"70%",height:"100%",column:!0,gap:2,padding:[2,2,2,0],overflow:{vertical:"auto"}},a.createElement(x,null),a.createElement(S,null),a.createElement(w,{title:"Select the Detection Method"},a.createElement(k,null)),a.createElement(S,null),a.createElement(w,{title:"Select and define the metric to alert on",showAdvanced:!0},a.createElement(te,null)),a.createElement(S,null),a.createElement(w,{title:"Define alerting conditions",showAdvanced:!0},a.createElement(Ee,null)),a.createElement(S,null),a.createElement(w,{title:"Description"},a.createElement(xe,null))),a.createElement(S,{isVertical:!0}),a.createElement(l.Flex,{width:"30%",padding:[2,0]},a.createElement(Be,null)))}},27308:function(e,t,n){var a=n(87462),l=n(45987),r=n(67294),i=n(79655),o=n(13655),c=n(91008),u=n(33335),s=n(99826),d=["containerProps"];t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.containerProps,n=void 0===t?{}:t,m=(0,l.Z)(e,d),p=(0,u.gI)("billing:ReadAll"),g=(0,s.Z)().url;return g?r.createElement(o.Flex,(0,a.Z)({background:"sideBarMini",border:{side:"all",color:"border"},padding:[1,2],round:!0},n),r.createElement(c.Z,(0,a.Z)({align:"bottom",as:i.rU,boxProps:{as:o.Flex},color:"text",Component:o.TextMicro,content:p?"Upgrade your plan in order to use this feature":"You have no permissions to manage billing",disabled:!p,hoverColor:"textFocus",showToolTip:!0,strong:!0,to:g},m),"Upgrade now!")):null}},64504:function(e,t,n){n.d(t,{B:function(){return o},u:function(){return i}});n(69826),n(41539),n(31672),n(2490),n(59461),n(74916),n(4723);var a=n(4480),l=n(9058),r=(0,a.cn)({key:"currentChartsContainerKey",default:null}),i=function(){var e=(0,l.e)(),t=(0,a.sJ)(r);return e&&e.getRoot().getChildren().find((function(e){return e.match({id:t})}))},o=function(){return(0,a.Zl)(r)}}}]);