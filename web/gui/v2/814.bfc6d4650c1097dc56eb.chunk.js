!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="14272f61-6315-4d49-aceb-d17687a49002",e._sentryDebugIdIdentifier="sentry-dbid-14272f61-6315-4d49-aceb-d17687a49002")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"d3c83511ea495cef1d9f8179d5492b454e88bcc8"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[814],{52428:function(e,t,n){n.d(t,{J:function(){return d}});n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(58206),a=n(52631),l=n(74855);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){(0,o.Z)(e);var n=(0,l.sc)(c(c({header:"Copied",text:"Command copied to your clipboard! Please run it on your node's terminal.",icon:"gear"},t),{},{success:!0}));a.Z.success(n,{context:"copy"})}}},57387:function(e,t,n){n.d(t,{ZM:function(){return g}});n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(45987),o=n(4942),a=n(67294),l=n(60677),i=n(15557),c=n(52428),d=["children"],s=["children","confirmationText","commandText"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=(0,l.default)(i.Box).attrs((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({color:"textDescription",background:"modalTabsBackground",border:{side:"all",color:"borderSecondary"},padding:[4,10,4,4],position:"relative",width:"100%"},e)})).withConfig({displayName:"command__StyledTerminalCommand",componentId:"sc-wnwmk3-0"})(["color:",';border-radius:2px;overflow-wrap:anywhere;white-space:pre-wrap;font-family:"Courier New",Courier,monospace;letter-spacing:0.09px;line-height:18px;font-size:14px;word-break:break-word;'],(0,i.getColor)("textDescription")),p=(0,l.default)(i.Icon).withConfig({displayName:"command__StyledIcon",componentId:"sc-wnwmk3-1"})(["display:flex;align-self:flex-end;cursor:pointer;"]),f=(0,l.default)(i.Box).attrs({color:"textDescription",border:{side:"all",color:"borderSecondary"},background:"modalTabsBackground",padding:[0,1]}).withConfig({displayName:"command__CodeText",componentId:"sc-wnwmk3-2"})(["display:inline-block;color:",';border-radius:2px;font-family:"Courier New",Courier,monospace;letter-spacing:0.09px;line-height:18px;font-size:14px;word-break:break-word;'],(0,i.getColor)("textDescription")),g=function(e){var t=e.children,n=(0,r.Z)(e,d);return a.createElement(f,n,t)};t.ZP=function(e){var t=e.children,n=e.confirmationText,o=void 0===n?"Command copied to your clipboard.":n,l=e.commandText,d=void 0===l?t:l,u=(0,r.Z)(e,s);return a.createElement(m,u,t,a.createElement(i.Box,{position:"absolute",bottom:"8px",right:"8px"},a.createElement(p,{name:"copy",size:"small",color:"primary",onClick:(0,c.J)(d||t,{text:o})})))}},34885:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(87462),o=n(45987),a=n(67294),l=n(4211),i=n(15557),c=function(){return a.createElement(i.Text,null,"Something went wrong during document parsing")},d=["transformConfiguration","validationConfig","validate","errorComponent","children"],s=function(e){return function(t){var n=t.transformConfiguration,i=void 0===n?{}:n,s=t.validationConfig,u=void 0===s?{}:s,m=t.validate,p=t.errorComponent,f=t.children,g=(0,o.Z)(t,d),b=function(e){var t=e.markdocContent,n=e.validate,r=e.validationConfig,o=e.transformConfiguration;return(0,a.useMemo)((function(){var e=l.ZP.parse("string"===typeof t?t:""),a=[];return n&&(a=l.ZP.validate(e,r)),{tree:a.length?null:l.ZP.transform(e,o),errors:a}}),[t,n,r,o])}({markdocContent:f,validate:m,validationConfig:u,transformConfiguration:i}),h=b.tree,x=b.errors,v=p&&"function"==typeof p?p:c;return x.length?a.createElement(v,{errors:x}):a.createElement(e,(0,r.Z)({tree:h},g))}},u=(0,a.memo)(s((function(e){var t=e.tree,n=e.renderConfiguration;return l.ZP.renderers.react(t,a,n)}))),m=(s((function(e){var t=e.tree;return l.ZP.renderers.html(t)})),u)},20686:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(87462),o=n(45987),a=n(67294),l=n(15557),i=n(60677),c=(0,i.default)(l.Icon).attrs({width:12,height:14}).withConfig({displayName:"styled__StyledIcon",componentId:"sc-z9l478-0"})([""]),d=(0,i.default)(l.Flex).attrs({alignItems:"center",justifyContent:"center",padding:[.5,2],round:9}).withConfig({displayName:"styled__StyledPill",componentId:"sc-z9l478-1"})(["cursor:pointer;pointer-events:",";"],(function(e){return e.onClick?"auto":"none"})),s={critical:{background:"nodeBadgeBackground",color:"errorLite",border:{side:"all",color:"error"}},warning:{background:"nodeBadgeBackground",color:"warningText",border:{side:"all",color:"warning"}},neutral:{background:"disabledBackground",color:"textDescription",border:{side:"all",color:"tabsBorder"}},clear:{background:"nodeBadgeBackground",color:"successLite",border:{side:"all",color:"success"}},criticalAlertsTable:{background:"nodeBadgeBackground",color:"errorLite",border:{side:"all",color:"error"}},warningAlertsTable:{background:"nodeBadgeBackground",color:"warningText",border:{side:"all",color:"warning"}},clearAlertsTable:{background:"nodeBadgeBackground",color:"successLite",border:{side:"all",color:"success"}}},u=["type","icon","children","textSize"],m={small:l.TextSmall,normal:l.Text},p=function(e){var t=e.type,n=e.icon,i=e.children,p=e.textSize,f=(0,o.Z)(e,u),g=s[t]||{},b=g.background,h=g.color,x=g.border,v=p?m[p]:n?l.Text:l.TextMicro;return a.createElement(d,(0,r.Z)({background:b,border:x,gap:1.5},f),n&&a.createElement(c,{name:n,title:n,color:h}),i&&a.createElement(v,{color:h,textTransform:"capitalize",strong:!0,wordBreak:"keep-all",whiteSpace:"nowrap"},i))}},94814:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(29439),o=n(67294),a=n(37518),l=n(12899),i=n(60677),c=n(61193),d=n.n(c),s=n(15557),u=(n(85827),n(41539),n(25387),n(2490),n(72608),n(69826),n(31672),n(59461),n(34885)),m=n(97945),p=function(e){var t=e.label,n=e.value;return o.createElement(s.Flex,{gap:2},o.createElement(s.Text,{strong:!0},t,":"),o.createElement(s.Text,null,n))},f=function(e){var t=e.name,n=e.nodeId,i=e.chartId,c=e.alertOptions,d=(0,a.UL)(),u=(0,l.R3)(),f=(0,r.Z)(u,2)[1],g=(0,m.bV)(n,"name");return o.createElement(s.Flex,{column:!0},c.length>1&&o.createElement(s.Box,{margin:[0,0,2,0]},o.createElement(s.Select,{"data-testid":"".concat(t,"-assistant-modal-alerts-select"),onChange:function(e){var t=e.value;return f({roomId:d,alert:{name:t}})},styles:{size:"tiny"},menuPlacement:"auto",options:c,value:{value:t,label:t}})),1==c.length&&o.createElement(p,{label:"Alert",value:t}),g&&o.createElement(p,{label:"Node",value:g}),i&&o.createElement(p,{label:"Chart id",value:i}))},g=n(87462),b=function(e){return o.createElement(s.Box,(0,g.Z)({as:"hr",height:"1px",width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}},e))},h=n(45987),x=(n(9653),n(91008)),v=n(57387),y=["level"],w=["children"],E=["children","href"],C=["content"],k=["content"],Z=["ordered","children"],I=i.default.ol.withConfig({displayName:"markdocSchema__OrderedList",componentId:"sc-1maymd4-0"})(["list-style:roman;padding-left:14px;"]),S=i.default.ul.withConfig({displayName:"markdocSchema__UnorderedList",componentId:"sc-1maymd4-1"})(['list-style-image:url("/static/img/list-style-image.svg");padding-left:14px;']),O={heading:{render:function(e){var t=e.level,n=void 0===t?1:t,r=(0,h.Z)(e,y),a=s.H1;switch(n){case 2:a=s.H2;break;case 3:a=s.H3;break;case 4:a=s.H4;break;case 5:a=s.H5;break;case 6:a=s.H6}return o.createElement(a,(0,g.Z)({margin:[2,0]},r))},attributes:{id:{type:String},level:{type:Number}}},paragraph:{render:function(e){var t=e.children,n=(0,h.Z)(e,w);return o.createElement(s.Flex,(0,g.Z)({padding:[2,0]},n),o.createElement(s.Text,null,t))}},link:{render:function(e){var t=e.children,n=e.href,r=(0,h.Z)(e,E);return o.createElement(x.Z,(0,g.Z)({href:n,rel:"noopener noreferrer",target:"_blank"},r),t)},attributes:{href:{type:String}}},code:{render:function(e){var t=e.content,n=(0,h.Z)(e,C);return o.createElement(v.ZM,n,t)},attributes:{content:{type:String}}},fence:{render:function(e){var t=e.content,n=(0,h.Z)(e,k);return o.createElement(v.ZP,n,t)},attributes:{content:{type:String}}},list:{render:function(e){var t=e.ordered,n=e.children,r=(0,h.Z)(e,Z),a=t?I:S;return o.createElement(a,r,n)},attributes:{ordered:{type:Boolean}}}},_=function(e){var t=e.selectedAlert,n=(0,l.Nu)(),a=(0,r.Z)(n,1)[0],i=t.name,c=t.nodeId,d=t.chartId,m=(0,l.UD)({alarm:i,node:c,chart:d}),p=m.loaded,g=m.value,h=m.hasError,x=a.reduce((function(e,t){var n={value:t.name,label:t.name};return e.find((function(e){return e.label==n.label}))||e.push(n),e}),[]);return p?h?o.createElement(s.Text,null,"Something went wrong"):null!==g&&void 0!==g&&g.result?o.createElement(s.Flex,{column:!0,gap:3},o.createElement(f,{name:i,nodeId:c,chartId:d,alertOptions:x}),o.createElement(b,null),o.createElement(u.Z,{transformConfiguration:{nodes:O}},g.result)):o.createElement(s.Text,null,"No data"):o.createElement(s.Text,null,"Loading...")},z=n(27856),B=n(46667),T=n(82351),P=n(20686),j=n(50308),M=n.n(j),N=(0,i.default)(s.Flex).withConfig({displayName:"minimizedModal__ElevatedContent",componentId:"sc-9ix42v-0"})(["box-shadow:0 18px 28px rgba(0,0,0,0.5);"]),D=(0,i.default)(s.Icon).withConfig({displayName:"minimizedModal__IconAbsolute",componentId:"sc-9ix42v-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),F=function(e){var t=e.onModalClose,n=void 0===t?M():t;return o.createElement(T.Z,{content:"Close assistant",zIndex:7500},o.createElement(N,{position:"absolute",bottom:"37px",right:"-10px",background:"mainBackground",sx:{borderRadius:"100%"},border:{side:"all",color:"primary",size:"1px",type:"solid"},width:"28px",height:"28px",onClick:n,cursor:"pointer"},o.createElement(D,{name:"x",color:"text",size:"sm"})))},A=function(e){var t=e.alert,n=e.onClick,r=void 0===n?M():n;return o.createElement(T.Z,{content:"Show assistant",zIndex:7500},o.createElement(N,{position:"absolute",top:"0",right:"0",onClick:r,cursor:"pointer"},o.createElement(P.Z,{type:(null===t||void 0===t?void 0:t.status)||"neutral"},null===t||void 0===t?void 0:t.name)))},L=function(e){var t=e.alert,n=e.isMinimized,a=e.maximize,l=void 0===a?M():a,i=e.onModalClose,c=void 0===i?M():i,d=(0,o.useState)(!1),u=(0,r.Z)(d,2),m=u[0],p=u[1];return o.createElement(s.Flex,{position:"relative",width:"56px",height:n?"95px":"56px",onMouseEnter:function(){return p(n)},onMouseLeave:function(){return p(!1)}},o.createElement(N,{position:"absolute",bottom:"0",background:"primary",sx:{borderRadius:"100%"},width:"56px",height:"56px",cursor:"move"},o.createElement(D,{name:"netdataAssistant",size:"large"})),m&&o.createElement(o.Fragment,null,o.createElement(A,{alert:t,onClick:function(){n&&(l(),p(!1))}}),o.createElement(F,{onModalClose:c})))},H=i.default.ul.withConfig({displayName:"helpTooltipContent__List",componentId:"sc-uh9315-0"})(["width:350px;padding-left:16px;list-style:disc outside none;"]),R=function(){return o.createElement(H,null,o.createElement("li",null,"You can drag around the assistant window and navigate to other tabs within the same room, and the assistant window won't go away."),o.createElement("li",null,"Use the buttons at the right to expand, or minimize the assistant window."),o.createElement("li",null,"Hold down the ",o.createElement(s.TextSmall,{strong:!0},"Shift")," button in order to select any text inside the assistant window."))},U=(0,i.default)(s.ModalContent).attrs((function(e){var t=e.expanded;return{width:t?{base:"80vw"}:{base:150,max:150,min:70},height:t?{base:"80vh",min:"80vh"}:{base:150,max:150,min:150},padding:[0,0,4,0]}})).withConfig({displayName:"assistantModal__ModalContent",componentId:"sc-nobbii-0"})(["box-shadow:0 18px 28px rgba(0,0,0,0.5);"]),V=function(){var e=(0,B.Z)(),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,o.useState)(!1),c=(0,r.Z)(i,2),u=c[0],m=c[1],p=(0,o.useState)(!1),f=(0,r.Z)(p,2),g=f[0],b=f[1],h=(0,B.Z)(),x=(0,r.Z)(h,4),v=x[0],y=x[1],w=x[3],E=(0,l.R3)(),C=(0,r.Z)(E,2),k=C[0],Z=C[1],I=(null===k||void 0===k?void 0:k.alert)||{},S=(0,z.D)(300,(function(e){var t=e.target;return b(t.scrollTop>150&&!(null===I||void 0===I||!I.name))})),O=function(){return Z(null)};return o.createElement(s.Modal,{zIndex:7e3,backdrop:!1},o.createElement(d(),{disabled:u},o.createElement(s.Flex,{column:!0,alignItems:"end",gap:3},!v&&o.createElement(U,{expanded:n,cursor:u?"text":"move",tabIndex:0,onKeyDown:function(e){"Shift"==e.key&&m(!0)},onKeyUp:function(){return m(!1)}},o.createElement(s.ModalHeader,{justifyContent:"between"},o.createElement(s.Flex,{gap:2,alignItems:"center"},o.createElement(s.Icon,{name:"netdataAssistant",color:"text"}),g?o.createElement(P.Z,{type:(null===I||void 0===I?void 0:I.status)||"neutral"},null===I||void 0===I?void 0:I.name):o.createElement(s.H4,null,"Netdata Assistant"),o.createElement(T.Z,{plain:!0,isBasic:!0,align:"top",content:R,zIndex:7050},o.createElement(s.Flex,null,o.createElement(s.Icon,{name:"question",color:"textLite",width:"16px",height:"16px"})))),o.createElement(s.Flex,{gap:2,alignItems:"baseline"},o.createElement(T.Z,{align:"bottom",content:"Minimize window",zIndex:7050},o.createElement(s.Flex,null,o.createElement(s.ModalButton,{iconName:"minimize_s",onClick:y,testId:"assistant-modal-minimize-button"}))),o.createElement(T.Z,{align:"bottom",content:n?"Reduce window size":"Expand window",zIndex:7050},o.createElement(s.Flex,null,o.createElement(s.ModalButton,{iconName:n?"reduceSize":"fullScreen",onClick:a,testId:"assistant-modal-expand-collapse-button"}))),o.createElement(T.Z,{align:"bottom",content:"Close window",zIndex:7050},o.createElement(s.Flex,null,o.createElement(s.ModalCloseButton,{onClose:O,testId:"assistant-modal-close-button"}))))),o.createElement(s.ModalBody,{overflow:{vertical:"auto"},onScroll:S,cursor:u?"text":"default"},o.createElement(_,{selectedAlert:I}))),o.createElement(L,{isMinimized:v,maximize:w,alert:I,onModalClose:O}))))},J=function(){var e=(0,a.UL)(),t=(0,l.R3)(),n=(0,r.Z)(t,2),i=n[0],c=n[1],d=i||{},s=d.roomId,u=d.alert;return(0,o.useEffect)((function(){s!=e&&c(null)}),[s,e]),u&&s==e?o.createElement(V,null):null}},12899:function(e,t,n){n.d(t,{R3:function(){return u},Nu:function(){return m},UD:function(){return s}});var r=n(4480),o=n(26398),a=n(74059),l=n(37518),i=(0,r.cn)({key:"assistantAlert",default:null}),c=(0,r.cn)({key:"assistantAlertsAtom",default:[]}),d=(0,r.CG)({key:"assistantSelector",get:function(e){var t=e.space,n=e.room,r=e.alarm,a=e.node,l=e.chart;return function(){return function(e){var t=e.space,n=e.room,r=e.alarm,a=e.node,l=e.chart;return o.Z.post("/api/v1/troubleshoot",{space:t,room:n,alarm:r,node:a,chart:l})}({space:t,room:n,alarm:r,node:a||"dummy-node-id",chart:l||"dummy-chart-id"})}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),s=function(e){var t,n=e.alarm,o=e.node,i=e.chart,c=(0,a.th)(),s=(0,l.UL)(),u=(0,r.$P)(d({space:c,room:s,alarm:n,node:o,chart:i}));return{loaded:"loading"!==u.state,value:null===(t=u.contents)||void 0===t?void 0:t.data,hasError:"hasError"===u.state}},u=function(){return(0,r.FV)(i)},m=function(){return(0,r.FV)(c)}}}]);