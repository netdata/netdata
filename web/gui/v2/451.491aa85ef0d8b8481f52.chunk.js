!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0d01bfd3-c3ba-4ad6-aeab-50c4df2456f8",e._sentryDebugIdIdentifier="sentry-dbid-0d01bfd3-c3ba-4ad6-aeab-50c4df2456f8")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a952b9c29450da32bc440d9b6d20c20832f13efa"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[451],{51091:function(e,t,a){var n=a(87462),l=(a(88449),a(2490),a(59849),a(57640),a(9924),a(60677)),r=a(10928),c=a.n(r),o=a(67294),i=a(22195);const s=(0,l.default)(i.Box).withConfig({displayName:"breadcrumbs__StyledItemContainer",componentId:"sc-3u39st-0"})([""]),d=(0,l.css)(["&:hover{color:",";}"],(e=>{let{withHover:t,theme:a}=e;return t&&(0,i.getColor)("success")({theme:a})})),u=(0,l.default)(i.Text).withConfig({displayName:"breadcrumbs__StyledText",componentId:"sc-3u39st-1"})(["",""],d),m=(0,l.default)(i.TextSmall).withConfig({displayName:"breadcrumbs__StyledTextSmall",componentId:"sc-3u39st-2"})(["",""],d);t.Z=e=>{let{items:t,isBig:a,showBackButton:l=!0,testid:r="",...d}=e;const g=(0,o.useMemo)((()=>{if(null===t||void 0===t||!t.length||!l)return null;return c()(t.filter((e=>{let{onClick:t}=e;return!!t}))).onClick}),[t,l]);if(null===t||void 0===t||!t.length)return null;const h=a?u:m;return o.createElement(i.Flex,(0,n.Z)({gap:4},d),l&&o.createElement(i.Button,{onClick:g,icon:"chevron_left",label:"Back",neutral:!0,flavour:"hollow",small:!0,padding:[0,2,0,1],textTransform:"uppercase","data-testid":"".concat(r,"-breadcrumbs-backButton")}),o.createElement(i.Flex,{gap:2,alignItems:"center"},t.map(((e,t)=>{let{isDisabled:a,name:l,onClick:c}=e;return o.createElement(s,(0,n.Z)({key:t,alignItems:"center"},c&&{cursor:"pointer",onClick:c},{"data-testid":"".concat(r,"-breadcrumbs-level-").concat(t)}),o.createElement(h,{color:a&&"textLite","data-testid":"".concat(r,"-breadcrumbs-level-").concat(t),withHover:!!c},0!==t&&" / ",l))}))))}},25451:function(e,t,a){a.r(t),a.d(t,{default:function(){return ue}});var n=a(67294),l=a(4480),r=a(99322),c=a(91268),o=a(84074),i=(a(33948),a(46667)),s=a(29814),d=a(72843),u=a(54316);const m={filters:{iconName:"filterList",color:{active:"success",notActive:"textLite"},width:"19px",Content:a(97363).Z,dataTestId:"filterBar",label:"Filters"}},g=["filters"];var h=()=>{const[e,t]=(0,i.Z)(!0),{Content:a}=m.filters;return n.createElement(u.ZP,{collapsedComponent:n.createElement(s.Z,{onClickTab:t,availableTabs:m,tabsToShow:g}),isOpen:e,header:n.createElement(d.Z,{isOpen:e,onToggle:t,title:"Alerts",icon:"alarm"})},n.createElement(a,{flavour:"alerts",padding:[0,3,30]}))},b=a(22195),f=a(96929),C=a(36560),p=a(12008),E=a(597),y=a(78266),v=(a(57640),a(9924),a(87462)),w=a(60677),x=a(20686);const S=(0,w.default)(b.Text).attrs({whiteSpace:"normal",wordBreak:"break-word"}).withConfig({displayName:"tableSchema__TextCell",componentId:"sc-u3gyvm-0"})([""]),I=e=>t=>{let{getValue:a}=t;return n.createElement(S,e,a())},T=(0,w.default)(b.Icon).withConfig({displayName:"tableSchema__StyledIcon",componentId:"sc-u3gyvm-1"})(["vertical-align:middle;"]),N=e=>{let{type:t,value:a,...l}=e;return n.createElement(b.Flex,(0,v.Z)({padding:[0,2]},l,{justifyContent:"center"}),0===a?n.createElement(S,{textAlign:"center"},"-"):n.createElement(x.Z,{type:t,textSize:"normal","data-testid":"alertView-alertPill-".concat(t)},a))},k={id:"chevron",header:"",cell:()=>n.createElement(T,{rotate:2,name:"chevron_left",color:"textDescription"})};var A=[{id:"displayName",accessorKey:"displayName",header:"Alert Name",cell:e=>{let{getValue:t}=e;return n.createElement(S,{"data-testid":"alertName"},t())}},{id:"nodesRunningAlert",accessorKey:"nodeCount",header:"Nodes Running Alert",cell:e=>{let{getValue:t}=e;return n.createElement(S,{textAlign:"center","data-testid":"nodesRunningAlert"},t())}},{id:"alertInstances",accessorKey:"instanceCount",header:"Alert Instances",cell:e=>{let{getValue:t}=e;return n.createElement(S,{textAlign:"center","data-testid":"alertInstances"},t())}},{id:"criticalNodes",accessorKey:"criticalCount",header:"Critical",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"critical",value:t(),"data-testid":"criticalNodes"})}},{id:"warningNodes",accessorKey:"warningCount",header:"Warning",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"warning",value:t(),"data-testid":"warningNodes"})}},{id:"clearNodes",accessorKey:"clearCount",header:"Clear",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"clear",value:t(),"data-testid":"clearNodes"})}},{id:"errorNodes",accessorKey:"errorCount",header:"Error",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"neutral",value:t(),"data-testid":"errorNodes"})}},{id:"uniqueConfigs",accessorKey:"configCount",header:"Configs",cell:e=>{let{getValue:t}=e;return n.createElement(S,{textAlign:"center","data-testid":"uniqueConfigs"},t())}}],V=a(50358),_=a(63860),z=a(97945),K=a(62200);const Z=(0,w.default)(b.TextSmall).withConfig({displayName:"styled__StyledLinkText",componentId:"sc-1y769u1-0"})(["",""],"\n  cursor: pointer;\n  overflow-wrap: break-word;\n  max-width: 140px;\n  &:hover {\n    opacity: 0.7;\n  }\n"),L=(0,w.default)(b.TextSmall).withConfig({displayName:"styled__StyledText",componentId:"sc-1y769u1-1"})(["&:hover{color:",";text-decoration:underline;}"],(0,b.getColor)("accent"));var F=a(38626),R=a(91008);const B=e=>{let{row:t,value:a,openModal:l}=e;const{id:r,displayName:c,info:o}=t.original,i=(0,n.useCallback)((()=>{l({alertId:r})}),[r]);return n.createElement(R.Z,{Component:b.TextSmall,flavour:"tableLink",cursor:"pointer",showToolTip:!0,content:o,onClick:i,"data-testid":"alertsTableSchema-alertName-".concat(a),"data-ga":"alerts-table::click-alert::alerts-view::".concat(a)},c)},M=e=>{let{row:t,nodeId:a}=e;const{id:l}=t.original,r=(0,z.bV)(a,"name"),c=(0,z.WR)(a,{alertId:l});return n.createElement(b.Flex,{width:35,"data-testid":"alertsTableSchema-nodeName-".concat(r),"data-ga":"alerts-table::click-node::alerts-view::".concat(r)},n.createElement(Z,{onClick:c},n.createElement(F.Z,{maxLength:K.sf,text:r,TextComponent:L})))},P=e=>{let{row:t,value:a}=e;const{id:l,nodeId:r}=t.original,c=(0,z.WR)(r,{alertId:l});return n.createElement(b.Flex,{"data-testid":"alertsTableSchema-chart-id-".concat(a),"data-ga":"alerts-table::click-chartId::alerts-view::".concat(a)},n.createElement(Z,{onClick:c},n.createElement(F.Z,{maxLength:25,TextComponent:L,text:a})))},D=e=>{let{openModal:t}=e;return[{id:"status",accessorKey:"status",header:"Status",cell:e=>{let{getValue:t}=e;return n.createElement(x.Z,{type:"".concat(t(),"AlertsTable"),"data-testid":"alertsTable-alertPill","data-ga":"alerts-table::click-status::alerts-view::".concat(t())},t())},size:80,maxSize:80,minSize:80},{id:"name",accessorKey:"displayName",header:"Alert",cell:e=>{let{row:a,getValue:l}=e;return n.createElement(B,{row:a,value:l(),openModal:t})}},{id:"instance",header:"Instance",accessorKey:"instance",cell:e=>{let{row:t,getValue:a}=e;return n.createElement(P,{row:t,value:a()})},minSize:200,maxSize:200,size:200},{id:"nodeName",header:"Node",accessorKey:"nodeId",cell:e=>{let{row:t,getValue:a}=e;return n.createElement(M,{row:t,nodeId:a()})},minSize:200,maxSize:200,size:200},{id:"value",header:"Latest value",accessorKey:"value",cell:e=>{let{row:t,getValue:a}=e;const{status:l,units:r}=t.original;return n.createElement(V.Z,{loaded:!0,status:l,units:r,value:a(),"data-testid":"alertsTableSchema-alertValue","data-ga":"alerts-table::click-alert-value::alerts-view"})},size:120,maxSize:120,minSize:120},{id:"lastUpdated",header:"Updated at",accessorKey:"lastUpdated",cell:e=>{let{getValue:t}=e;return n.createElement(_.Z,{rawTime:t(),secs:!0,"data-testid":"alertsTableSchema-latestUpdated"})}},{id:"lastStatusChangeValue",header:"Triggered value",accessorKey:"lastStatusChangeValue",cell:e=>{let{row:t,getValue:a}=e;const{status:l,units:r}=t.original;return n.createElement(V.Z,{loaded:!0,status:l,units:r,value:a(),"data-testid":"alertsTableSchema-triggeredValue","data-ga":"alerts-table::click-triggered-value::alerts-view"})},size:120,maxSize:120,minSize:120},{id:"lastStatusChange",header:"Triggered at",accessorKey:"lastStatusChange",cell:e=>{let{getValue:t}=e;return n.createElement(_.Z,{rawTime:t(),secs:!0,"data-testid":"alertsTableSchema-lastStatusChange"})}}]};var U=[{id:"name",accessorKey:"displayName",header:"Alert",cell:I({"data-testid":"alertInstanceName"}),minSize:200,maxSize:200,size:200},{id:"instance",header:"Instance",accessorKey:"instance",cell:e=>{let{row:t,getValue:a}=e;return n.createElement(P,{row:t,value:a()})},minSize:200,maxSize:200,size:200},{id:"status",accessorKey:"status",header:"Status",cell:e=>{let{getValue:t}=e;return n.createElement(b.Flex,{padding:[0,2]},n.createElement(x.Z,{type:t(),textSize:"normal","data-testid":"alertView-alertPill-value",border:void 0},t()))},minSize:80,maxSize:80,size:80},{id:"lastStatusChangeValue",accessorKey:"lastStatusChangeValue",header:"Triggered value",cell:e=>{let{getValue:t,row:a}=e;const{status:l,units:r}=a.original;return n.createElement(V.Z,{loaded:!0,status:l,units:r,value:t(),"data-testid":"alertsTableSchema-alertValue"})},minSize:120,maxSize:120,size:120},{id:"lastStatusChange",accessorKey:"lastStatusChange",header:"Triggered at",cell:e=>{let{getValue:t}=e;return n.createElement(_.Z,{rawTime:t(),secs:!0,nowrap:!0})},minSize:120,maxSize:120,size:120}],G=a(61294);var W=()=>{const[{alertName:e,nodeId:t}]=(0,p.__)(),a=(0,p.JU)(e,t),[l,r,,c]=(0,G.Z)(),o=(0,n.useCallback)((e=>r({alertId:e.data.id})),[e,t]);return n.createElement(n.Fragment,null,n.createElement(b.NetdataTable,{data:a,dataColumns:U,onClickRow:o,enableSorting:!0,enableColumnVisibility:!0}),l&&c)};a(25387),a(2490),a(72608),a(88921),a(96248),a(13599),a(11477),a(64362),a(15389),a(90401),a(45164),a(91238),a(54837),a(87485),a(56767),a(76651),a(61437),a(35285),a(39865);var j=[{id:"nodeName",accessorKey:"nodeId",header:"Node Name",cell:e=>{let{getValue:t}=e;const a=(0,z.bV)(t(),"name");return n.createElement(b.Flex,{width:35,"data-testid":"alertsTableSchema-nodeName-".concat(a),"data-ga":"alerts-table::click-node::alerts-view::".concat(a)},n.createElement(F.Z,{maxLength:K.sf,text:a}))}},{id:"nodes",accessorKey:"nodeCount",header:"Node Instances",cell:I({"data-testid":"nodes",textAlign:"center"})},{id:"instances",accessorKey:"instanceCount",header:"Alert Instances",cell:I({"data-testid":"instances",textAlign:"center"})},{id:"critical",accessorKey:"criticalCount",header:"Critical",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"critical",value:t()})}},{id:"warning",accessorKey:"warningCount",header:"Warning",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"warning",value:t()})}},{id:"clear",accessorKey:"clearCount",header:"Clear",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"clear",value:t()})}},{id:"error",accessorKey:"errorCount",header:"Error",cell:e=>{let{getValue:t}=e;return n.createElement(N,{type:"neutral",value:t(),"data-testid":"errors"})}},{id:"configs",accessorKey:"configCount",header:"Configs",cell:I({"data-testid":"configs",textAlign:"center"})},k];var H=()=>{const[{alertName:e},t]=(0,p.__)(),a=(0,p.JU)(e),l=(0,n.useCallback)((a=>{t({alertName:e,nodeId:a.data.nodeId})}),[e,t]),r=(0,n.useMemo)((()=>Object.values(a.reduce(((e,t)=>{switch(e[t.nodeId]||(e[t.nodeId]={nodeId:t.nodeId,nodeCount:1,instanceCount:0,criticalCount:0,warningCount:0,clearCount:0,errorCount:0,configCount:0,configs:new Set}),e[t.nodeId].instanceCount=e[t.nodeId].instanceCount+1,t.status){case"warning":e[t.nodeId].warningCount=e[t.nodeId].warningCount+1;break;case"critical":e[t.nodeId].criticalCount=e[t.nodeId].criticalCount+1;break;case"clear":e[t.nodeId].clearCount=e[t.nodeId].clearCount+1;break;default:t.value||(e[t.nodeId].errorCount=e[t.nodeId].errorCount+1)}return e[t.nodeId].configCount=e[t.nodeId].configs.add(t.aci).size,e}),{}))),[a]);return n.createElement(b.NetdataTable,{data:r,dataColumns:j,onClickRow:l,enableSorting:!0,enableColumnVisibility:!0})},J=a(51091);var O=()=>{var e;const[{alertName:t,nodeId:a},l]=(0,p.__)(),r=(0,z.Ne)(a?[a]:[]),c=null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.name,o=(0,n.useMemo)((()=>c?[{name:"All Alert Configs",onClick:()=>{l({alertName:null,nodeId:null})}},{name:t,onClick:()=>{l({alertName:t,nodeId:null})}},{name:c}]:t?[{name:"All Alert Configs",onClick:()=>{l({alertName:null,nodeId:null})}},{name:t}]:null),[t,c,l]);return n.createElement(J.Z,{padding:[2,0,0],items:o,testid:"alertConfigurations"})},q=a(74059),Q=a(37518),$=a(12899);const Y=()=>n.createElement(b.Text,null,"Loading...");var X=()=>{const e=(0,p.w4)(),[{alertName:t,nodeId:a},l]=(0,p.__)(),[,r]=(0,$.Nu)(),c=(0,n.useCallback)((e=>{l({alertName:e.data.name})}),[]),{rowActions:o}=(()=>{const e=(0,Q.UL)(),[,t]=(0,$.R3)(),[,a]=(0,p.__)(),l=(0,q.Q6)();return{rowActions:(0,n.useMemo)((()=>({goto:{handleAction:e=>{let{name:t}=e;return a({alertName:t})},icon:"chevron_right",tooltipText:"Show configuration"},...!l&&{info:{handleAction:a=>t({roomId:e,alert:a}),tooltipText:"Get some help from Netdata Assistant",icon:"netdataAssistant",iconColor:"primary",dataGa:"alerts::click-assistant-icon::active-alerts-table"}}})),[l,t])}})();return(0,n.useEffect)((()=>{const t=e.map((e=>{let{alert:t}=e;return{name:t}}));r(t)}),[e]),n.createElement(b.Flex,{column:!0,gap:4,height:"100%",overflow:"hidden"},n.createElement(O,null),a&&n.createElement(n.Suspense,{fallback:n.createElement(Y,null)},n.createElement(W,null)),!a&&t&&n.createElement(n.Suspense,{fallback:n.createElement(Y,null)},n.createElement(H,null)),!a&&!t&&n.createElement(b.NetdataTable,{data:e,dataColumns:A,enableSorting:!0,enableColumnVisibility:!0,columnPinning:{right:["actions"]},enableColumnPinning:!0,enablePinning:!0,rowActions:o,onClickRow:c}))},ee=a(89250);const te=[{id:"lastStatusChange",desc:!1}];var ae=()=>{const e=(0,E.K)({extraKey:"alerts"}),[,t]=(0,$.Nu)(),[a,l,,r]=(0,G.Z)(),{rowActions:c}=(()=>{const e=(0,ee.s0)(),t=(0,q.uk)(),a=(0,Q.UL)(),[,l]=(0,$.R3)(),r=(0,q.Q6)();return{rowActions:(0,n.useMemo)((()=>r?{}:{goto:{handleAction:()=>{e("/spaces/".concat(t,"/settings/notifications#notificationsActiveTab=1"))},tooltipText:"Go to silencing manager",icon:"alarm_off",dataGa:"alerts-table::click-link-to-manager::active-alerts-table"},info:{handleAction:e=>l({roomId:a,alert:e}),tooltipText:"Get some help from Netdata Assistant",icon:"netdataAssistant",iconColor:"primary",dataGa:"alerts::click-assistant-icon::active-alerts-table"}}),[r,l])}})();return(0,n.useEffect)((()=>{t(e)}),[e]),n.createElement(n.Fragment,null,n.createElement(b.NetdataTable,{enableSorting:!0,enableColumnVisibility:!0,data:e,dataColumns:D({openModal:l}),rowActions:c,sortBy:te,columnPinning:{right:["actions"]},enableColumnPinning:!0,enablePinning:!0}),a&&r)},ne=a(89405);const le=()=>{const e=(()=>{const{localeTimeString:e,localeDateString:t}=(0,ne.rA)(),a=(0,r.uy)("updatedAt");return(0,n.useMemo)((()=>{if(!a)return;const n=new Date(a);return"".concat(t(n,{long:!0})," ").concat(e(n,{secs:!0}))}),[a,e,t])})();return n.createElement(b.Flex,{column:!0,justifyContent:"center",alignItems:"center",gap:4},n.createElement(b.Icon,{name:"checkmark",width:"168px",height:"168px",margin:[13,0,0]}),n.createElement(b.H3,{margin:[10,0,0]},"This room has no active alerts, you are all good!"),n.createElement(b.Text,{margin:[2,0,0,0]},"Visit later or check your notifications"),n.createElement(b.TextSmall,{color:"textLite"},"Last updated at: ",e))};var re=(0,n.memo)(le),ce=a(46189);const oe=()=>n.createElement(b.Flex,{column:!0,justifyContent:"center",alignItems:"center",margin:[12,0,0]},n.createElement("img",{src:"".concat(ce.default.assetsBaseURL,"/img/no-filter-results.png"),alt:"No Filter Results",title:"No Filter Results"}),n.createElement(b.H3,null,"There are no results for these filtering criteria"));var ie=(0,n.memo)(oe);var se=e=>{let{count:t}=e;const a=(0,r.uy)("ids"),l=(0,r.uy)("loaded"),c=(0,p.ER)(a).length;return l?c?t?n.createElement(ae,null):n.createElement(ie,null):n.createElement(re,null):n.createElement(y.Z,{title:"Loading alerts..."})};var de=()=>{const[e,t]=(0,l.FV)(o.p$),a=(0,p.v3)(),r=(0,n.useCallback)((n=>{n===e&&a(),t(n)}),[e,t]),c=(0,E.K)({extraKey:"alerts"}).length,i=(0,p.sb)();return(0,f.fD)()&&!i.length?n.createElement(C.Z,null):n.createElement(b.Tabs,{selected:e,onChange:r,height:"100%",padding:[4,4,0]},n.createElement(b.Tab,{label:n.createElement(b.Text,null,"Active (",c,")"),maxWidth:"100%","data-testid":"alertTabs-activeAlerts"},n.createElement(se,{count:c})),n.createElement(b.Tab,{label:n.createElement(b.Text,null,"Alert Configurations"),maxWidth:"100%","data-testid":"alertTabs-configurations"},n.createElement(n.Suspense,{fallback:n.createElement(y.Z,{title:"Loading alert configurations..."})},n.createElement(X,null))))};var ue=()=>{const e=(0,r.uy)("ids"),t=(0,l.sJ)(o.p$),a=!!e.length&&1!==t;return n.createElement(c.Z,{rightBar:a&&n.createElement(h,null),margin:[0,0,8,0]},n.createElement(de,null))}}}]);