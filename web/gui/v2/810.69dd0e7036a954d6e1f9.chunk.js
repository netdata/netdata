!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6c37eace-6c04-4fe4-aff9-8ffe133abb69",e._sentryDebugIdIdentifier="sentry-dbid-6c37eace-6c04-4fe4-aff9-8ffe133abb69")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a952b9c29450da32bc440d9b6d20c20832f13efa"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[810],{61810:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(33948);var a=n(67294),o=n(2145),i=n(64487),r=n(92501),s=n(13477),d=n(4480),c=n(74059),u=n(18761);const l=(0,d.xu)({key:"currentAgentBearerAtom",default:{token:"",expiration:null,bearerProtection:!0}}),f=(0,d.xu)({key:"checkAgentBearer",default:()=>1});var g=n(7335),w=n(52971),h=n(85456),p=n(78266);const y=(0,o.Z)((()=>Promise.all([n.e(135),n.e(442)]).then(n.bind(n,23442))),"Layout");var m=(0,r.Pf)((()=>{const e=(0,s.Iy)("isLoaded"),t=(0,s.Iy)("email"),n=(0,h.gs)(w.Ew.performanceCookies.id),o=(0,s.jr)(),r=(0,s.Iy)("isAnonymous"),m=(()=>{var e;const t=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.machineGuid;return(0,d.Zl)(f(t))})();return(0,a.useEffect)((()=>{r||m()}),[r]),(0,a.useEffect)((()=>{if(o&&t&&n)try{i.av({id:o,email:t})}catch(e){console.warn("Sentry: unable to set user")}}),[t,n,o]),(0,g.aG)(o),(()=>{var e,t,n;const o=(0,c.Q6)(),i=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.nd,r=null===(t=window.localNetdataRegistry)||void 0===t?void 0:t.mg,s=null===(n=window.localNetdataRegistry)||void 0===n?void 0:n.claimId,[g,w]=(0,d.FV)(f(r)),[{token:h,expiration:p,bearerProtection:y},m]=(0,d.FV)(l({nodeId:i,machineGuid:r,claimId:s}));(0,a.useEffect)((()=>{r&&o&&(p&&1e3*p<(new Date).getTime()-3600||(0,u.op)(i,r,s).then((e=>{let{data:t}=e;m(t),localStorage.setItem("agentJWT",null===t||void 0===t?void 0:t.token)})))}),[r,p,g,o])})(),a.createElement(a.Suspense,{fallback:a.createElement(p.Z,null)},a.createElement(y,{isUserLoaded:e}))}))},52971:function(e,t,n){n.d(t,{Ci:function(){return o},Ew:function(){return r},pD:function(){return i}});var a=n(85456);const o={denied:"denied",granted:"granted"},i={denied:"inactive",granted:"active"},r=(/app\.netdata\.cloud/.test(location.hostname),/testing\.netdata\.cloud/.test(location.hostname),{defaultCookies:{defaultValue:o.granted,description:"These cookies are essential so that you can have the best experience using Netdata Products. Without these cookies Netdata Products may not work as a result. These do not store any personally identifiable data.",disabled:!0,eventName:"necessary",ga:"default-cookies",gmtKeys:["functionality_storage"],handleAccept:()=>{},handleDeny:()=>{},id:"defaultCookies",title:"Necessary"},analyticsCookies:{description:"These cookies are used to understand how visitors interact with Netdata Products. They help provide non-identifiable information on user activities through Netdata Products, which is valuable to help us improve our product.",defaultValue:o.granted,disabled:!1,eventName:"analytical",ga:"analytics-cookies",gmtKeys:["ad_storage","analytics_storage"],handleAccept:()=>{(0,a.vD)()},handleDeny:()=>{(0,a.g2)()},id:"analyticsCookies",title:"Analytical and Tracking"},performanceCookies:{description:"These cookies are used to track the performance and errors you may experience using Netdata Products. These are key for us to monitor the status of the product and easily identify issues.",defaultValue:o.granted,disabled:!1,eventName:"performance",ga:"performance-cookies",gmtKeys:[],handleAccept:()=>{},handleDeny:()=>{},id:"performanceCookies",title:"Performance and error tracking"}});(0,a.ej)(r.defaultCookies.id)},85456:function(e,t,n){n.d(t,{d8:function(){return i},ej:function(){return o},fY:function(){return d},g2:function(){return s},gs:function(){return c},lF:function(){return u},ow:function(){return f},v:function(){return l},vD:function(){return r}});n(68216),n(2490),n(79433),n(25387),n(72608),n(15581),n(34514);var a=n(52971);const o=e=>{var t;return(null===(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")))||void 0===t?void 0:t.pop())||""},i=(e,t,n)=>{(n||window[e])&&(document.cookie="".concat(e,"=").concat(n||window[e],"; Path=/; Domain=").concat(window.envSettings.cookieDomain,"; Expires=").concat(t,";"))},r=()=>{var e,t;null!==(e=(t=window.posthog).has_opted_out_capturing)&&void 0!==e&&e.call(t)&&window.posthog.opt_in_capturing()},s=()=>{window.posthog.has_opted_out_capturing&&!window.posthog.has_opted_out_capturing()&&window.posthog.opt_out_capturing()},d=e=>Object.keys(e).every((t=>e[t]===(!o(t)||c(t)))),c=e=>window.envSettings.tracking&&(!o(e)||o(e)===a.Ci.granted),u=()=>Object.values(a.Ew).reduce(((e,t)=>{let{defaultValue:n,id:i}=t;return{[i]:(o(i)||n)===a.Ci.granted,...e}}),{}),l=e=>{window.gtag&&window.gtag("consent","update",e)},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return new Date(t.setFullYear(t.getFullYear()+e))}},7335:function(e,t,n){n.d(t,{aG:function(){return p},H3:function(){return g},XU:function(){return y},DH:function(){return h},z2:function(){return f},lL:function(){return w}});n(57640),n(9924),n(25387),n(2490),n(72608),n(88449),n(59849),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(31672),n(59461);var a=n(67294),o=n(4480),i=n(89250),r=n(13477),s=(0,o.xu)({key:"visitedNodes",default:()=>[]}),d=n(97945),c=n(18761),u=n(78710);const l=(0,o.CG)({key:"visitedNodeIdsValue",get:e=>t=>{let{get:n}=t;return n(s(e)).map((e=>{let{id:t}=e;return t}))}}),f=()=>{const e=(0,r.jr)(),t=(0,o.sJ)(s(e)),n=(0,o._8)((e=>{let{set:t}=e;return e=>{t(d.Jz,{values:e.reduce(((e,t)=>({...e,[t.id]:{...t,loaded:!0}})),{}),merge:!0})}}),[]);return(0,a.useEffect)((()=>{n(t)}),[t]),(0,o.sJ)(l(e))},g=e=>{const t=(0,r.jr)(),n=(0,o.sJ)(s(t)),i=(0,a.useMemo)((()=>e?n.filter((t=>t.name.toUpperCase().includes(e.toUpperCase()))):n),[n,e]);return(0,a.useMemo)((()=>i.map((e=>e.id))),[i])},w=()=>(0,o._8)((e=>{let{snapshot:t,set:n}=e;return async(e,a)=>{const o=await t.getPromise((0,r.KL)("id")),{urls:i,name:u}=await t.getPromise((0,d.zP)({id:e})),l=i.filter((e=>e!==a));n((0,d.zP)({id:e,key:"urls"}),l),l.length||n(s(o),(t=>t.filter((t=>t.id!==e))));try{await(l.length?(0,c.RX)(o,e,u,l):(0,c.Sd)(o,[e])),(0,c.Wy)(o,e).catch((()=>{}))}catch(f){n((0,d.zP)({id:e,key:"urls"}),i)}}}),[]),h=()=>{const{pathname:e}=(0,i.TH)(),t=(0,r.jr)(),n=p(t,{autoFetch:!1});return(0,o._8)((e=>{let{snapshot:t,set:a}=e;return async(e,o,i)=>{if(await t.getPromise((0,r.KL)("isAnonymous")))return;const u=await t.getPromise((0,r.KL)("id")),{urls:l,name:f}=await t.getPromise((0,d.zP)({id:e}));let g=o?[o,...l]:l;g=[...new Set([window.location.href,...g])];const w=g.length!==l.length;try{a((0,d.zP)({id:e,key:"urls"}),g),a(s(u),(t=>{const n=t.find((t=>t.id===e)),a=t.filter((t=>t.id!==e));return n?[{...n,accessCount:n.accessCount+1,lastAccessTime:(new Date).toISOString()},...a]:[{accessCount:1,id:e,lastAccessTime:(new Date).toISOString(),urls:g,name:i},...a]})),w&&await(0,c.RX)(u,e,i||f,g),n(),await(0,c.Wy)(u,e)}catch(h){a((0,d.zP)({id:e,key:"urls"}),l)}}}),[n,e,t])},p=function(e){let{autoFetch:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[,n]=(0,o.FV)(s(e)),[i,r]=(0,a.useState)(0),d=(0,a.useCallback)((()=>{r((e=>e+1))}),[r]);return(0,a.useEffect)((()=>{e&&(t||i)&&(0,c.Fz)(e).then((e=>{if(!e||u.ZP)return;const{data:{results:t}}=e,a=t.sort(((e,t)=>new Date(t.lastAccessTime)-new Date(e.lastAccessTime)));n(a)}))}),[t,i,e]),d},y=()=>{const e=(0,r.jr)(),t=s(e);return(0,o._8)((e=>{let{snapshot:n,set:a}=e;return async e=>{const o=(await n.getPromise((0,d.$E)(e))).map((e=>e.machineGUID)),i=await n.getPromise(t),r=i.filter((e=>!o.includes(e.id)));r.length!==i.length&&a(t,r)}}),[e])}}}]);