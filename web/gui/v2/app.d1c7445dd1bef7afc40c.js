!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="422b47e5-53e2-4427-802a-0cc55c369d3c",e._sentryDebugIdIdentifier="sentry-dbid-422b47e5-53e2-4427-802a-0cc55c369d3c")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a952b9c29450da32bc440d9b6d20c20832f13efa"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[143],{41331:function(e,t,n){"use strict";n.d(t,{hX:function(){return r}});n(68216),n(2490),n(79433),n(88449),n(59849),n(64211),n(41874);const r=(e,t)=>{let{omit:n=[],keep:r=[]}=t;return n.length||r.length?e.filter((e=>r.length?r.includes(e):!n.includes(e))):e},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const o=r(Object.keys(e),n),i=r(Object.keys(t),n);if(o.length!==i.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);return!o.some((r=>!c(r)||(e[r]!==t[r]||!a(e[r],t[r],n))))};t.ZP=a},38609:function(e,t,n){"use strict";n(25387),n(2490),n(72608),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865);var r=n(41331);const a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e===t||"object"!==typeof e||null===e||"object"!==typeof t||null===t?t:Array.isArray(t)?((e,t,n)=>{const o=(0,r.hX)(e,n);return o.reduce(((e,t,r)=>(e.push(a(t,o[r],n)),e)),[])})(e,0,n):((e,t,n)=>{const o=(0,r.hX)([...new Set([...Object.keys(e),...Object.keys(t)])],n),i=Object.prototype.hasOwnProperty.bind(t);return o.reduce(((r,o)=>(i(o)?r[o]=a(e[o],t[o],n):r[o]=e[o],r)),{})})(e,t,n)};t.Z=a},58591:function(e,t,n){"use strict";n.d(t,{bp:function(){return p},kG:function(){return m},m$:function(){return l},np:function(){return g},xs:function(){return f}});n(25387),n(2490),n(72608),n(57640),n(9924),n(33948);var r=n(59242),a=n.n(r),o=n(82492),i=n.n(o),c=n(57557),s=n.n(c);const u=/[&;]/,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:decodeURIComponent(window.location.hash.substr(1));if(0===e.length)return{};return e.split(u).reduce(((e,t)=>{const n=t.indexOf("=");if(-1!==n){e[t.substring(0,n)]=t.substring(n+1)}return e}),{})},d=e=>{const t=Object.entries(e);return 0===t.length?"":t.map((e=>{let[t,n]=e;return"".concat(t,"=").concat(encodeURIComponent(n))})).join("&")},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent(window.location.hash.substr(1));const n=s()(l(t),e);return d(n)},f=(a()([l,d]),e=>{const t=l();i()(t,e);const n="#".concat(d(t)),r=history.state;location.hash=n,history.replaceState(r,"",n)}),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent(window.location.hash.substr(1));return l(t)[e]},p=e=>{history.replaceState(history.state,"","#".concat(m(e)))}},78710:function(e,t,n){"use strict";n.d(t,{xZ:function(){return p},Fb:function(){return g},aD:function(){return f},HM:function(){return m},Xh:function(){return d},ZP:function(){return b},vT:function(){return h},iM:function(){return s},Ly:function(){return v},tj:function(){return u},se:function(){return l}});n(15306);var r=n(75674);var a,o,i;const c=(null===(a=window.envSettings)||void 0===a?void 0:a.isAgent)||!1,s=()=>{var e;return c&&!(null!==(e=window.localNetdataAgent)&&void 0!==e&&e.cloudEnabled)},u=/\/(spaces|nodes|overview|alerts|dashboards|anomalies|events|cloud)\/?.*/,l=c?window.location.pathname.replace(u,""):"/",d=(null===(o=window.localNetdataRegistry)||void 0===o?void 0:o.hostname)||"agent",m=(null===(i=window.localNetdataRegistry)||void 0===i?void 0:i.mg)||"agent",f={createdAt:"",description:"",iconURL:"",id:m,error:null,loaded:!0,name:d,slug:d,permissions:{"user:ChangeName":"user:ChangeName","user:ChangeTheme":"user:ChangeTheme","user:ChangeEmailSetting":"user:ChangeEmailSetting","user:ChangeSpaceRoomNotifications":!1,"user:AddAPIToken":"user:AddAPIToken","user:DeleteAPIToken":"user:DeleteAPIToken","user:ReplaceAPIToken":"user:ReplaceAPIToken","user:CreateSpace":"user:CreateSpace","user:UpdateVisitedNodes":"user:UpdateVisitedNodes","space:Read":"space:Read","space:UpdateMeta":"space:UpdateMeta","room:ReadUsers":"room:ReadUsers","room:ReadAll":"room:ReadAll","room:Read":"room:Read","alert:ReadAll":"alert:ReadAll","function:ReadAll":"function:ReadAll","function:ExecAll":"function:ExecAll","function:Exec":"function:Exec","function:ExecPrivileged":"function:ExecPrivileged","feed:ReadBasic":"feed:ReadBasic","feed:ReadManagement":"feed:ReadManagement","billing:ReadAll":"billing:ReadAll","billing:ReadBasic":"billing:ReadBasic","visitedNodes:Update":"visitedNodes:Update","visitedNodes:ReadAll":"visitedNodes:ReadAll"}},g="local",p={...r.Z,id:g,slug:g,name:g,loaded:!0,fullyLoaded:!0,spaceId:m,untouchable:!1},h="overview",v=e=>c&&e===m;var b=c},2145:function(e,t,n){"use strict";var r=n(67294);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n="refreshed-after-lazy-import",a=t?"".concat(t,"-").concat(n):n;return(0,r.lazy)((async()=>{const t=JSON.parse(window.sessionStorage.getItem(a)||"false");try{const t=await e();return window.sessionStorage.setItem(a,"false"),t}catch(n){if(!t)return window.sessionStorage.setItem(a,"true"),window.location.reload();throw n}}))}},66152:function(e,t,n){"use strict";n.d(t,{Tg:function(){return f},k5:function(){return m},v:function(){return d}});n(15306),n(57640),n(9924),n(25387),n(2490),n(72608);const r=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),a=e=>e.replace(/([_][a-z])/g,(e=>e[1].toUpperCase())),o=e=>e.replace(/([\s\-_][a-z])/g,(e=>e[1].toUpperCase())),i=[],c=(e,t,n)=>({...e,[r(t)]:n}),s=(e,t,n)=>({...e,[a(t)]:n}),u=(e,t,n)=>({...e,[o(t)]:n}),l=(e,t)=>{let{func:n,action:r,omit:a=i,depth:o=0}=t;return o-=1,o?Array.isArray(e)?e.map((e=>n(e,{omit:a}))):"object"===typeof e&&e?Object.keys(e).reduce(((t,o)=>{if(a.includes(o))return{...t,[o]:e[o]};const i=n(e[o],{omit:a});return r(t,o,i)}),{}):e:e},d=function(e){let{omit:t,depth:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,{func:d,action:c,omit:t,depth:n})},m=function(e){let{omit:t,depth:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,{func:m,action:s,omit:t,depth:n})},f=function(e){let{omit:t,depth:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(e,{func:f,action:u,omit:t,depth:n})}},26398:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});n(33948);var r=n(52861),a=n(46189),o=n(78710);n(15306);var i=(e,t,n)=>{const r=n.includes("join-callback")?n:encodeURIComponent(n);return"".concat(t).concat(t?"&":"?","cloudRoute=").concat(e).concat(r)};const c=e=>t=>{try{const n=JSON.parse(t||"{}");if(n.errorMsgKey)throw n;return e?e(n):n}catch(n){return n}},s=e=>e,u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const a=e(...n),c=a.catch((e=>{var t,r;if(401!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||null!==e&&void 0!==e&&null!==(r=e.config)&&void 0!==r&&r.allow401)throw e;if(o.ZP){const t=window.location.origin+window.location.pathname.replace(o.tj,"");if(n[1].baseURL===window.envSettings.agentApiUrl)throw e;return void(window.location.href="".concat(window.envSettings.cloudUrl,"/trust?redirect_uri=").concat(encodeURIComponent(window.location.href),"&agent_uri=").concat(encodeURIComponent(t||window.envSettings.agentApiUrl)))}const{pathname:a,search:c,hash:s}=window.location;if(!/(sign-(in|up)|join-space)/.test(a))return window.location.replace("".concat(o.ZP?window.envSettings.cloudUrl:"","/sign-in").concat(i(a,c,s)))}));return c.cancel=a.cancel,c})((function(n){for(var i,u=arguments.length,l=new Array(u>1?u-1:0),d=1;d<u;d++)l[d-1]=arguments[d];const[m,f={}]=t?l:[null,l[0]],g=r.Z.CancelToken.source(),{transform:p=s}=f,h=localStorage.getItem("netdataJWT"),v=localStorage.getItem("agentJWT"),b=f.baseURL||a.default.apiBaseURL||"",y=((n,a)=>t?r.Z[e](n,m,a):r.Z[e](n,a))(n,{...f,baseURL:b,transformResponse:[c(p)],cancelToken:g.token,...(!!h||!!v)&&{headers:{...null===f||void 0===f?void 0:f.headers,.../netdata\.cloud/.test(b)&&{Authorization:"Bearer ".concat(h)},...b===window.envSettings.agentApiUrl&&v&&"undefined"!==v&&{Authorization:"Bearer ".concat(v)}}}}),S=y.catch((e=>{throw e.isCancel=r.Z.isCancel(e),e}));S.cancel=()=>g.cancel();const A=null===(i=n.match(/\/spaces\/(.+?)\//))||void 0===i?void 0:i[1];return(0,o.Ly)(A)&&S.cancel(),S}))};var l={get:u("get"),post:u("post",!0),patch:u("patch",!0),put:u("put",!0),delete:u("delete"),deleteWithParams:u("delete",!0)}},16634:function(e,t){"use strict";t.Z=e=>{if(!e.response){const t=500,n=e.message||"Something went wrong";return{errorCode:t,errorMessage:n,errorMsgKey:t,status:t,statusText:n}}const{data:{errorCode:t,errorMessage:n,errorMsgKey:r},status:a,statusText:o}=e.response;return{errorCode:t,errorMessage:n,errorMsgKey:r,status:a,statusText:o}}},28234:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});n(10072),n(23042),n(99137),n(71957),n(96306),n(103),n(74592),n(58276),n(35082),n(12813),n(18222),n(38563),n(50336),n(7512),n(33948);const r=new Map([["ErrParsingRequestBody","Bad Request"],["ErrUntrustedRedirectURI","Untrusted Redirect URI"],["ErrInternalServerError","Internal Server Error"],["ErrUnauthenticated","User Not Authenticated"],["ErrInvalidLastUpdatedRange","Invalid Time Selection"],["ErrForbidden","Forbidden"],["ErrInvalidEmail","Invalid E-mail"],["ErrInvalidRedirectURI","Invalid Redirect URI"],["ErrMissingStateCookie","Missing Authentication Cookie"],["ErrIncorrectChallengeResponse","Incorrect Response"],["ErrAccountDeleted","Account Deleted!"],["ErrInvalidAccountID","Invalid Account ID"],["ErrVisitedNodeNotFound","Node Not Found"],["ErrAccountIsTheLastMemberOfAPaidSpace","Cannot delete account"],["ErrWworkspaceSlugTaken","Space Slug Unavailable"],["ErrInvalidWorkspaceName","Bad Space Name"],["ErrNotWorkspaceMember","User is not a Space member"],["ErrInvalidWorkspaceID","Invalid Space ID"],["ErrWorkspaceNotFound","No Space Found"],["ErrSpaceSlugTaken","Space Slug Unavailable"],["ErrInvalidSpaceName","Invalid Space Name"],["ErrNotSpaceMember","Not a Space Member"],["ErrForbiddenNotAdmin","Not a Space Admin"],["ErrLastSpaceAdmin","Last Admin In Space"],["ErrLastSpaceMember","Last Member In Space"],["ErrInvalidSpaceID","Bad Space ID"],["ErrInvalidMemberID","Bad Member ID"],["ErrForbiddenNotMember","Not a Member"],["ErrMissingMemberIDs","No Member IDs Given"],["ErrSpaceNotFound","Space Not Found"],["ErrSpaceMemberNotFound","Space Member Not Found"],["ErrMissingTokenIDs","Token ID Not Found"],["ErrInvalidRole","Invalid Member Role"],["ErrCannotLeaveSpace","Cannot Leave Space"],["ErrInvalidSpaceDescription","Invalid Space Description"],["ErrInvalidEmailDomain","Invalid Email Domain"],["ErrCanNotDeletePaidSpace","Cannot delete paid space"],["ErrAgentCanceledBigResponse","Agent's response is too big"],["ErrAgentExpired","Agent is overloaded"],["ErrAgentTimeout","Timeout waiting agent response"],["ErrAlreadyClaimed","Node Already Claimed"],["ErrContextNotFound","Node doesn't have the requested context"],["ErrInternal","Internal server error"],["ErrInvalidNodeID","Invalid Node ID"],["ErrMissingNodeIDs","No Node IDs Given"],["ErrNoData","Node doesn't have data for the requested period"],["ErrNodeNotFound","Node Not Found"],["ErrNodeUnreachable","Unreachable Node"],["ErrUnreachable","Node is unreachable"],["ErrRoomNameExist","Room Name Already Exists"],["ErrInvalidRoomName","Invalid Room Name"],["ErrRoomNotFound","Room Not Found"],["ErrInvalidRoomID","Invalid Room ID"],["ErrRoomNameTaken","Room Name Unavailable"],["ErrContextNotFound","Context Not Found"],["ErrNodeContextNotFound","Metric Context Not Found"],["ErrInvalidContextID","Invalid Metric Context ID"],["ErrForbiddenNotRoomMember","Not a Room Member"],["ErrUntouchableRoom","Room Cannot Be Changed"],["ErrRoomCannotBeDefault","Private Room Cannot Be Set As Default"],["ErrInvalidRoomDescription","Invalid Room Description"],["ErrRoomMemberAlreadyExists","Member Already Exists In Room"],["ErrAllowedMembersIncreased","Space member limit"],["ErrPendingInvitationsLimitReached","Pending invitations limit"],["ErrSpaceMembersLimitReached","Space member limit"],["Network Error","No internet connection"],["Timeout","Timeout"],["default","Something went wrong"]]),a=e=>r.has(e)?r.get(e):r.get("default")},91008:function(e,t,n){"use strict";var r=n(87462),a=n(67294),o=n(79655),i=n(60677),c=n(22195),s=n(82351);const u={default:{initial:"primary",visited:"accent",hover:"primary"},tableLink:{initial:"text",visited:"text",hover:"primary"}},l=e=>(0,i.default)(e).withConfig({displayName:"anchor__withAnchor",componentId:"sc-oaxxs6-0"})(["",""],(e=>{let{disabled:t,color:n,hoverColor:r,disabledColor:a,visitedColor:o,theme:i,flavour:s="default"}=e;return t?(e=>{var t,n,r;let{disabledColor:a,color:o,theme:i,flavour:s,visitedColor:l}=e;return"\n  color: ".concat((0,c.getColor)(a||o||(null===(t=u[s])||void 0===t?void 0:t.initial))({theme:i}),";\n  ").concat(a?"":"opacity: 0.4;","\n  pointer-events: none;\n\n  & > svg > use {\n    fill: ").concat((0,c.getColor)(a||o||(null===(n=u[s])||void 0===n?void 0:n.initial))({theme:i}),";\n  }\n  \n  &:visited {\n    color: ").concat((0,c.getColor)(l||a||o||(null===(r=u[s])||void 0===r?void 0:r.visited))({theme:i}),";\n  }\n")})({disabledColor:a,color:n,theme:i,flavour:s}):(e=>{var t,n,r,a,o,i;let{color:s,theme:l,hoverColor:d,visitedColor:m,flavour:f}=e;return"\n  color: ".concat((0,c.getColor)(s||(null===(t=u[f])||void 0===t?void 0:t.initial))({theme:l}),";\n  & > svg > use {\n    fill: ").concat((0,c.getColor)(s||(null===(n=u[f])||void 0===n?void 0:n.initial))({theme:l}),";\n  }\n  &:hover {\n    color: ").concat((0,c.getColor)(d||(null===(r=u[f])||void 0===r?void 0:r.hover))({theme:l})," !important;\n    & > svg > use {\n      fill: ").concat((0,c.getColor)(d||(null===(a=u[f])||void 0===a?void 0:a.hover))({theme:l})," !important;\n    }\n  }\n  &:visited {\n    color: ").concat((0,c.getColor)(m||s||(null===(o=u[f])||void 0===o?void 0:o.visited))({theme:l}),";\n    & > svg > use {\n      fill: ").concat((0,c.getColor)(m||s||(null===(i=u[f])||void 0===i?void 0:i.visited))({theme:l}),";\n    }\n  }\n  cursor:pointer\n")})({color:n,theme:i,hoverColor:r,visitedColor:o,flavour:s})})),d=l("a"),m=l((0,a.forwardRef)(((e,t)=>{let{alignItems:n,disabledColor:i,color:c,flavour:s,hoverColor:u,visitedColor:l,gap:d,strong:m,...f}=e;return a.createElement(o.rU,(0,r.Z)({ref:t},f))}))),f=e=>e.preventDefault();var g;t.Z=(g=e=>{let{Component:t=c.Text,as:n="a",disabled:o,onClick:i,to:s,href:u,isBasic:l,...g}=e;return a.createElement(t,(0,r.Z)({as:"a"===n?d:m,disabled:o,onClick:o?f:i},s&&!o&&{to:s},u&&!o&&{href:u},g))},e=>{let{boxProps:t,showToolTip:n,content:r,align:o,isBasic:i,...u}=e;return n?a.createElement(s.Z,{plain:!0,content:r,align:o,isBasic:i},a.createElement(c.Box,t,a.createElement(g,u))):a.createElement(g,u)})},92501:function(e,t,n){"use strict";n.d(t,{NY:function(){return c},Pf:function(){return l}});var r=n(24975),a=n(67294),o=n(22195),i=n(91008);const c=e=>{let{title:t="Oops, something unexpected happened!",message:n=""}=e;return a.createElement(o.Flex,{alignItems:"center",justifyContent:"center","data-testid":"error-boundary",flex:!0},a.createElement(o.Flex,{flex:!0,column:!0,alignItems:"center",gap:4,width:{max:115}},a.createElement(o.H3,null,t),!!n&&a.createElement(o.Text,null,n),a.createElement(o.Text,null,"We track these errors automatically, but if the problem persists feel free to contact us with a"," ",a.createElement(i.Z,{href:"https://github.com/netdata/netdata-cloud/issues/new/choose",target:"_blank",rel:"noopener noreferrer"},"ticket"),", a"," ",a.createElement(i.Z,{href:"https://community.netdata.cloud/",target:"_blank",rel:"noopener noreferrer"},"post in the forum")," ","or through"," ",a.createElement(i.Z,{href:"https://discord.com/invite/mPZ6WZKKG2",target:"_blank",rel:"noopener noreferrer"},"Discord"),"."),a.createElement(o.Text,null,"In the meantime you can refresh this page"),a.createElement(o.Button,{label:"Refresh",icon:"refresh",onClick:()=>window.location.reload(),"data-ga":"error-boundary::click-reload::reload-on-error","data-testid":"error-boundary-reload"})))};class s extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.log(e,t)}render(){return this.state.hasError?a.createElement(c,null):this.props.children}}class u extends r.SV{}u.defaultProps={fallback:c};const l=e=>{const t=window.envSettings.tracking?u:s;return n=>a.createElement(t,{fallback:c},a.createElement(e,n))};t.ZP=u},14600:function(e,t,n){"use strict";n.d(t,{E:function(){return s},K:function(){return i}});n(15306),n(25387),n(2490),n(72608),n(33948),n(15581),n(34514);const r=[{value:"Dateline Standard Time",abbr:"DST",text:"International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",text:"Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",text:"Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",text:"Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",text:"Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Standard Time",abbr:"PST",text:"Pacific Time (US & Canada)",utc:["America/Los_Angeles","America/Dawson","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",text:"Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",text:"Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",text:"Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",text:"Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",text:"Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",text:"Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",text:"Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",text:"Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",text:"Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",text:"Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",text:"Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",text:"Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",text:"Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",text:"Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",text:"Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",text:"Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",text:"Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",text:"Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",text:"Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",text:"Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",text:"Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",text:"Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",text:"Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",text:"Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",text:"Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",text:"Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",text:"Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",text:"Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",text:"Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",text:"Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",text:"Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",text:"Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",text:"Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",text:"Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",text:"Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",text:"Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",text:"West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",text:"Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",text:"Athens, Bucharest",utc:["Europe/Athens","Asia/Nicosia","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",text:"Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",text:"Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",text:"Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",text:"E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",text:"Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",text:"Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",text:"Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",text:"Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",text:"Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",text:"Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",text:"Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",text:"Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",text:"Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",text:"Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",text:"Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",text:"Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",text:"Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",text:"Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",text:"Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",text:"Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",text:"Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",text:"Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",text:"Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",text:"Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",text:"Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",text:"Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",text:"Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"India Standard Time",abbr:"IST",text:"Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Calcutta"]},{value:"Sri Lanka Standard Time",abbr:"SLST",text:"Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",text:"Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",text:"Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",text:"Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",text:"Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",text:"Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",text:"Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",text:"Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",text:"Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",text:"Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",text:"Perth",utc:["Australia/Perth","Antarctica/Casey"]},{value:"Taipei Standard Time",abbr:"TST",text:"Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",text:"Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",text:"Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",text:"Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",text:"Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",text:"Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",text:"Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",text:"Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",text:"Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",text:"Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",text:"Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",text:"Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",text:"Solomon Is., New Caledonia",utc:["Etc/GMT-11"]},{value:"Vladivostok Standard Time",abbr:"VST",text:"Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",text:"Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",text:"Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",text:"Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",text:"Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",text:"Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",text:"Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",text:"Samoa",utc:["Pacific/Apia"]}],a=new Date,o=()=>{try{const e=new Intl.DateTimeFormat("default",{});return e.resolvedOptions().timeZone||"Etc/GMT"}catch(e){return"Etc/GMT"}},i=(()=>{const e={};return r.reduce(((t,n)=>{const{utc:r}=n;try{const o=new Intl.DateTimeFormat("fr",{timeZone:r[0],timeZoneName:"short"}).format(a),[i]=o.match(/[\u2212+].+/)||[],c=(e=>e?e.replace("\u2212","-"):"")(i);if(e[c])return t.concat({...n,offset:e[c]});const s=(e=>{if(!e)return"+0";const t=e.split(":");return t.length>1?"".concat(t[0]).concat((t[1]/60).toString().substr(1)):t[0]})(c);return e[c]=s,t.concat({...n,offset:s})}catch(o){return t}}),[])})().sort(((e,t)=>e.offset-t.offset)),c=(e=>e.reduce(((e,t)=>{let{utc:n,...r}=t;return n.forEach((t=>e[t]={...r,utc:t})),e}),{}))(i),s=(e,t)=>{const n=t||("default"===e?o():e);return c[n in c?n:o()]||{}}},98469:function(e,t,n){"use strict";n.r(t),n.d(t,{isTryingToJoinWorkspace:function(){return u}});n(33948),n(41637);var r=n(67294),a=n(89250),o=n(62200),i=n(78266),c=n(13477),s=n(33427);const u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").includes("/join-space")},l="Successfully joined space!";t.default=()=>{const e=(0,c.Iy)("isAnonymous"),t=(0,a.s0)(),n=new URLSearchParams(window.location.hash.substr(1));return(0,r.useEffect)((()=>{if(e)return;const r=n.has("error_msg_key")?decodeURIComponent(n.get("error_msg_key")||""):null;if(r){const e=n.has("error_message")?decodeURIComponent(n.get("error_message")||""):null;r===o.Sq?(0,s.P4)(l):(0,s.P4)(e||"Error joining space",!0),t("/spaces",{replace:!0})}else(0,s.P4)(l)}),[e]),r.createElement(i.Z,{title:"Adding you to the space..."})}},78266:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var r=n(87462),a=n(67294),o=n(60677),i=n(22195);const c=(0,o.keyframes)(["from{opacity:0.4;}to{opacity:1;}"]),s=(0,o.default)(i.Icon).withConfig({displayName:"loader__StyledIcon",componentId:"sc-a76ek6-0"})(["width:",";height:",";animation:",";"],(e=>e.width),(e=>e.height),(e=>{let{animate:t}=e;return t?(0,o.css)([""," 1.6s ease-in infinite"],c):""})),u=e=>{let{title:t="Loading",width:n="208px",height:o="177px",...i}=e;return a.createElement(s,(0,r.Z)({name:"netdata",color:"primary",title:t,"data-testid":"loading-logo",width:n,height:o},i))};t.Z=e=>{let{title:t,body:n,iconProps:o,animate:c=!0,...s}=e;return a.createElement(i.Flex,(0,r.Z)({column:!0,height:"100vh",background:"mainBackground",width:"100%",justifyContent:"center",alignItems:"center"},s),a.createElement(u,(0,r.Z)({},o,{animate:c})),t&&a.createElement(i.H3,{color:"text",margin:[1,0,0]},t),n&&a.createElement(i.Text,{color:"text",margin:[4.5,0,0]},n))}},74855:function(e,t,n){"use strict";n.d(t,{P_:function(){return s},sc:function(){return l},t_:function(){return u}});var r=n(87462),a=n(67294),o=n(22195),i=n(28234);const c={success:"success",error:"error",warning:"warning",default:"border"},s=e=>{const{header:t,text:n,icon:r,renderContent:i,success:s,error:u,warning:l}=e,d=(s?"success":u&&"error")||l&&"warning"||"default";return a.createElement(o.Flex,{padding:[2],alignItems:"center",justifyContent:"between"},a.createElement(o.Flex,{alignItems:"center",gap:3},r&&a.createElement(o.Flex,{flex:!1},a.createElement(o.Icon,{color:c[d],name:r,size:"large"})),a.createElement(o.Flex,{column:!0,gap:1},t&&a.createElement(o.H5,{color:c[d]},t),n&&a.createElement(o.TextSmall,{color:c[d]},n),i&&i(e))),a.createElement(o.Flex,null,a.createElement(o.Icon,{name:"x",size:"large",color:c[d]})))},u=e=>{let{errorCode:t,errorMessage:n,errorMsgKey:o,...c}=e;return a.createElement(s,(0,r.Z)({error:!0,icon:"error",text:n,header:(0,i.r)(o)},c))},l=e=>a.createElement(s,e)},33427:function(e,t,n){"use strict";n.d(t,{$T:function(){return i},FR:function(){return f},OU:function(){return s},P4:function(){return l},Q5:function(){return o},R6:function(){return m},aN:function(){return u},cH:function(){return g},iL:function(){return d},oG:function(){return c}});var r=n(52631),a=n(74855);const o=e=>{const t={header:"Nodes",text:e},n=(0,a.sc)({...t,success:!0,icon:"node"});r.Z.success(n,{context:"showNodesNotification"})},i=e=>{const t={header:"Rooms",text:e},n=(0,a.sc)({...t,success:!0,icon:"space"});r.Z.success(n,{context:"showRoomsNotification"})},c=function(e){const t={header:"Room users",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Users left the room!":"Users were added to room!")},n=(0,a.sc)({...t,success:!0,icon:"space"});r.Z.success(n,{context:"showUsersInRoomNotification"})},s=function(e){const t={header:"Space users",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Users left the space!":"Users were added to space!")},n=(0,a.sc)({...t,success:!0,icon:"space"});r.Z.success(n,{context:"showUsersInSpaceNotification"})},u=function(e){const t={header:"Rooms",text:e||(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Rooms removed from Space!":"Rooms were added to Space!")},n=(0,a.sc)({...t,success:!0,icon:"space"});r.Z.success(n,{context:"showRoomsInSpaceNotification"})},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={header:t?"Error joining space":"Welcome!",text:e},o=(0,a.sc)({...n,success:!t,icon:"gear"});t?r.Z.error(o,{context:"showJoiningSpaceNotification"}):r.Z.success(o,{context:"showJoiningSpaceNotification"})},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={header:t?"Space removed":"Space added",text:e},o=(0,a.sc)({...n,success:!t,icon:"gear"});r.Z.success(o,{context:"showSpaceNotification"})},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={header:t?"Error creating room":"Rooms",text:e},o=(0,a.sc)({...n,success:!t,icon:"gear"});t?r.Z.error(o,{context:"showRoomCreationNotification"}):r.Z.success(o,{context:"showRoomCreationNotification"})},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={text:e},o=(0,a.sc)({...n,text:e,success:!t,icon:"chart_added"});t?r.Z.error(o,{context:"showDashboardCreatedNotification"}):r.Z.success(o,{context:"showDashboardCreatedNotification"})},g=()=>{const e=(0,a.sc)({header:"Dashboard",text:"Invalid dashboard link. Please double-check the dashboard you are trying to access.",success:!1});r.Z.error(e,{context:"showInvalidDashboardSlugNotification"})}},52631:function(e,t,n){"use strict";var r=n(55678);const a={position:r.Am.POSITION.BOTTOM_RIGHT,autoClose:1e4,pauseOnFocusLoss:!1},o={};t.Z={success:function(e){let{context:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&o[t]&&(r.Am.dismiss(o[t]),delete o[t]),o[t]=r.Am.success(e,{...a,...n})},error:function(e){let{context:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&o[t]&&(r.Am.dismiss(o[t]),delete o[t]),o[t]=r.Am.error(e,{...a,...n})},dismiss:e=>r.Am.dismiss(e)}},9058:function(e,t,n){"use strict";n.d(t,{Z:function(){return g},e:function(){return f}});n(33948),n(15581),n(2490),n(34514);var r=n(67294),a=n(33937),o=n(48286),i=n(25382),c=n(24298),s=n(95248),u=n(78710),l=n(58591),d=n(14600);const m=(0,r.createContext)(null),f=()=>(0,r.useContext)(m);var g=e=>{let{children:t}=e,n=(0,a.R)("theme");n=n&&"unspecified"!==n?n:"dark";const[{after:f,before:g,utc:p,highlight:h},v]=(0,s.I0)(),b=function(){let{after:e,before:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useMemo)((()=>{if(e=+e,t=+t,!isNaN(e)&&!isNaN(t)&&e&&t)return{type:"highlight",range:[Math.floor(e/1e3),Math.ceil(t/1e3)]}}),[e,t])}(h),y=(0,r.useMemo)((()=>({after:f<0?f:Math.floor(f/1e3),before:f<0?0:Math.ceil(g/1e3)})),[f,g]),S=(0,r.useMemo)((()=>{const e=(()=>{let{utc:e}=(0,l.m$)();return(0,d.E)("default",e).utc})(),t=(0,i.Z)({attributes:{theme:n,timezone:e,overlays:{...b&&{highlight:b}},...y,agent:u.ZP,width:.8*window.innerWidth,expandable:!1}});return window.netdataSDK=t,t}),[]);return(0,o.Z)((()=>{S.getNodes().forEach((e=>e.updateAttribute("theme",n)))}),[n]),(0,o.Z)((()=>{const e=S.getRoot().getAttribute("timezone");p!==e&&S.getRoot().getApplicableNodes({syncTimezone:!0}).forEach((e=>e.updateAttributes({timezone:p})))}),[p]),(0,o.Z)((()=>{const e=S.getRoot().getAttribute("overlays");if(b)S.getRoot().updateAttribute("overlays",{...e,highlight:b}),S.getRoot().getApplicableNodes({syncHighlight:!0}).forEach((e=>e.updateAttribute("overlays",{...e.getAttribute("overlays"),highlight:b})));else{const t={...e};delete t.highlight,S.getRoot().updateAttribute("overlays",t),S.getRoot().getApplicableNodes({syncHighlight:!0}).forEach((e=>{const t={...e.getAttribute("overlays")};delete t.highlight,e.updateAttribute("overlays",t)}))}}),[b]),(0,r.useEffect)((()=>{const{after:e,before:t}=y;S.getRoot().moveX(e,t)}),[y]),(0,r.useEffect)((()=>(0,c.unregister)(S.getRoot().onAttributeChange("after",(()=>{const{after:e,before:t}=S.getRoot().getAttributes();v({after:e<0?e:1e3*e,before:e<0?0:1e3*t})})),S.getRoot().onAttributeChange("overlays",((e,t)=>{const{highlight:n}=e;if(n===t.highlight)return;const r=null===n||void 0===n?void 0:n.range;if(r){const[e,t]=r;v({highlight:{after:1e3*e,before:1e3*t}})}else v({highlight:{after:null,before:null}})})))),[S]),S?r.createElement(m.Provider,{value:S},t):t}},15794:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var r=n(87462),a=n(67294),o=n(60677),i=n(22195),c=n(33937);const s={light:i.DefaultTheme,dark:i.DarkTheme,unspecified:i.DarkTheme},u=(e,t)=>n=>{let{...r}=n;return a.createElement(o.ThemeProvider,{theme:s[t]||s.unspecified},a.createElement(e,r))};t.Z=e=>{const t=(0,c.R)("theme");return a.createElement(o.ThemeProvider,(0,r.Z)({},e,{theme:s[e.theme?e.theme:t]||s.unspecified}))}},82351:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(87462),a=n(67294),o=n(22195);const i=["neutral","black"];var c=e=>{let{children:t,background:n,isBasic:c,padding:s}=e;return a.createElement(o.Flex,(0,r.Z)({padding:s||[1.5,2],margin:[2],background:n||i,round:1,alignSelf:"start"},!c&&{width:{max:"300px"}}),a.createElement(o.TextSmall,{color:"bright"},t))};var s=(e,t)=>{let{background:n,isBasic:r,padding:o}=t;const i="function"===typeof e?e():e;return"string"===typeof e||r?a.createElement(c,{background:n,isBasic:r,padding:o},i):i};var u=e=>{let{children:t,content:n,isBasic:i,...c}=e;const u=(0,a.useCallback)((()=>s(n,{isBasic:i})),[n]);return n?a.createElement(o.Tooltip,(0,r.Z)({plain:!0,animation:!0,content:u},c),t):t}},46189:function(e,t){"use strict";t.default={assetsBaseURL:"".concat(window.envSettings.uiUrl,"/static"),apiBaseURL:window.envSettings.apiUrl,demoUrl:"".concat(window.envSettings.cloudUrl,"/spaces/netdata-demo"),demoSlug:window.envSettings.demoSlug,demoFavourites:window.envSettings.demoFavourites,demoDefaultRoomViews:{default:"overview"},pollingInterval:3e4,defaultRoomView:"home"}},62200:function(e,t,n){"use strict";n.d(t,{$9:function(){return m},DV:function(){return u},G1:function(){return d},I3:function(){return y},Ku:function(){return f},MC:function(){return o},OI:function(){return v},R7:function(){return p},Sq:function(){return S},WV:function(){return g},_b:function(){return b},gP:function(){return i},li:function(){return a},mX:function(){return l},sf:function(){return s},t5:function(){return h},v$:function(){return c}});var r=n(2375);const a="/api/v2",o="/api/v3/spaces",i=r.Z,c=20,s=22,u=13,l=["J2kdSTRJzV4","KCFFZ_qfKXk"],d="SINGLE_NODE_VIEW_PAGE",m="NODE_VIEW_PAGE",f=["info","alerts"],g={live:{statusTextColor:"primary",indicatorWrapperColor:"primary",counterColor:"primary"},stale:{statusTextColor:["green","vista"],indicatorWrapperColor:["green","vista"],counterColor:["green","vista"]},offline:{statusTextColor:"textLite",indicatorWrapperColor:"textLite",counterColor:"textLite"},unseen:{statusTextColor:"textLite",indicatorWrapperColor:"textLite",counterColor:"textLite"}},p={completed:{icon:"check",indicatorWrapperColor:"primary",textColor:"primary",text:"Completed",tooltip:"has been claimed and has successfully connected to Cloud at least once"},pending:{icon:"clock_hollow",indicatorWrapperColor:"textLite",textColor:"textLite",text:"Pending...",tooltip:"has been claimed but never connected to the Cloud."}},h=[1,39,1],v=[1,40,0],b="v1.39.1",y="v1.40.0",S="ErrSpaceMemberAlreadyExists"},87917:function(e,t,n){"use strict";n.d(t,{Jo:function(){return a},QR:function(){return o},xJ:function(){return r}});n(88449),n(2490),n(59849);const r=e=>["admin","manager","troubleshooter","observer","billing"].concat("EarlyBird"===e?"member":[]),a=e=>[e["user:SetAdmin"]&&"admin",e["user:SetManager"]&&"manager",e["user:SetMember"]&&"member",e["user:SetTroubleshooter"]&&"troubleshooter",e["user:SetObserver"]&&"observer",e["user:SetBilling"]&&"billing"].filter(Boolean),o=e=>[e["user:SetFromAdmin"]&&"admin",e["user:SetFromManager"]&&"manager",e["user:SetFromMember"]&&"member",e["user:SetFromTroubleshooter"]&&"troubleshooter",e["user:SetFromObserver"]&&"observer",e["user:SetFromBilling"]&&"billing"].filter(Boolean)},80239:function(e,t,n){"use strict";n.d(t,{U:function(){return a},UV:function(){return o},VP:function(){return i},nb:function(){return r}});const r={alertStatus:"alertStatus",os:"os"},a=0,o="https://learn.netdata.cloud/docs/monitor/configure-alerts#edit-health-configuration-files",i={alertStatuses:{critical:0,warning:0},alertClasses:{Errors:0,Latency:0,Utilization:0,Workload:0}}},71992:function(e,t,n){"use strict";n.d(t,{h:function(){return l},Z:function(){return m}});var r=n(87462),a=(n(33948),n(67294)),o=n(22195),i=n(46667),c=n(60677);const s=(0,c.default)(o.Drop).attrs({align:{top:"bottom",left:"left"},animation:!0,background:"dropdown",column:!0,margin:[.5,0,0],overflow:{vertical:"auto"},padding:[2,0],round:1}).withConfig({displayName:"styled__Drop",componentId:"sc-1x9syns-0"})(["box-sizing:content-box;"]),u=(0,c.default)(o.TextSmall).withConfig({displayName:"styled__DropdownItemClickable",componentId:"sc-1x9syns-1"})(["cursor:pointer;pointer-events:",";"," &:hover{background-color:",";}"],(e=>{let{isDisabled:t}=e;return t?"none":"auto"}),(e=>e.isDisabled&&"color: ".concat((0,o.getColor)("textLite")(e),";")),(0,o.getColor)("selected")),l=e=>{let{children:t,color:n="text",disabled:i,icon:c,...s}=e;return a.createElement(u,(0,r.Z)({as:o.Flex,"data-testid":"dropdownItem",gap:2,isDisabled:i,padding:[2,4]},s),a.createElement(o.Icon,{color:i?"textLite":n,"data-testid":"dropdownItem-icon",height:"16px",name:c,width:"16px"}),a.createElement(o.Text,{color:n,"data-testid":"dropdownItem-text",whiteSpace:"nowrap"},t))},d=(0,a.forwardRef)(((e,t)=>{let{Component:n,category:o,context:i,...c}=e;return a.createElement(n,(0,r.Z)({"data-ga":"".concat(o,"::").concat(i,"::options"),"data-testid":"chartOptions",icon:"nav_dots",flavour:"borderless",neutral:!0,small:!0,padding:0,ref:t,title:"Options"},c))}));var m=e=>{let{Component:t=o.Button,category:n,context:r,children:c,testId:u}=e;const[l,m,,f]=(0,i.Z)(),g=(0,a.useRef)(),p=u||"chartsDropdown";return a.createElement(a.Fragment,null,a.createElement(d,{"data-testid":"".concat(p,"-button"),category:n,context:r,onClick:m,ref:g,Component:t}),g.current&&l&&a.createElement(s,{close:f,"data-testid":p,onClickOutside:f,onEsc:f,target:g.current},c({close:f})))}},1043:function(e,t,n){"use strict";n.d(t,{aJ:function(){return S},R2:function(){return T},O9:function(){return v},iM:function(){return b},UQ:function(){return E},T4:function(){return k},So:function(){return A}});n(33948),n(57640),n(9924),n(15306);var r=n(67294),a=n(89250),o=n(17563),i=n(26398),c=n(5429),s=n(93017),u=n(68008),l=n(76201),d=n(78710),m=n(13477),f=n(94510),g=n(98469);const p=e=>{let{cloudRoute:t,redirectUri:n}=e;try{if(!(0,g.isTryingToJoinWorkspace)(t))return"";const{inviteToken:e,spaceId:r}=(e=>{const t=o.parse(e);let{error_retry:n,token:r}=t.error_retry||t.token?{...t,token:decodeURIComponent(t.token)}:o.parse(decodeURIComponent(e));return r||(r=o.parse(n).token),{inviteToken:r,spaceId:/spaces\/(.*)\/join-callback/.exec(n)[1]}})(n);return"?".concat(o.stringify({token:e,space:r}))}catch(r){return console.warn("error parsing join-callback url",r),""}},h=function(e){var t,n;let{path:r="/sign-up"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!window.envSettings.tracking)return;const a="".concat(r,"/thank-you");window.dataLayer.push({event:"pageview",virtualPage:"".concat(a).concat(e)}),window.posthog.setPersonPropertiesForFlags({netdata_cloud_account_created_days_ago:0}),(0,l.o)("".concat(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.origin).concat(a).concat(e))},v=e=>(0,u.Z)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Z.patch("/api/v1/accounts/".concat(e),t)}),[e]),b=()=>{const{search:e,hash:t}=(0,a.TH)(),n=(0,a.bS)("/sign-up"),o=(0,a.bS)("/sign-in"),c=n?n.pathname:o?o.pathname:"",u=(0,a.s0)(),[l,d]=(0,s.Z)();return(0,r.useCallback)((async n=>{let{email:r,redirectURI:a,registerURI:o,isUnverifiedRegistration:s,resend:m}=n;try{await i.Z.post("/api/v2/auth/account/magic-link",{email:r,redirectURI:a,registerURI:o,isUnverifiedRegistration:s}),l({header:"Sign in email sent"}),m||(h(e,{path:c}),u("/sign-in/magic-link-sent".concat(e).concat(t),{state:{email:r}}))}catch(f){d({header:"Sign in",text:"Invalid email"})}}),[])},y=e=>{let{authorized_origins:t=[]}=e;return t.map((e=>{let{id:t,url:n,last_accessed_at:r}=e;return{id:t,url:n,lastAccessedAt:r}}),[])},S=function(){let{onSuccess:e,onFail:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,c.Z)((()=>({fetch:()=>i.Z.get("/api/v1/auth/account/origins",{transform:y}),initialValue:[],isDefaultLoading:!0,onSuccess:t=>{null===e||void 0===e||e(t)},onFail:e=>{null===t||void 0===t||t(e)},...n})),r)},A=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(!1),[,o]=(0,s.Z)();return[e,(0,r.useCallback)((async e=>{a(!0);try{const n=await i.Z.post("/api/v1/auth/account/origins",{origin_url:e});t(n.authorized_origin_url),a(!1)}catch(n){o({header:"Trust URL",text:"We couldn't trust the URL"}),a(!1)}}),[]),n]},k=e=>{e&&e.preventDefault();const[,t]=(0,s.Z)(),{search:n}=(0,a.TH)(),{cloudRoute:c,oauth:u,token:l,username:d,redirect_uri:m}=o.parse(n),g=(0,f.pi)(),v=p({cloudRoute:c,redirectUri:m});return(0,r.useCallback)((async()=>{const e="/api/v2/auth/account/".concat(u||"magic-link","/register");try{await i.Z.post("".concat(e).concat(v),{token:l,username:d}),g(),h(n)}catch(r){t(r)}}),[u,l,d])},E=()=>(0,r.useCallback)((async()=>(localStorage.clear(),d.ZP?window.location.replace("/"):(await i.Z.post("/api/v1/auth/account/logout"),window.location.replace("/sign-in")))),[]),T=()=>{const e=(0,m.jr)(),t=E(),[,n]=(0,s.Z)();return(0,r.useCallback)((async()=>{try{await i.Z.delete("/api/v1/accounts/".concat(e)),t()}catch(r){n(r)}}),[])}},94510:function(e,t,n){"use strict";n.d(t,{pi:function(){return p}});n(25387),n(2490),n(72608);var r=n(67294),a=n(4480),o=n(26398),i=n(62200),c=n(78710),s=n(80239);const u={auth_type:"",avatarURL:null,createdAt:"",email:"",id:null,name:"",termsAccepted:!0,isAnonymous:!1,authorizedOrigins:[]},l={theme:"unspecified",spacePanelCollapsed:c.ZP,alertsGrouping:s.nb.alertStatus},d=e=>{let{permissions:t,settings:n,...r}=e;const a=r.id===i.gP;return{permissions:t,settings:n,user:{...r,isAnonymous:a,termsAccepted:a||r.termsAccepted}}},m=()=>{var e;const t=JSON.parse(localStorage.getItem("userSettings"))||{},n={user:{...u,id:(null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.pg)||null,isLoaded:!0,isAnonymous:!0},permissions:{},settings:{...l,...t,isLoaded:!0}};if((0,c.iM)())return Promise.resolve(n);let r;return(()=>{var e,a;return null===(e=r)||void 0===e||null===(a=e.cancel)||void 0===a||a.call(e),r=o.Z.get("/api/v2/accounts/me",{transform:d,allow401:!0}),r.then((e=>{let{data:{user:r,permissions:a=[],settings:o}}=e;return c.ZP&&r.isAnonymous?n:{user:{...u,...r,isLoaded:!0},permissions:a.reduce(((e,t)=>({...e,[t]:t})),{}),settings:{...l,...t,...o,isLoaded:!0}}})).catch((()=>c.ZP?n:{user:{...u,isLoaded:!0},permissions:{},settings:{...l,...t,isLoaded:!0}}))})()},f=(0,a.cn)({key:"currentUserFetcher",default:null}),g=(0,a.cn)({key:"checkAuthAtom",default:1}),p=()=>{const e=(0,a.Zl)(g),t=(0,a.Zl)(f);return(0,r.useCallback)((async()=>{const n=await m();t(n),e((e=>e+1))}),[])},h=(0,a.nZ)({key:"fullStateFetcher",get:async e=>{let{get:t}=e;return t(f)||await m()}});t.ZP=(0,a.CG)({key:"currentUserFullState",get:e=>t=>{let{get:n}=t;return n(h)[e]}})},33335:function(e,t,n){"use strict";n.d(t,{SX:function(){return g},QB:function(){return v},M2:function(){return b},gI:function(){return h}});n(25387),n(2490),n(72608);var r=n(67294),a=n(4480),o=n(41331),i=n(74059),c=n(78710);var s=(0,a.xu)({key:"permissionsBySpaceId",default:{},effects:e=>(0,c.Ly)(e)?[e=>{let{setSelf:t,trigger:n}=e;"get"===n&&t(c.aD.permissions)}]:[]}),u=n(87917),l=n(94510),d=(0,a.cn)({key:"userPermissions",default:(0,l.ZP)("permissions")});const m=["space:Leave","room:Create","space:InviteUser","space:RemoveUser","space:UpdateMeta","space:Delete","room:Delete","room:AddNode","node:Delete","user:ChangeRoles","room:UpdateMeta","room:Leave","room:RemoveNode","billing:Manage"],f={"space:ReadSettings":e=>!m.some((t=>!e[t]))},g=(0,a.nZ)({key:"permissionsSelector",get:e=>{let{get:t}=e;const n=t(i.BN);return r={...t(d),...t(s(n))},{...r,...Object.keys(f).reduce(((e,t)=>f[t](r)?{...e,[t]:t}:e),{})};var r},set:(e,t)=>{let{set:n}=e,{id:r,permissions:a={}}=t;n(s(r),(e=>(0,o.ZP)(e,a)?e:a))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),p=()=>(0,a.sJ)(g),h=e=>p()[e],v=()=>{const e=p();return(0,r.useMemo)((()=>(0,u.Jo)(e)),[e])},b=()=>{const e=p();return(0,r.useMemo)((()=>(0,u.QR)(e)),[e])}},33937:function(e,t,n){"use strict";n.d(t,{k:function(){return d},R:function(){return l}});n(33948);var r=n(4480),a=n(23109),o=n(94510),i=(0,r.cn)({key:"currentUserSettings",default:(0,o.ZP)("settings")}),c=n(1043),s=n(13477);const u=(0,r.CG)({key:"userSettings",get:e=>t=>{let{get:n}=t;const r=n(i);return e?r[e]:r},set:e=>(t,n)=>{let{set:r}=t;return r(i,(t=>e?{...t,[e]:n}:n))}}),l=e=>(0,r.sJ)(u(e)),d=e=>{const t=l(e),n=(e=>{const t=(0,s.Iy)("isAnonymous"),n=(0,r.Zl)(u(e)),o=(0,s.jr)(),i=(0,c.O9)(o),[,l]=(0,a.Z)("userSettings",{});return(0,r._8)((r=>{let{snapshot:a}=r;return async r=>{n(r);const o=a.retain();try{const n={...await a.getPromise(u()),...e?{[e]:r}:r};if(t)return void l(n);await i({settings:n})}catch(c){const t=await a.getPromise(u());n(e?t[e]:t)}finally{o()}}}),[e])})(e);return[t,n]}},49674:function(e,t,n){"use strict";var r=n(4480),a=n(94510);t.Z=(0,r.cn)({key:"currentUser",default:(0,a.ZP)("user")})},13477:function(e,t,n){"use strict";n.d(t,{Iy:function(){return c},KL:function(){return i},ec:function(){return l},jr:function(){return s},oH:function(){return u}});var r=n(4480),a=n(49674),o=n(1043);const i=(0,r.CG)({key:"userState",get:e=>t=>{let{get:n}=t;const r=n(a.Z);return e?r[e]:r},set:e=>(t,n)=>{let{set:r}=t;r(a.Z,(t=>e?{...t,[e]:n}:{...t,...n}))}}),c=e=>(0,r.sJ)(i(e)),s=()=>(0,r.sJ)(i("id")),u=function(e){let{shouldPersist:t,onSuccess:n,onFail:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=(0,r.Zl)(i(e)),u=s(),l=(0,o.O9)(u);return(0,r._8)((r=>{let{snapshot:a}=r;return async r=>{if(c(r),!t)return;const o=a.retain();try{await l({...e?{[e]:r}:r}),n&&n()}catch(s){const t=await a.getPromise(i());c(e?t[e]:t)}finally{o()}}}),[e,t,n,a])},l=(e,t)=>[c(e),u(e,t)]},67336:function(e,t,n){"use strict";n.d(t,{B1:function(){return v},O9:function(){return y},R2:function(){return b},RO:function(){return h}});n(33948),n(57640),n(9924),n(25387),n(2490),n(72608),n(15581),n(34514);var r=n(4480),a=n(68008),o=n(93017),i=n(37518),c=n(74059),s=n(19665),u=n(47133),l=n(6811),d=n(22841),m=n(9058),f=n(45215),g=n(79619),p=n(39878);const h=(e,t)=>{const[n,r]=(0,o.Z)();return(0,a.Z)((function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=(0,s.DB)(e,t,a);return o.then((()=>n({header:"Dashboards",text:"Dashboard successfully created!"}))).catch((e=>!e.isCancel&&r(e))),o}),[e,t])},v=()=>{const[e,t]=(0,o.Z)();return(0,a.Z)((n=>{let{dashboards:r}=n;const a=r.map((e=>{let{id:t}=e;return t})).toString(),o=r[0].roomId,i=r[0].spaceId;return(0,s.iM)(i,o,a).then((()=>e({header:"Dashboards",text:"Dashboards successfully deleted!"}))).catch((e=>!e.isCancel&&t))}),[])},b=e=>{const t=(0,u.LJ)(e,"spaceId"),n=(0,u.LJ)(e,"roomId"),[r,i]=(0,o.Z)();return(0,a.Z)((()=>{const a=(0,s.iM)(t,n,e);return a.then((()=>r({header:"Dashboards",text:"Dashboard successfully deleted!"}))).catch((e=>!e.isCancel&&i(e))),a}),[e,t,n])},y=function(e){let{onSuccess:t,onFail:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,m.e)(),o=(0,c.th)(),h=(0,i.UL)();return(0,r._8)((r=>{let{snapshot:i,set:c}=r;return()=>{c((0,u.Y3)({id:e,key:"processing"}),!0);const r=i.getLoadable((0,u.Y3)({id:e})).contents,m=i.getLoadable((0,l.sX)({id:e,key:"layout"})).contents,v=i.getLoadable((0,d.oz)({id:e})).contents,b=(0,f.ZO)(a,e),y={version:r.version+1,name:r.name,snapshot:{uiState:m,items:Object.keys(v).map((e=>{if(!b||"text"===v[e].type)return{...v[e]};const t=b.getNode({cardId:e},{inherit:!1},b.getChildren()),{pristine:n,...r}=t.getAttributes(),a=Object.keys(n).reduce(((e,t)=>(e[t]=r[t],e)),{...v[e]});return{...v[e],...a}}))}},S=(0,s.Y)(o,h,e,y);return S.then((e=>{let{data:n}=e;const{createdAt:r,id:a,name:o,roomID:i,slug:s,spaceID:m,updatedAt:f,version:h}=n,{cards:v}=(0,g.m)(n);c((0,d.oz)({id:a}),v),c((0,u.Y3)({id:a}),(e=>({...e,createdAt:r,id:a,name:o,roomId:i,slug:s,spaceId:m,updatedAt:f,version:h,processing:!1}))),c(p.UU,s),c((0,p.c7)([m,i,s]),a),c((0,l.Kl)(a)),b&&Object.keys(v).forEach((e=>{"text"!==v[e].type&&b.getNode({cardId:e}).removePristine()})),t&&t(n)})).catch((t=>{throw c((0,u.Y3)({id:e,key:"processing"},!1)),n&&n(t),t})),S}}))}},97723:function(e,t,n){"use strict";n.d(t,{CO:function(){return w},Di:function(){return E},EW:function(){return k},Kq:function(){return y},Zj:function(){return A},jN:function(){return S},qN:function(){return T}});n(25387),n(2490),n(72608),n(33948),n(88449),n(59849),n(15581),n(34514);var r=n(67294),a=n(4480),o=n(28721),i=n(54227),c=n(5934),s=n(44850),u=n(98475),l=n(47133),d=n(6811),m=n(22841),f=n(19665),g=n(67336);const p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...s.js,...s.v,id:(0,o.Z)(),type:"chart",contextScope:e,...t}},h=e=>(t,n)=>{const r=t.reduce(((e,t)=>{let{y:n,h:r}=t;const a=n+r;return a>e?a:e}),0);return[...t,{...e,i:n,y:r}]},v=h(u.Mk),b=h(u.b1),y=e=>(0,a._8)((t=>{let{set:n}=t;return()=>{const t=(0,o.Z)(),r={...s.js,...s.Xw,id:t,type:"text",editing:!0};n((0,l.Y3)({id:e,key:"cardIds"}),(e=>[...e,t])),n((0,d.Fu)(e),(e=>b(e,t))),n((0,m.oz)({id:e,resourceId:t}),r)}})),S=e=>(0,a._8)((t=>{let{set:n}=t;return function(t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const a=p(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{id:o}=a;n((0,l.Y3)({id:e,key:"cardIds"}),(e=>[...e,o])),n((0,d.Fu)(e),(e=>v(e,o))),n((0,m.oz)({id:e,resourceId:o}),a),r()}})),A=(e,t)=>(0,a._8)((n=>{let{set:r}=n;return()=>{r((0,l.Y3)({id:e,key:"cardIds"}),(e=>e.filter((e=>e!==t)))),r((0,d.Fu)(e),(e=>e.filter((e=>{let{i:n}=e;return n!==t})))),r((0,m.oz)({id:e}),(e=>{const n={...e};return delete n[t],n}))}})),k=function(e,t){let{onSuccess:n,onFail:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,g.RO)(e,t);return(0,a._8)((a=>{let{set:i}=a;return async function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;try{const{data:n}=await o(a),r={...a,spaceId:e,roomId:t,...n,loaded:!0};i((0,l.lz)(n.id),r),i((0,c.$3)(t),r),s&&s(r)}catch(u){r?r(a):console.warn("failed",u)}}}),[o,e,n,r])},E=(e,t,n)=>{const a=k(e,t,n);return(0,r.useCallback)(((r,o,i)=>{const c=p(o,i);return a({name:r},(r=>{var a;(0,f.Y)(e,t,r.id,{version:r.version+1||2,snapshot:{uiState:v([],c.id),items:[{...c,cardAttributes:{...i,id:c.id}}]}}),null===n||void 0===n||null===(a=n.onSuccess)||void 0===a||a.call(n,r)}))}),[a])},T=e=>function(e){let{onSuccess:t,onFail:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,i.Le)();return(0,a._8)((a=>{let{snapshot:o,set:i}=a;return async a=>{let{ids:s}=a;const u=await o.getPromise((0,l.NM)(s));try{await e({dashboards:u}),u.forEach((e=>{let{id:t,roomId:n}=e;i((0,l._d)(t)),i((0,c.Mg)(n),[t]),r(t)})),t&&t(u)}catch(d){n?n(u):console.warn("failed",d)}}}),[e,t,n])}((0,g.B1)(),e),w=(e,t)=>function(e,t){let{onSuccess:n,onFail:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,l.LJ)(e,"spaceId"),s=(0,l.LJ)(e,"roomId"),u=(0,i.Le)();return(0,a._8)((a=>{let{snapshot:o,set:i}=a;return async()=>{const a=await o.getPromise((0,l.Y3)({id:e}));try{await t(),i((0,l._d)(e)),i((0,c.Mg)(s),[e]),u(e),n&&n(a)}catch(d){r?r(a):console.warn("failed",d)}}}),[t,o,s,e,n,r])}(e,(0,g.R2)(e),t)},19665:function(e,t,n){"use strict";n.d(t,{AK:function(){return c},DB:function(){return o},Y:function(){return a},iM:function(){return i}});var r=n(26398);const a=(e,t,n,a)=>r.Z.patch("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/dashboards/").concat(n),a),o=(e,t,n)=>r.Z.post("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/dashboards"),n),i=(e,t,n)=>r.Z.delete("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/dashboards?dashboard_ids=").concat(n)),c=(e,t,n)=>r.Z.get("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/dashboards/").concat(n))},44850:function(e,t,n){"use strict";n.d(t,{Xw:function(){return o},js:function(){return i},v:function(){return a}});var r=n(4480);const a={pristine:{},id:null},o={pristine:{},id:null,text:"<p><br/></p>",editing:!1},i={id:"",type:""};t.ZP=(0,r.xu)({key:"dashboardCards",default:{}})},22841:function(e,t,n){"use strict";n.d(t,{IT:function(){return u},I_:function(){return s},_q:function(){return c},oz:function(){return o}});var r=n(4480),a=n(44850);const o=(0,r.CG)({key:"dashboardCardsState",get:e=>{let{id:t,resourceId:n}=e;return e=>{let{get:r}=e;const o=r((0,a.ZP)(t));return n?o[n]||a.js:o}},set:e=>{let{id:t,resourceId:n}=e;return(e,r)=>{let{set:o}=e;return n?"function"===typeof r?o((0,a.ZP)(t),(e=>({...e,[n]:r(e[n])}))):void o((0,a.ZP)(t),(e=>({...e,[n]:{...e[n],...r}}))):o((0,a.ZP)(t),r)}}}),i=(0,r.CG)({key:"dashboardCardState",get:e=>{let{id:t,resourceId:n,key:r}=e;return e=>{let{get:a}=e;const i=a(o({id:t,resourceId:n}));return r?i[r]:i}},set:e=>{let{id:t,resourceId:n,key:r}=e;return(e,a)=>{let{set:i}=e;return i(o({id:t,resourceId:n}),{[r]:a})}}}),c=(e,t)=>(0,r.sJ)(o({id:e,resourceId:t})),s=(e,t,n)=>(0,r.sJ)(i({id:e,resourceId:t,key:n})),u=(e,t,n)=>(0,r.Zl)(i({id:e,resourceId:t,key:n}))},98475:function(e,t,n){"use strict";n.d(t,{E3:function(){return i},Mk:function(){return o},b1:function(){return a}});var r=n(4480);const a={i:null,x:0,y:0,w:3,h:4,minW:2,minH:4},o={i:null,x:0,y:0,w:10,h:9,minW:6,minH:8},i={layout:[],pristine:{}};t.ZP=(0,r.xu)({key:"dashboardLayout",default:i})},6811:function(e,t,n){"use strict";n.d(t,{sX:function(){return s},Kl:function(){return l},Fu:function(){return u},ZL:function(){return d}});var r=n(4480),a=n(41331),o=n(98475);const{updatePristine:i,resetPristine:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pristine";return{updatePristine:(t,n,r)=>{if(!(n in(t[e]||{}))&&!(0,a.ZP)(t[n],r))return{...t,[e]:{...t[e],[n]:t[n]}};if((0,a.ZP)(t[e][n],r)){const r={...t[e]};return delete r[n],{...t,[e]:r}}return t},resetPristine:t=>({...t,...t[e],[e]:{}})}}(),s=(0,r.CG)({key:"dashboardLayoutState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r((0,o.ZP)(t));return n?a[n]:a}},set:e=>(t,n)=>{let{set:r}=t;r((0,o.ZP)(e),{...o.E3,layout:n})}}),u=(0,r.CG)({key:"updateDashboardLayoutState",get:e=>t=>{let{get:n}=t;return n(s({id:e,key:"layout"}))},set:e=>(t,n)=>{let{set:r}=t;r((0,o.ZP)(e),(e=>({...i(e,"layout",n),layout:n})))}}),l=(0,r.CG)({key:"removePristineDashboardLayoutState",set:e=>t=>{let{set:n}=t;n((0,o.ZP)(e),(e=>({...e,pristine:{}})))}}),d=((0,r.CG)({key:"removePristineDashboardLayoutState",set:e=>t=>{let{set:n}=t;n((0,o.ZP)(e),(e=>c(e)))}}),e=>{const t=((e,t)=>(0,r.sJ)(s({id:e,key:t})))(e,"layout"),n=(e=>(0,r.Zl)(u(e)))(e);return[t,n]})},47133:function(e,t,n){"use strict";n.d(t,{Z7:function(){return S},lz:function(){return y},g4:function(){return k},_d:function(){return A},Y3:function(){return g},NM:function(){return v},r0:function(){return x},FV:function(){return I},DS:function(){return C},HI:function(){return p},LJ:function(){return h},QF:function(){return b}});n(57640),n(9924),n(64211),n(2490),n(41874),n(33948);var r=n(67294),a=n(4480),o=n(74059),i=n(37518),c=n(9058),s=n(6811),u=n(22841),l=n(39878);const d={id:null,loaded:!1,fullyLoaded:!1,loading:!0,processing:!1,isOwner:!1,spaceSlug:"",roomSlug:"",spaceId:"",roomId:"",name:"",slug:"",version:0,createdAt:"",updatedAt:"",cardIds:[]};var m=(0,a.xu)({key:"dashboard",default:d}),f=n(45215);const g=(0,a.CG)({key:"dashboardState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r(m(t));return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;return n?"function"===typeof r?a(m(t),(e=>({...e,[n]:r(e[n])}))):void a(m(t),(e=>({...e,[n]:r}))):a(m(t),{...d,...r})}}}),p=e=>{let{id:t,key:n}=e;return(0,a.FV)(g({id:t,key:n}))},h=(e,t)=>(0,a.sJ)(g({id:e,key:t})),v=(0,a.CG)({key:"dashboardsState",get:e=>t=>{let{get:n}=t;return e.map((e=>n(g({id:e}))))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),b=e=>(0,a.sJ)(v(e)),y=(0,a.CG)({key:"dashboardInitializeState",get:e=>t=>{let{get:n}=t;return n(m(e))},set:e=>(t,n)=>{let{set:r}=t;r(g({id:e}),{...n,loaded:!0});const{spaceId:a,roomId:o,slug:i}=n;r((0,l.c7)([a,o,i]),e)}}),S=(0,a.CG)({key:"dashboardFullyInitializeState",set:e=>(t,n)=>{let{set:r}=t,{layout:a,dashboard:o,cards:i}=n;r(g({id:e}),{...o,loaded:!0,fullyLoaded:!0,loading:!1}),r((0,s.sX)(e),a),r((0,u.oz)({id:e}),i);const{spaceId:c,roomId:d,slug:m}=o;r((0,l.c7)([c,d,m]),e)}}),A=(0,a.CG)({key:"dashboardReset",set:e=>t=>{let{get:n,set:r,reset:a}=t;const{spaceId:o,roomId:i,slug:c}=n(m(e));a(m(e)),r(l.UU,null),a((0,l.c7)([o,i,c]))}}),k=(0,a.CG)({key:"dashboardLoadingState",set:e=>(t,n)=>{let{set:r}=t;r(g({id:e,key:"loading"}),n)}}),E=e=>{let{pristine:t={}}=e;return 0===Object.keys(t).length},T=(0,a.CG)({key:"dashboardIsPristineState",get:e=>t=>{let{get:n}=t;const r=n((0,u.oz)({id:e}));return!Object.keys(r).length||Object.keys(r).some((e=>E(r[e])))}}),w=(0,a.CG)({key:"dashboardLayoutIsPristineState",get:e=>t=>{let{get:n}=t;return E(n((0,s.sX)({id:e})))}}),C=e=>{const t=(0,c.e)(),n=()=>{const n=(0,f.ZO)(t,e);return!n||!n.getChildren().some((e=>{return t=e.getAttribute("pristine"),!(0===Object.keys(t).length);var t}))},[o,i]=(0,r.useState)(n);(0,r.useEffect)((()=>null===t||void 0===t?void 0:t.on("pristineChanged",(()=>i(n)))),[t]);const s=(0,a.sJ)(T(e)),u=(0,a.sJ)(w(e));return o&&s&&u},x=e=>{const t=(0,o.th)(),n=(0,i.UL)(),r=(0,l.FP)();return(0,l.qh)(t,n,e||r)},I=e=>{const t=x();return h(t,e)}},39878:function(e,t,n){"use strict";n.d(t,{FP:function(){return i},Jh:function(){return c},UU:function(){return a},c7:function(){return o},qh:function(){return s}});var r=n(4480);const a=(0,r.cn)({key:"currentDashboardSlug",default:null}),o=(0,r.xu)({key:"dashboardIdBySlug",default:""}),i=()=>(0,r.sJ)(a),c=e=>(0,r.Zl)(a,e),s=(e,t,n)=>(0,r.sJ)(o([e,t,n]))},45215:function(e,t,n){"use strict";n.d(t,{ZP:function(){return L},ZO:function(){return D},vL:function(){return U}});n(31672),n(2490),n(59461),n(15581),n(34514);var r=n(67294),a=n(34675),o=n(9058),i=n(95248),c=n(48286),s=n(47133),u=n(78710),l=n(87462),d=(n(33948),n(89250)),m=n(64036),f=n(54576),g=n(3701),p=n(22841);n(15306);var h=n(71992);var v=e=>{let{category:t,closeParent:n,context:a,openDialog:o,...i}=e;return r.createElement(h.h,(0,l.Z)({icon:"trashcan",onClick:()=>{o(),n()},"data-ga":"".concat(t,"::click-remove::").concat(a),"data-testid":"removeChart-option"},i),"Remove")},b=n(22195),y=n(97723),S=n(97945);var A=e=>{let{cardId:t,close:n,id:a}=e;const{nodeId:o,chartId:i}=(0,p.I_)(a,t),c=(0,S.bV)(o,"name"),s=(0,y.Zj)(a,t);return r.createElement(b.ConfirmationDialog,{"data-ga":"remove-chart-dialog","data-testid":"removeChartDialog",handleConfirm:s,handleDecline:n,message:r.createElement(r.Fragment,null,"You are about to remove ",r.createElement("strong",null,i),c&&r.createElement(r.Fragment,null," ","of node ",r.createElement("strong",null,c)),".",r.createElement("br",null),"Are you sure you want to continue?"),title:"Remove chart"})},k=n(46667);const E="chart-options",T="custom-dashboard",w=e=>{let{id:t,cardId:n,onClick:a}=e;const o=(0,d.s0)(),i=(0,p.I_)(t,n,"chartId"),{spaceSlug:c,roomSlug:u}=(0,s.LJ)(t);return r.createElement(h.h,{icon:"line_chart",onClick:()=>{a();const e=(t=i,"".concat("chart_").concat(t.replace(/ /g,"_").replace(/:/g,"_").replace(/\(/g,"_").replace(/\)/g,"_").replace(/\./g,"_").replace(/\//g,"_")));var t;o("/spaces/".concat(c,"/rooms/").concat(u,"/overview#chartName=").concat(e))},"data-ga":"".concat(E,"::click-go-to-chart::").concat(T),"data-testid":"chart-goToChart"},"Go to Chart")},C=(0,r.forwardRef)(((e,t)=>r.createElement(g.Button,(0,l.Z)({},e,{icon:r.createElement(g.default,{svg:m.Z,size:"16px"}),ref:t}))));var x=()=>{const[e,,t,n]=(0,k.Z)(),a=(0,f.useAttributeValue)("cardId"),o=(0,f.useAttributeValue)("dashboardId");return r.createElement(r.Fragment,null,r.createElement(h.Z,{Component:C,category:E,context:T,testId:"chartDropdown"},(e=>{let{close:n}=e;return r.createElement(r.Fragment,null,r.createElement(w,{id:o,cardId:a,onClick:n}),r.createElement(v,{cardId:a,category:E,closeParent:n,context:T,"data-testid":"chart-remove",id:o,openDialog:t}))})),e&&r.createElement(A,{cardId:a,close:n,id:o}))},I=n(60677),Z=n(16071);const N=(0,I.default)(g.Button).withConfig({displayName:"drag__DragButton",componentId:"sc-1t95u2-0"})(["cursor:",";"],(e=>{let{grabbing:t}=e;return t?"grabbing":"grab"}));var P=e=>{const t=(0,f.useAttributeValue)("onMouseDownDrag"),n=(0,f.useAttributeValue)("onMouseUpDrag"),a=(0,f.useAttributeValue)("onTouchEndDrag"),[o,,i,c]=(0,k.Z)();return r.createElement(N,(0,l.Z)({icon:r.createElement(g.default,{svg:Z.Z,size:"16px"}),title:"Drag & rearrange","data-testid":"chartHeaderToolbox-drag"},e,{onMouseDown:function(){i(),t(...arguments)},onMouseUp:function(){c(),n(...arguments)},onTouchEnd:function(){c(),a(...arguments)},grabbing:o}))},M=n(96415),_=n(70873),R=n(43460);const D=(e,t)=>e&&e.getRoot().getChildren().find((e=>e.match({id:t}))),U=e=>t=>"dashboard-page::".concat(e.getAttribute("id"),"::").concat(t);var L=e=>{const{spaceId:t,roomId:n}=(0,s.LJ)(e),l=(0,o.e)(),d=(0,i.TA)({extraKey:"dashboard"});(0,r.useMemo)((()=>{if(!l)return;let r=D(l,e);r||(r=l.makeContainer({attributes:{...l.getRoot().getAttributes(),id:e,navigation:"pan",nodesScope:d,enabledHeightResize:!1,overlays:{proceeded:{type:"proceeded"}},host:u.ZP?"".concat(window.envSettings.agentApiUrl,"/api/v2"):"/api/v3/spaces/".concat(t,"/rooms/").concat(n),leftHeaderElements:[x,a.default],toolboxElements:[R.default,M.default,_.default,P]}}),l.appendChild(r))}),[l,e]),(0,c.Z)((()=>{if(!l)return;const t=D(l,e);t&&t.getNodes().forEach((e=>e.updateAttribute("nodesScope",d)))}),[l,n,d]),(0,r.useEffect)((()=>()=>{const t=D(l,e);t&&t.destroy()}),[l,n])}},79619:function(e,t,n){"use strict";n.d(t,{m:function(){return g}});n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(25387),n(2490),n(72608),n(57640),n(9924);var r=n(67294),a=n(4480),o=n(98475),i=n(44850),c=n(19665),s=n(47133);const u={TextCard:"text",ChartCard:"chart",compositeChart:"chart",chart:"chart",text:"text"},l=new Set(["text","chart"]),d=["x","y","h","w"],m=(e,t)=>{var n,r;let{i:a,...i}=t;const c=null!==(n=e[a])&&void 0!==n&&n.type&&"text"!==(null===(r=e[a])||void 0===r?void 0:r.type)?o.Mk:o.b1;return d.reduce(((e,t)=>(e[t]=i[t]||0===i[t]?i[t]:c[t],e)),{...c,i:a})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().startsWith("<p>")?e:"<p>".concat(e,"</p>")},g=e=>{let{id:t,name:n,slug:r,version:a,createdAt:o,updatedAt:c,snapshot:s}=e;const{uiState:d,items:g}=s,p=g||[],h=[],v=p.reduce(((e,t)=>{let{type:n,cardID:r,id:a=r,chartID:o,chartId:c=o,nodeID:s,nodeId:d=s,chartMetadata:m,context:g,attributes:p,cardAttributes:v=p,contextScope:b,text:y,...S}=t;if(b=b||[g||(null===m||void 0===m?void 0:m.context)||c],n=u[n]||n,e[a]={id:a,type:n,nodeId:d,contextScope:b},l.has(n)){if(h.push(a),"text"===n)return e[a]={...i.Xw,...v,text:f(y||v.text),...e[a]},e;e[a]=(e=>{let{aggregationMethod:t,chartType:n,dimensions:r=[],selectedDimensions:a=r||[],filteredLabels:o=[],selectedLabels:c=o||[],selectedNodeIds:s=[],selectedNodes:u=s||[],selectedInstances:l=[],chartId:d,groupBy:m,groupingMethod:f,id:g,host:p,...h}=e;return{...i.v,aggregationMethod:t||"avg",chartType:n||"line",selectedDimensions:Array.isArray(a)?a:[],selectedLabels:Array.isArray(c)?c:c&&"object"===typeof c?Object.keys(c):[],selectedNodes:Array.isArray(u)?u:[],selectedInstances:Array.isArray(l)?l:d?[d]:[],groupBy:Array.isArray(m)?m:m?[m]:["dimension"],groupingMethod:f||"average",id:g,...h}})({...S,...v,chartId:c,...e[a]})}return e}),{});return{layout:d?d.map((e=>m(v,e))):p.map((e=>{let{layout:t}=e;return m(v,t)})),dashboard:{id:t,name:n,slug:r,version:a,createdAt:o,updatedAt:c,cardIds:h},cards:v}};t.Z=(e,t)=>{let{spaceId:n,spaceSlug:o,roomId:i,roomSlug:u}=t;const[l,d]=(0,r.useState)(!0),m=(0,a._8)((t=>{let{set:r}=t;return async()=>{d(!0),r((0,s.g4)(e),!0);const{data:t}=await(0,c.AK)(n,i,e),{layout:a,dashboard:l,cards:m}=g(t);r((0,s.Z7)(e),{layout:a,dashboard:{...l,spaceSlug:o,roomSlug:u,spaceId:n,roomId:i},cards:m}),d(!1),r((0,s.g4)(e),!1)}}));return(0,r.useEffect)((()=>{e&&m(e)}),[e]),l}},44197:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(4480);const a={id:null,avatarURL:null,deactivated:!1,email:"",joinedAt:null,name:"",role:""};t.Z=(0,r.cn)({key:"member",default:{}})},34912:function(e,t,n){"use strict";n.d(t,{Bb:function(){return l},Vr:function(){return u},W3:function(){return s},mX:function(){return c}});n(57640),n(9924),n(15581),n(2490),n(34514),n(33948);var r=n(4480),a=n(38609),o=n(41331),i=n(44197);const c=(0,r.CG)({key:"memberState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r(i.Z)[t]||i.E;return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(i.Z,n?"function"!==typeof r?e=>({...e,[t]:{...e[t],[n]:r}}):e=>({...e,[t]:{...e[t],[n]:r(e[t][n])}}):e=>({...e,[t]:{...i.E,...e[t],...r}}))}}}),s=(0,r.CG)({key:"membersState",get:e=>t=>{let{get:n}=t;return e.map((e=>n(c({id:e}))))},set:()=>(e,t)=>{let{set:n,get:r}=e;const a=r(i.Z);t.forEach((e=>{a[e.id]=e})),n(i.Z,a)},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),u=e=>(0,r.sJ)(s(e)),l=(0,r.nZ)({key:"membersInitialize",get:e=>{let{get:t}=e;return t(i.Z)},set:(e,t)=>{let{set:n}=e,{values:r,merge:c}=t;return n(i.Z,(e=>{const t=c?(0,a.Z)(e,r):r;return(0,o.ZP)(t,e)?e:t}))}})},54227:function(e,t,n){"use strict";n.d(t,{UK:function(){return S},ZS:function(){return p},bV:function(){return h},Yy:function(){return v},Le:function(){return b},CN:function(){return y}});n(31672),n(2490),n(59461),n(33948),n(88449),n(59849),n(57640),n(9924);var r=n(67294),a=n(4480),o=n(74059),i=n(37518);const c=e=>{let{spaceSlug:t,roomSlug:n}=e;return"".concat(t,"-").concat(n,"-tabs")},s=(e,t)=>{let{spaceSlug:n,roomSlug:r}=e;const a=c({spaceSlug:n,roomSlug:r});Promise.resolve().then((()=>{try{localStorage.setItem(a,JSON.stringify(t))}catch(e){}}))};var u=(0,a.xu)({key:"navigation",default:function(e){let{spaceSlug:t,roomSlug:n}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{const e=c({spaceSlug:t,roomSlug:n}),a=localStorage.getItem(e);return a?JSON.parse(a):r}catch(a){return r}}});const l=(0,a.CG)({key:"navigationTabsState",get:e=>{let{spaceSlug:t,roomSlug:n}=e;return e=>{let{get:r}=e;return r(u({spaceSlug:t,roomSlug:n}))}},set:e=>{let{spaceSlug:t,roomSlug:n}=e;return(e,r)=>{let{set:a}=e;r&&t&&n&&a(u({spaceSlug:t,roomSlug:n}),(e=>{if(e.find((e=>{let{id:t}=e;return r.id===t})))return e;const a=[...e,r];return s({spaceSlug:t,roomSlug:n},a),a}))}}}),d=(0,a.CG)({key:"navigationTabsState/remove",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:n}=e;return(e,r)=>{let{set:a}=e;a(u({spaceSlug:t,roomSlug:n}),(e=>{const a=e.filter(((e,t)=>t!==r));return s({spaceSlug:t,roomSlug:n},a),a}))}}}),m=(0,a.CG)({key:"navigationTabsState/removeById",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:n}=e;return(e,r)=>{let{set:a}=e;a(u({spaceSlug:t,roomSlug:n}),(e=>{const a=e.filter((e=>e.id!==r));return s({spaceSlug:t,roomSlug:n},a),a}))}}}),f=(0,a.CG)({key:"navigationTabsState/reorder",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:n}=e;return(e,r)=>{let{set:a}=e,{sourceIndex:o,destinationIndex:i}=r;a(u({spaceSlug:t,roomSlug:n}),(e=>{const r=[...e],[a]=r.splice(o,1);return r.splice(i,0,a),s({spaceSlug:t,roomSlug:n},r),r}))}}}),g=(0,a.CG)({key:"navigationTabsState/removeById",get:()=>()=>null,set:e=>{let{spaceSlug:t,roomSlug:n}=e;return(e,r)=>{let{set:a}=e,{id:o,slug:i,path:c}=r;a(u({spaceSlug:t,roomSlug:n}),(e=>{const r=e.map((e=>e.id!==o?e:{...e,title:i,path:c}));return s({spaceSlug:t,roomSlug:n},r),r}))}}}),p=()=>{const e=(0,o.uk)(),t=(0,i.vf)();return(0,a.sJ)(l({spaceSlug:e,roomSlug:t}))},h=e=>{let{title:t,path:n,id:c,destination:s,type:u="nodes",params:d,isReady:m=!0}=e;const f=(0,i.A3)(),g=(0,o.uk)(),p=(0,i.vf)(),h=(0,a.Zl)(l({spaceSlug:g,roomSlug:p}));(0,r.useEffect)((()=>{if(!m)return;if(!c||!t)return;h({id:c,title:t,type:u,icon:"alerts"===u?"alarm":"node_hollow",params:d,path:"".concat(n||f,"/").concat(u,"/").concat(s)})}),[f,t,n,c,s,u,h,m])},v=()=>{const e=(0,o.uk)(),t=(0,i.vf)();return(0,a.Zl)(d({spaceSlug:e,roomSlug:t}))},b=()=>{const e=(0,o.uk)(),t=(0,i.vf)();return(0,a.Zl)(m({spaceSlug:e,roomSlug:t}))},y=()=>{const e=(0,o.uk)(),t=(0,i.vf)();return(0,a.Zl)(f({spaceSlug:e,roomSlug:t}))},S=()=>{const e=(0,o.uk)(),t=(0,i.vf)();return(0,a.Zl)(g({spaceSlug:e,roomSlug:t}))}},18761:function(e,t,n){"use strict";n.d(t,{B3:function(){return h},BC:function(){return u},Fz:function(){return i},RX:function(){return f},Sd:function(){return m},Wy:function(){return c},XG:function(){return s},YZ:function(){return l},kq:function(){return d},op:function(){return o}});n(57640),n(9924);var r=n(26398),a=n(78710);const o=(e,t,n)=>r.Z.get("/api/v2/bearer_get_token?node_id=".concat(e,"&claim_id=").concat(n,"&machine_guid=").concat(t),{transform:function(){let{token:e,expiration:t,bearer_protection:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{token:e,expiration:t,bearerProtection:n}}}),i=a.ZP?()=>r.Z.get("/api/v2/nodes",{baseURL:window.envSettings.agentApiUrl}):e=>r.Z.get("/api/v1/accounts/".concat(e,"/nodes")),c=(e,t)=>r.Z.post("/api/v1/accounts/".concat(e,"/nodes/").concat(t,"/touch")),s=(e,t)=>r.Z.get("/api/v1/accounts/".concat(e,"/nodes/").concat(encodeURIComponent(t))),u=(e,t)=>{const n=a.ZP&&a.HM===t;r.Z.get(n?"/api/v1/info":"/api/v1/nodes/".concat(e,"/info"),{transform:t=>({...t,nodeId:e}),baseURL:n?window.envSettings.agentApiUrl:""})},l=e=>r.Z.get("/api/v1/agents/".concat(e,"/info")),d=e=>r.Z.get("/api/v1/agents/".concat(e,"/user_access"),{transform:e=>e.authorizedNodeIDs}).catch((()=>({data:[]}))),m=(e,t)=>r.Z.delete("/api/v1/accounts/".concat(e,"/nodes"),{params:{node_ids:t.join(",")}}),f=(e,t,n,a)=>r.Z.put("/api/v1/accounts/".concat(e,"/nodes/").concat(t),{name:n,urls:a}),g="*",p=[g],h=(e,t,n)=>{let{baselineAfter:o,baselineBefore:i,highlightAfter:c,highlightBefore:s,method:u,options:l,group:d,nodeIds:m,points:f,context:h,aggregation:v="avg",groupBy:b=[]}=n;return a.ZP?r.Z.get("".concat(window.envSettings.agentApiUrl,"/api/v2/weights"),{params:{format:"json",options:"".concat(Array.isArray(l)?l.join("|"):l,"|minify|nonzero|unaligned"),contexts:g,scope_contexts:h||g,scope_nodes:m.join("|")||g,nodes:g,instances:g,dimensions:g,labels:g,group_by:b.join("|"),aggregation:v,method:u||"ks2",time_group:d||"average",time_group_options:"",time_resampling:0,after:Math.floor(c/1e3),before:Math.floor(s/1e3),points:f,baseline_after:Math.floor(o/1e3),baseline_before:Math.floor(i/1e3)}}):r.Z.post("/api/v3/spaces/".concat(e,"/rooms/").concat(t,"/weights"),{selectors:{nodes:p,contexts:p,dimensions:p,labels:p,alerts:p},aggregations:{time:{time_group:d||"average",time_group_options:"",time_resampling:0},metrics:[{group_by:b,aggregation:v}]},window:{after:Math.floor(c/1e3),before:Math.floor(s/1e3),points:f,baseline:{after:Math.floor(o/1e3),before:Math.floor(i/1e3)}},scope:{nodes:m,contexts:h?[h]:p},method:u||"ks2",options:l?Array.isArray(l)?l:[l]:[],timeout:3e4})}},48854:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(4480);const a={fullyLoaded:!1,loaded:!1,id:null,mg:null,nd:null,isDeleted:!1,name:"",version:"",ni:null,labels:{},hw:{architecture:"",cpuFrequency:"",cpus:"",memory:"",diskSpace:"",virtualization:"",container:""},os:{id:"",nm:"",v:"",kernel:{nm:"",v:""}},capabilities:{},state:"",isProtobufCapable:!0,urls:[],accessCount:0,lastAccessTime:"",updateSeverity:"",hasAccessibleData:!1,isLive:!1};t.Z=(0,r.cn)({key:"nodes",default:{}})},97945:function(e,t,n){"use strict";n.d(t,{$E:function(){return h},HZ:function(){return E},Hg:function(){return B},Jz:function(){return R},M2:function(){return _},Mm:function(){return A},Ne:function(){return v},Ng:function(){return P},TQ:function(){return f},WR:function(){return G},Xw:function(){return y},Y0:function(){return Z},bV:function(){return p},d$:function(){return D},e5:function(){return w},m3:function(){return L},mf:function(){return x},pG:function(){return F},zP:function(){return g}});n(57640),n(9924),n(25387),n(2490),n(72608),n(33948),n(88449),n(59849);var r=n(67294),a=n(4480),o=n(89250),i=n(38609),c=n(41331),s=n(96929),u=n(37518),l=n(48854),d=n(18761);const m=(0,a.CG)({key:"nodeInfoState",get:e=>{let{nodeId:t,spaceId:n}=e;return async()=>{try{return(await(0,d.BC)(t,n)).data}catch(e){}}}}),f=(e,t)=>(0,a.$P)(m({nodeId:e,spaceId:t})),g=(0,a.CG)({key:"nodeState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r(l.Z)[t]||l.a;return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;return n?"function"===typeof r?a(l.Z,(e=>{const a=e[t]||l.a;return{...e,[t]:{...a,[n]:r(a[n])}}})):void a(l.Z,(e=>{const a=e[t]||l.a;return{...e,[t]:{...a,[n]:r}}})):a(l.Z,(e=>({...e,[t]:{...l.a,...r}})))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),p=(e,t)=>(0,a.sJ)(g({id:e,key:t})),h=(0,a.CG)({key:"nodesState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.map((e=>r[e]||l.a))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),v=e=>{const t=(0,s.zN)();return(0,a.sJ)(h(e||t))},b=(0,a.CG)({key:"cloudNodeIdsSelector",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.reduce(((e,t)=>{var n;return null!==(n=r[t])&&void 0!==n&&n.nd?[...e,r[t].nd]:e}),[])},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),y=e=>(0,a.sJ)(b(e||[])),S=(0,a.CG)({key:"queryableNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t,n;return(null===(t=r[e])||void 0===t?void 0:t.isLive)||"stale"===(null===(n=r[e])||void 0===n?void 0:n.state)}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),A=e=>{const t=(0,s.zN)();return(0,a.sJ)(S(e||t))},k=(0,a.CG)({key:"liveNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t;return null===(t=r[e])||void 0===t?void 0:t.isLive}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),E=e=>{const t=(0,s.zN)();return(0,a.sJ)(k(e||t))},T=(0,a.CG)({key:"staleNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t;return"stale"===(null===(t=r[e])||void 0===t?void 0:t.state)}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),w=e=>{const t=(0,s.zN)();return(0,a.sJ)(T(e||t))},C=(0,a.CG)({key:"offlineNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t;return null===(t=r[e])||void 0===t?void 0:t.isOffline}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),x=e=>{const t=(0,s.zN)();return(0,a.sJ)(C(e||t))},I=(0,a.CG)({key:"unseenNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t;return null===(t=r[e])||void 0===t?void 0:t.isUnseen}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),Z=e=>{const t=(0,s.zN)();return(0,a.sJ)(I(e||t))},N=((0,a.CG)({key:"mlNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t,n,a;return null===(t=r[e])||void 0===t||null===(n=t.capabilities)||void 0===n||null===(a=n.ml)||void 0===a?void 0:a.enabled}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),(0,a.CG)({key:"needUpdateNodeIdsState",get:e=>{let{ids:t,severities:n=["warning","critical"]}=e;return e=>{let{get:r}=e;const a=r(l.Z);return t.filter((e=>{var t;return n.includes(null===(t=a[e])||void 0===t?void 0:t.updateSeverity)}))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}})),P=function(){let{ids:e,severity:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=E();return(0,a.sJ)(N({ids:e||n,...t&&{severities:[t]}}))},M=(0,a.CG)({key:"fnNodeIdsState",get:e=>t=>{let{get:n}=t;const r=n(l.Z);return e.filter((e=>{var t,n;return null===(t=r[e])||void 0===t||null===(n=t.capabilities.funcs)||void 0===n?void 0:n.enabled}))},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),_=e=>{const t=(0,s.zN)();return(0,a.sJ)(M(e||t))},R=(0,a.nZ)({key:"nodesState/initialize",get:e=>{let{get:t}=e;return t(l.Z)},set:(e,t)=>{let{set:n}=e,{values:r,merge:a}=t;return n(l.Z,(e=>{const t=a?(0,i.Z)(e,r):r;return(0,c.ZP)(t,e)?e:t}))}}),D=()=>(0,a.sJ)(R),U=()=>{const e=(0,u.A3)();return e&&"".concat(e,"/nodes")},L=e=>{const t=U();return"".concat(t,"/").concat(e)},B=()=>{const e=U();return t=>"".concat(e,"/").concat(t)},G=function(e){let{alertId:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(()=>{const e=(0,o.s0)(),t=U();return(0,r.useCallback)(((n,r)=>{e("".concat(t,"/").concat(n),r?{state:r}:"")}),[t,e])})();return(0,r.useCallback)((()=>n(e,{alertId:t})),[n])},F=()=>{var e,t;return null===(e=(0,o.bS)("/spaces/:spaceSlug/rooms/:roomSlug/nodes/:nodeId"))||void 0===e||null===(t=e.params)||void 0===t?void 0:t.nodeId}},82902:function(e,t,n){"use strict";n.d(t,{Ly:function(){return s},Ud:function(){return i},V6:function(){return a},XY:function(){return c}});n(15306),n(33948),n(57640),n(9924);var r=n(62200);const a=e=>1===e?"Node":"Nodes",o=[1,26],i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!e||"unknown"===e)return!1;const[n,r,a]=(e=>e.replace(/^v/,"").split("."))(e).map((e=>Number(e)));return!(n&&!isNaN(n)&&!isNaN(r))||(n<t[0]||!(n>t[0])&&(r<t[1]||!(r>t[1])&&a<t[2]))},c={docker:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#docker",mac:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#macos",binpkg:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#issues-with-older-binpkg-installs",default:"https://learn.netdata.cloud/docs/agent/packaging/installer/update#updates-for-most-systems"},s=e=>{let{container:t,os:n,_install_type:a,version:o}=e;const s=i(o,r.OI);if(!t&&!n&&!a)return c.default;return c["docker"===t?"docker":"mac"===n?"mac":"binpkg"===a&&s?"binpkg":"default"]}},95248:function(e,t,n){"use strict";n.d(t,{dz:function(){return b},D0:function(){return T},tk:function(){return k},I0:function(){return A},by:function(){return y},wT:function(){return x},c6:function(){return w},TA:function(){return Z},H7:function(){return N},Sf:function(){return E},TQ:function(){return S},XT:function(){return C}});var r={};n.r(r),n.d(r,{global:function(){return l},specific:function(){return p}});var a={};n.r(a),n.d(a,{global:function(){return h},specific:function(){return m}});var o=n(4480),i=n(37518),c=n(96929),s=(n(57640),n(9924),n(58591)),u=n(14600);var l=()=>[e=>{let{onSet:t}=e;t(((e,t)=>{let{after:n,before:r,correlation:a,utc:o,...i}=e,{correlation:c,...l}=t;r=n<0?0:r;const{offset:d=""}=(0,u.E)("default",o||l.utc),m=(f=i.modalParams||l.modalParams)?Object.keys(f).map((e=>"".concat(e,"=").concat(f[e]))).join(","):"";var f;const{highlight:g,...p}={...l,...i,after:n,before:r,offset:d,metrics_correlation:a,utc:o,modalParams:m};g.after?(0,s.xs)({highlight_after:g.after,highlight_before:g.before,...p}):((0,s.xs)(p),(0,s.bp)(["highlight_after","highlight_before"]))}))}];n(25387),n(2490),n(72608),n(15306);const d={default:e=>e?e.split(","):[],isPolling:e=>"true"===e,pollingInterval:e=>e?parseInt(e,10):0,sortColumn:e=>e,sortDirection:e=>e,query:e=>e,chartName:e=>e,tocSearch:e=>e};var m=e=>{let{key:t,extraKey:n=""}=e;if(!t&&!n)return{};const r="".concat(t,"-").concat(n,"-"),a=(0,s.m$)();return Object.keys(a).reduce(((e,t)=>{if(!t.startsWith(r))return e;const n=t.replace(r,""),o=d[n]||d.default;return e[n]=o(a[t]),e}),{})};const f=e=>e.toString(),g={default:e=>Array.isArray(e)?e.join(","):(e||"").toString(),isPolling:f,pollingInterval:f,sortColumn:f,sortDirection:f,query:f,chartName:f,tocSearch:f};var p=e=>{let{key:t,extraKey:n=""}=e;const r="".concat(t,"-").concat(n,"-");return[e=>{let{setSelf:r,trigger:a,node:o,getLoadable:i}=e;if("get"===a){if(Object.keys(i(o).contents).length)return;const e=(0,s.m$)();if(Object.keys(e).length)return;setTimeout((()=>r(m({key:t,extraKey:n}))))}},e=>{let{onSet:t}=e;t(((e,t)=>{const n={...t,...e},a=[],o=Object.keys(n).reduce(((e,t)=>{if("undefined"===typeof n[t])return a.push(r+t),e;const o=g[t]||g.default;return e[r+t]=o(n[t]),e}),{});(0,s.xs)(o),(0,s.bp)(a)}))}]};n(33948);var h=()=>{const{after:e=-900,before:t=0,utc:n="default",highlight_after:r,highlight_before:a,metrics_correlation:o=!1,timezoneName:i,modal:c="",modalTab:l="",modalParams:d}=(0,s.m$)(),{offset:m=0,utc:f,text:g=""}=(0,u.E)("default",n),p=i&&"undefined"!==i?i:g,h={after:isNaN(Number(r))?Number(r):null,before:isNaN(Number(a))?Number(a):null},v=isNaN(Number(e))?-900:Number(e),b={after:v,before:v<0?0:isNaN(Number(t))?v+900:Number(t),utc:f,offset:m,timezoneName:p,modal:c,modalTab:l};return h.after?(0,s.xs)({highlight_after:h.after,highlight_before:h.before,metrics_correlation:o,...b}):(0,s.xs)({metrics_correlation:o,...b}),{highlight:h,correlation:"true"===o,...b,modalParams:(y=d,y&&y.split(",").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}))};var y},v=(0,o.xu)({key:"paramsAtom",default:e=>(a[e.key]||m)(e),effects:e=>(r[e.key]||p)(e)});const b=(0,o.CG)({key:"paramsState",get:e=>{let{key:t="global",extraKey:n,param:r}=e;return e=>{let{get:a}=e;const o=a(v({key:t,extraKey:n}));return r?o[r]:o}},set:e=>{let{key:t="global",extraKey:n,param:r}=e;return(e,a)=>{let{set:o}=e;o(v({key:t,extraKey:n}),(e=>"function"===typeof a?r?{...e,[r]:a(e[r])}:{...e,...a(e)}:r?{...e,[r]:a}:{...e,...a}))}}}),y=function(e){let{key:t,extraKey:n,defaultValue:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,o.sJ)(b({key:t,param:e,extraKey:n}));return"undefined"===typeof a?r:a},S=function(e){let{key:t,extraKey:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Zl)(b({key:t,param:e,extraKey:n}))},A=function(e){let{key:t,extraKey:n,defaultValue:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[y(e,{key:t,extraKey:n,defaultValue:r}),S(e,{key:t,extraKey:n})]},k=(e,t)=>{let{extraKey:n,defaultValue:r}=t;const a=(0,i.UL)();return y(e,{key:a,extraKey:n,defaultValue:r})},E=(e,t)=>{let{extraKey:n}=t;const r=(0,i.UL)();return S(e,{key:r,extraKey:n})},T=(e,t)=>{let{extraKey:n,defaultValue:r}=t;return[k(e,{extraKey:n,defaultValue:r}),E(e,{extraKey:n})]},w=function(){let{key:e,extraKey:t,defaultValue:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,i.UL)();return y("selectedNodeIds",{key:e||r,extraKey:t,defaultValue:n})},C=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,i.UL)();return S("selectedNodeIds",{key:e||n,extraKey:t})},x=function(){let{key:e,extraKey:t,defaultValue:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[w({key:e,extraKey:t,defaultValue:n}),C({key:e,extraKey:t})]},I=[],Z=function(){let{key:e,extraKey:t,defaultValue:n=I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=w({key:e}),a=w({key:e,extraKey:t});return null!==a&&void 0!==a&&a.length?a:null!==r&&void 0!==r&&r.length?r:n},N=function(){let{key:e,extraKey:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,c.zN)()||I;return Z({key:e,extraKey:t,defaultValue:n})}},8018:function(e,t,n){"use strict";n.d(t,{Bl:function(){return b},GT:function(){return y},O9:function(){return l},R2:function(){return d},RO:function(){return f},ar:function(){return g},og:function(){return v},qn:function(){return p},tn:function(){return m},xj:function(){return h}});n(33948);var r=n(93017),a=n(68008),o=n(13477),i=n(74059),c=n(37518),s=n(25819),u=n(1229);const l=function(e){let{silent:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,c.tE)(e,"spaceId"),[u,l]=(0,r.Z)(),d=(0,o.Iy)("isAnonymous"),m=(0,i.Q6)();return(0,a.Z)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(d||m)return Promise.resolve().then((()=>!t&&u({header:"Rooms",text:"Connect to cloud to be able to save your settings!"})));const a=(0,s.R$)(n,e,r);return a.then((()=>!t&&u({header:"Rooms",text:"Room successfully updated!"}))).catch((e=>!e.isCancel&&l(e))),a}),[e,d,m,n])},d=(e,t)=>{const[n,o]=(0,r.Z)(),i=(0,c.tE)(t,"name");return(0,a.Z)((()=>{const r=(0,s.GX)(e,t);return r.then((()=>n({header:"Rooms",text:"Room ".concat(i," was successfully deleted!")}))).catch((e=>!e.isCancel&&o(e))),r}),[t,e])},m=(e,t)=>{const[,n]=(0,r.Z)(),i=(0,o.jr)(),l=(0,a.Z)((()=>{const r=(0,s.EP)(e,t,i);return r.catch((e=>!e.isCancel&&n(e))),r}),[e,t,i]),[m,...f]=(0,u.IT)(t,"ids"),g=d(e,t),p=(0,c.tE)(t,"untouchable");return f.length||m!==i||p?l:g},f=e=>{const[t,n]=(0,r.Z)();return(0,a.Z)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,s.dB)(e,r);return a.then((()=>t({header:"Rooms",text:"Room ".concat(r.name," was successfully created!")}))).catch((e=>!e.isCancel&&n(e))),a}),[e])},g=(e,t)=>{const[n,o]=(0,r.Z)();return(0,a.Z)((r=>{const a=(0,s.r7)(e,t,r);return a.then((()=>n({header:"Rooms",text:"Member".concat(r.length>1?"s":""," successfully added!")}))).catch((e=>!e.isCancel&&o(e))),a}),[e])},p=function(e,t){let{onSuccess:n,onFail:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=(0,o.jr)(),[l,d]=(0,r.Z)(),m=(0,c.s)(t);return(0,a.Z)((()=>{const r=(0,s.r7)(e,t,[u]);return r.then((()=>{m({isMember:!0}),l({header:"Rooms",text:"Successfully joined the room"}),null===n||void 0===n||n()})).catch((e=>{!e.isCancel&&d(e),null===i||void 0===i||i()})),r}),[t,m,e])},h=(e,t)=>{const[n,o]=(0,r.Z)();return(0,a.Z)((r=>{const a=(0,s.EP)(e,t,r);return a.then((()=>n({header:"Rooms",text:"Member".concat(r.length>1?"s":""," successfully removed!")}))).catch((e=>!e.isCancel&&o(e))),a}),[t,e])},v=(e,t)=>{const[n,o]=(0,r.Z)();return(0,a.Z)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=(0,s.Uf)(e,t,r);return a.then((()=>n({header:"Rooms",text:"Nodes successfully added!"}))).catch((e=>!e.isCancel&&o(e))),a}),[t,e])},b=e=>{const[t,n]=(0,r.Z)();return(0,a.Z)((r=>{const a={data:{node_ids:r}},o=(0,s.OE)(e,a);return o.then((()=>t({header:"Rooms",text:"Node successfully deleted!"}))).catch((e=>!e.isCancel&&n(e))),o}),[e])},y=(e,t)=>{const[n,o]=(0,r.Z)();return(0,a.Z)((r=>{const a=(0,s.r4)(e,t,r);return a.then((()=>n({header:"Rooms",text:"Nodes successfully removed!"}))).catch((e=>!e.isCancel&&o(e))),a}),[t,e])}},25819:function(e,t,n){"use strict";n.d(t,{EP:function(){return S},Fz:function(){return l},GX:function(){return b},Mn:function(){return m},OE:function(){return k},R$:function(){return v},Uf:function(){return A},dB:function(){return p},fv:function(){return h},j2:function(){return g},mP:function(){return T},r4:function(){return E},r7:function(){return y}});n(57640),n(9924),n(25387),n(2490),n(72608),n(31672),n(59461);var r=n(26398),a=n(66152),o=n(53338),i=n(62200),c=n(82902),s=n(78710);const u=e=>{let{nodes:t=[]}=e;return t.map((e=>{let{nm:t,capabilities:n,v:r,...s}=e;return{name:t,version:r,hasAccessibleData:o.ce[s.state],isOffline:s.state===o.AS.offline,isUnseen:s.state===o.AS.unseen,isLive:o.ez[s.state],updateSeverity:(u=r,(0,c.Ud)(u,i.t5)?"critical":(0,c.Ud)(u,i.OI)?"warning":null),capabilities:n.reduce(((e,t)=>(e[t.name]=t,e)),{}),...(0,a.k5)(s),labels:s.labels||{},id:s.nd||s.mg};var u}))},l=e=>{let{roomId:t,spaceId:n}=e;return(0,s.Ly)(n)?r.Z.get("/api/v2/nodes",{baseURL:window.envSettings.agentApiUrl,transform:u}):r.Z.post("/api/v3/spaces/".concat(n,"/rooms/").concat(t,"/nodes"),{scope:{nodes:[]}},{transform:u})},d=e=>{let{context:t,chartType:n="",...r}=e;return{id:t,name:t,context:t,chartType:n,...r}},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{after:o,before:i}=arguments.length>3?arguments[3]:void 0;return(0,s.Ly)(e)?r.Z.get("/api/v2/contexts?scope_nodes=".concat(n.join("|")||"*"),{baseURL:window.envSettings.agentApiUrl,transform:e=>{let{contexts:t={},versions:n={}}=e;return{results:Object.keys(t).map((e=>d({...(0,a.k5)(t[e]),id:e,context:e}))),versions:(0,a.k5)(n)}}}):r.Z.post("/api/v3/spaces/".concat(e,"/rooms/").concat(t,"/contexts"),{scope:{contexts:["*"],nodes:[]},selectors:{contexts:[],nodes:n},window:{after:o,before:i}},{transform:e=>{let{contexts:t={},versions:n={}}=e;return{results:Object.keys(t).map((e=>d({...(0,a.k5)(t[e]),id:e,context:e}))),versions:(0,a.k5)(n)}}})},f=(e,t)=>n=>{let{results:r}=n;return{results:r.map((n=>({...n,spaceId:e,roomId:t})))}},g=(e,t)=>r.Z.get("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/dashboards"),{transform:f(e,t)}),p=(e,t)=>r.Z.post("/api/v1/spaces/".concat(e,"/rooms"),t),h=(e,t)=>r.Z.get("/api/v1/spaces/".concat(e,"/rooms/").concat(t)),v=(e,t,n)=>r.Z.patch("/api/v1/spaces/".concat(e,"/rooms/").concat(t),n),b=(e,t)=>r.Z.delete("/api/v1/spaces/".concat(e,"/rooms/").concat(t)),y=(e,t,n)=>r.Z.post("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/members"),n),S=(e,t,n)=>r.Z.delete("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/members?account_ids=").concat(n)),A=(e,t,n)=>r.Z.post("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/claimed-nodes"),n),k=(e,t)=>r.Z.deleteWithParams("/api/v1/spaces/".concat(e,"/nodes"),t),E=(e,t,n)=>r.Z.delete("/api/v1/spaces/".concat(e,"/rooms/").concat(t,"/claimed-nodes?node_ids=").concat(n)),T=(e,t,n,o)=>{const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=(e=>e.length?{node_ids:e}:{})(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.length?e.reduce(((e,t)=>{let{name:n,...r}=t;return e.provider[n]=r,e}),{filter:{...t},provider:{}}):{filter:{...t},provider:{nodes:{},charts:{},spaceroom:{},alerts:{},dashboards:{}}}}(n,o);return r.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/overview/stats"),i,{transform:(c=n,e=>{const{results:t,providers:n}=(0,a.k5)(e,{depth:3}),r=new Date;return c.reduce(((e,a)=>{let{name:o,projections:i}=a;return{...e,[o]:{...n.find((e=>e.provider===o)),...t["".concat(o,"Stats")],updatedAt:r,...i?{["".concat(i,"_updatedAt")]:r}:{}}}}),{})})});var c}},91850:function(e,t,n){"use strict";n.d(t,{IV:function(){return i},xh:function(){return c}});n(33948);var r=n(4480),a=n(78710),o=n(75674);const i=(0,r.cn)({key:"currentRoomSlug",default:null}),c=(0,r.xu)({key:"roomIdBySlug",default:"",effects:e=>{let[t,n]=e;return(0,a.Ly)(t)&&n===a.Fb?[e=>{let{setSelf:t,trigger:n}=e;"get"===n&&t(a.Fb)}]:[]}});t.ZP=(0,r.xu)({key:"room",default:o.Z,effects:e=>a.ZP&&e===a.Fb?[e=>{let{setSelf:t,trigger:n}=e;"get"===n&&t(a.xZ)}]:[]})},53338:function(e,t,n){"use strict";n.d(t,{AS:function(){return c},TY:function(){return r},ce:function(){return o},ez:function(){return i},i_:function(){return a}});const r="All nodes",a="all-nodes",o={created:!1,reachable:!0,stale:!0,unreachable:!1},i={created:!0,reachable:!0,stale:!1,unreachable:!1},c={offline:"unreachable",unseen:"created",stale:"stale",live:"reachable"}},5934:function(e,t,n){"use strict";n.d(t,{oq:function(){return u},$3:function(){return f},Mg:function(){return g},ie:function(){return d},L:function(){return m}});n(15581),n(2490),n(34514),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865);var r=n(4480),a=n(91966),o=n.n(a),i=n(47133),c=n(37518),s={ids:(0,r.xu)({key:"roomDashboardIds",default:[]}),loaded:(0,r.xu)({key:"roomDashboardsLoaded",default:!1})};const u=(0,r.CG)({key:"roomDashboardState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(s[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;return a(s[n](t),r)}}}),l=(e,t)=>(0,r.sJ)(u({id:e,key:t})),d=()=>{const e=(0,c.UL)();return l(e,"ids")},m=()=>{const e=(0,c.UL)();return l(e,"loaded")},f=(0,r.CG)({key:"roomDashboardsState/add",set:e=>(t,n)=>{let{set:r,get:a}=t;const o=e=>a((0,i.Y3)({id:e,key:"name"}));r(s.ids(e),(e=>[...new Set([...e,n.id])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent"})))))}}),g=(0,r.CG)({key:"roomDashboardsState/remove",set:e=>(t,n)=>{let{set:r}=t;r(s.ids(e),(e=>o()(e,n)))}})},75674:function(e,t){"use strict";t.Z={loaded:!1,fullyLoaded:!1,id:null,isMember:!1,name:"",memberCount:null,nodeCount:null,description:"",private:!1,slug:"",spaceId:null,createdAt:"",untouchable:!0,metrics:[{id:"system.cpu",context:"system.cpu",dimensions:[],enableAllDimensions:!0,hidden:!1,title:"Total CPU",unit:"percentage"},{id:"system.load",context:"system.load",dimensions:[{id:"load15",name:"load15"}],enableAllDimensions:!1,hidden:!1,title:"Load 15",unit:"load"},{id:"mem.available",context:"mem.available",dimensions:[],enableAllDimensions:!0,hidden:!1,title:"Mem Available",unit:"MiB"},{id:"system.swap",context:"system.swap",dimensions:[{id:"free",name:"free"}],enableAllDimensions:!1,hidden:!1,title:"Swap Free",unit:"MiB"},{id:"system.io-in",context:"system.io",dimensions:[{id:"in",name:"in"}],enableAllDimensions:!1,hidden:!1,title:"Disk Reads",unit:"KiB/s"},{id:"system.io-out",context:"system.io",dimensions:[{id:"out",name:"out"}],enableAllDimensions:!1,hidden:!1,title:"Disk Writes",unit:"KiB/s"},{id:"system.net-received",context:"system.net",dimensions:[{id:"InOctets",name:"received"}],enableAllDimensions:!1,hidden:!1,title:"Network In",unit:"kilobits/s"},{id:"system.net-sent",context:"system.net",dimensions:[{id:"OutOctets",name:"sent"}],enableAllDimensions:!1,hidden:!1,title:"Network Out",unit:"kilobits/s"}]}},1229:function(e,t,n){"use strict";n.d(t,{Ci:function(){return l},r3:function(){return p},e1:function(){return m},lA:function(){return f},GA:function(){return v},IT:function(){return d}});n(15581),n(2490),n(34514),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865);var r=n(4480),a=n(91966),o=n.n(a),i=n(34912),c=n(37518),s={ids:(0,r.xu)({key:"roomMemberIds",default:[]}),error:(0,r.xu)({key:"roomMembersError",default:null}),updatedAt:(0,r.xu)({key:"roomMembersUpdatedAt",default:""}),loaded:(0,r.xu)({key:"roomMembersLoaded",default:!1})},u=n(8018);const l=(0,r.CG)({key:"roomMemberState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(s[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(s[n](t),r)}}}),d=(e,t)=>(0,r.sJ)(l({id:e,key:t})),m=()=>{const e=(0,c.UL)();return d(e,"ids")},f=()=>{const e=m();return(0,i.Vr)(e)},g=(0,r.CG)({key:"roomMembersState/add",set:e=>(t,n)=>{let{set:r,get:a}=t;const o=e=>a((0,i.mX)({id:e,key:"name"}));r(s.ids(e),(e=>[...new Set([...e,...n])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent"})))))}}),p=function(e,t){let{onSuccess:n,onFail:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,u.ar)(e,t);return(0,r._8)((e=>{let{set:r}=e;return e=>{try{o(e),r(g(t),e),n&&n(e)}catch(i){a&&a(e)}}}),[o,e,n,a])},h=(0,r.CG)({key:"roomMembersState/remove",set:e=>(t,n)=>{let{set:r}=t;return r(s.ids(e),(e=>o()(e,n)))}}),v=function(e,t){let{onSuccess:n,onFail:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,u.xj)(e,t);return(0,r._8)((e=>{let{set:r}=e;return e=>{try{o(e),r(h(t),e),n&&n(e)}catch(i){a&&a(e)}}}),[o,e,t,n,a])}},29495:function(e,t,n){"use strict";n.d(t,{gl:function(){return f},c0:function(){return y},jN:function(){return m},xQ:function(){return d},dh:function(){return v},uA:function(){return p},VP:function(){return b},Y6:function(){return h}});n(57640),n(9924),n(15581),n(2490),n(34514),n(33948),n(88449),n(59849);var r=n(4480),a=n(28721),o=n(8018);n(25387),n(72608);const i=n(75674).Z.metrics.reduce(((e,t)=>({...e,[t.id]:t})),{}),c={id:null,title:"",context:"",unit:"",dimensions:[],enableAllDimensions:!1,hidden:!1},s=(0,r.xu)({key:"roomMetricIds",default:Object.keys(i)});var u=(0,r.xu)({key:"roomMetrics",default:e=>i[e]||{}});const l=(0,r.CG)({key:"roomMetricState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r(u(t));return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;return n?"function"===typeof r?a(u(t),(e=>({...e,[n]:r(e[n])}))):void a(u(t),(e=>({...e,[n]:r}))):a(u(t),"function"===typeof r?r:{...c,...r})}}}),d=(e,t)=>(0,r.sJ)(l({id:e,key:t})),m=e=>(0,r.rb)(u(e)),f=(0,r.CG)({key:"roomMetricIdsState",get:e=>t=>{let{get:n}=t;return n(s(e))},set:e=>(t,n)=>{let{set:r}=t;r(s(e),n.map((e=>{let{id:t}=e;return t}))),n.forEach((e=>r(u(e.id),e)))}}),g=(0,r.CG)({key:"roomMetricsState",get:e=>t=>{let{get:n}=t;return n(f(e)).map((e=>n(u(e))))}}),p=e=>(0,r.sJ)(g(e)),h=function(e){let{shouldPersist:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.O9)(e,{silent:!0});return(0,r._8)((r=>{let{set:a,snapshot:o}=r;return async function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),s=1;s<i;s++)c[s-1]=arguments[s];const[u,d]=1===c.length?[c[0]]:c;if(a(l({id:r,key:u}),d),t)try{const t=await o.map((e=>{let{set:t}=e;return t(l({id:r,key:u}),d)})).getPromise(g(e));await n({metrics:t})}catch(m){a(l({id:e,key:u}),await o.getPromise(l({id:e,key:u})))}}}),[e])},v=e=>[p(e),h(e)],b=e=>{const t=(0,o.O9)(e);return(0,r._8)((n=>{let{set:r,snapshot:o}=n;return async n=>{const i="new"===n.id,c=(await o.getPromise(g(e))).filter((e=>e.id!==n.id)),u=i?{...n,id:(0,a.Z)()}:n,d=[...c,u];await t({metrics:d}),r(l({id:u.id}),u),i&&r(s(e),(e=>[...e,u.id]))}}),[e])},y=e=>{const t=(0,o.O9)(e,{silent:!0});return(0,r._8)((n=>{let{set:r,reset:a,snapshot:o}=n;return async n=>{const i=(await o.getPromise(g(e))).filter((e=>e.id!==n));await t({metrics:i}),r(s(e),(e=>e.filter((e=>e!==n)))),a(u(n))}}),[e])}},96929:function(e,t,n){"use strict";n.d(t,{kY:function(){return d},Nj:function(){return f},iB:function(){return y},zN:function(){return h},fD:function(){return v},Ww:function(){return k},nI:function(){return E},X7:function(){return m},IW:function(){return p}});n(25387),n(2490),n(72608),n(57640),n(9924),n(15581),n(34514),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865);var r=n(4480),a=n(91966),o=n.n(a),i=n(97945),c=n(37518),s=n(8018),u={ids:(0,r.xu)({key:"roomNodeIds",default:[]}),error:(0,r.xu)({key:"roomNodesError",default:null}),updatedAt:(0,r.xu)({key:"roomNodesUpdatedAt",default:""}),loaded:(0,r.xu)({key:"roomNodesLoaded",default:!1})},l={nodes:(0,r.xu)({key:"roomNodesOptions",default:[]}),error:(0,r.xu)({key:"roomNodesOptionsError",default:null}),loaded:(0,r.xu)({key:"roomNodesOptionsLoaded",default:!1})};const d=(0,r.CG)({key:"roomNodeState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(u[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(u[n](t),r)}}}),m=(e,t)=>(0,r.sJ)(d({id:e,key:t})),f=(0,r.CG)({key:"roomNodesOptions",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(l[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(l[n](t),r)}}}),g=(0,r.CG)({key:"roomsNodesOptions",get:e=>t=>{let{get:n}=t;return null!==e&&void 0!==e&&e.length?e.reduce(((e,t)=>{const r=e.map((e=>{let{value:t}=e;return t}));return n(f({id:t,key:"nodes"})).forEach((t=>{r.includes(t.value)||e.push(t)})),e}),[]):[]}}),p=e=>(0,r.sJ)(g(e)),h=()=>{const e=(0,c.UL)();return m(e,"ids")},v=()=>{const e=(0,c.UL)();return m(e,"loaded")},b=(0,r.CG)({key:"roomNodesState/add",get:()=>()=>null,set:e=>(t,n)=>{let{set:r,get:a}=t;const o=e=>a((0,i.zP)({id:e,key:"name"}));r(u.ids(e),(e=>[...new Set([...e,...n])].sort(((e,t)=>o(e).localeCompare(o(t),void 0,{sensitivity:"accent"}))))),r(u.updatedAt(e),"")}}),y=function(e,t){let{onSuccess:n,onFail:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,s.og)(e,t);return(0,r._8)((e=>{let{set:r}=e;return async function(e){let{makeCallback:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=await o(e);a&&e.reduce(((e,t,n)=>{var r;return null!==(r=a[n])&&void 0!==r&&r.errorCode?e:[...e,t]}),[]),r(b(t),e),i&&n&&n(e)}catch(c){i&&a&&a(e)}}}),[o,e,n,a])},S=(0,r.CG)({key:"roomNodesState/obsolete",get:()=>()=>null,set:e=>{let{roomId:t,nodeIds:n}=e;return e=>{let{set:r}=e;r(u.ids(t),(e=>o()(e,n))),r(u.updatedAt(t),"")}}}),A=(0,r.CG)({key:"roomNodesState/remove",get:()=>()=>null,set:e=>(t,n)=>{let{set:r}=t;r(u.ids(e),(e=>o()(e,n))),r(u.updatedAt(e),"")}}),k=function(e,t){let{onSuccess:n,onFail:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,s.Bl)(e);return(0,r._8)((e=>{let{set:r}=e;return async e=>{try{await o(e),e.map((e=>{r((0,i.zP)({id:e,key:"state"}),"deleted")})),t.map((t=>{r(S({roomId:t,nodeIds:e}))})),n&&n(e)}catch(c){a&&a()}}}),[o,e,n,a])},E=function(e,t){let{onSuccess:n,onFail:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,s.GT)(e,t);return(0,r._8)((e=>{let{set:r}=e;return async e=>{try{await o(e),r(A(t),e),n&&n(e)}catch(i){a&&a(e)}}}),[o,e,t,n,a])}},37518:function(e,t,n){"use strict";n.d(t,{ZB:function(){return b},n2:function(){return S},Dq:function(){return E},jW:function(){return R},UL:function(){return N},A3:function(){return M},vf:function(){return x},Hm:function(){return P},Jb:function(){return _},IX:function(){return C},iC:function(){return w},HM:function(){return Z},tE:function(){return A},TF:function(){return I},s:function(){return k}});n(15581),n(2490),n(34514),n(88449),n(59849);var r=n(4480),a=n(95383),o=n(74059),i=n(53338),c=n(4474),s=n(91850),u=n(75674),l=n(8018),d=n(83338),m=n(29495),f=n(67294),g=n(19368),p=n(23383),h=n(71172);var v=e=>{const t="".concat((0,g.P)()).concat((0,p.e)(e));return(0,f.useCallback)((e=>(0,h.c)({key:t,handleResults:t=>t.results.concat(e)})),[t])};const b=(0,r.CG)({key:"roomInitialize",get:e=>t=>{let{get:n}=t;return n((0,s.ZP)(e))},set:()=>(e,t)=>{let{set:n}=e;const{settings:r,...a}=t;n((0,s.ZP)(a.id),(e=>({...u.Z,...e,...a}))),n((0,s.xh)([a.spaceId,a.slug]),a.id),r&&n((0,d.Z)(a.id),(e=>({...e,...r}))),a.metrics&&n((0,m.gl)(a.id),a.metrics)}}),y=(0,r.CG)({key:"roomsInitialize",get:()=>()=>null,set:()=>(e,t)=>{let{set:n}=e;t.forEach((e=>{n(b(e.id),e)}))}}),S=(0,r.CG)({key:"roomState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r((0,s.ZP)(t));return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a((0,s.ZP)(t),n?"function"!==typeof r?e=>({...e,[n]:r}):e=>({...e,[n]:r(e[n])}):{...u.Z,...r})}},reset:e=>{let{id:t,key:n}=e;return(e,r)=>{let{reset:a,set:o}=e;n?o((0,s.ZP)(t),"function"!==typeof r?e=>({...e,[n]:r}):e=>({...e,[n]:r(e[n])})):a((0,s.ZP)(t))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),A=(e,t)=>(0,r.sJ)(S({id:e,key:t})),k=function(e){let{key:t,shouldPersist:n,onSuccess:a,onFail:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,r.Zl)(S({id:e,key:t})),c=(0,l.O9)(e);return(0,r._8)((r=>{let{snapshot:s}=r;return async r=>{const u=t?{[t]:r}:r;if(i((e=>({...e,...u}))),!n)return;const l=await s.getPromise(S({id:e}));try{await c(u),a&&a(r)}catch(d){i(t?l[t]:l),o&&o(r)}}}),[e,t,n,a,o])},E=function(e){let{onSuccess:t,onFail:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,l.RO)(e),i=v(e);return(0,r._8)((r=>{let{set:c}=r;return async r=>{try{const{data:n}=await o(r),s={...r,spaceId:e,...n,loaded:!0};await i(s),c(y(),[s]),c((0,a.oC)(e),s),t&&t(s)}catch(s){n&&n(r)}}}),[o,e,t,n,i])},T=function(e,t){let{onSuccess:n,onFail:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(0,r.rb)(S({id:e})),u=A(e,"spaceId");return(0,r._8)((r=>{let{snapshot:l,set:d,reset:m}=r;return async()=>{const r=await l.getPromise(S({id:e})),f=await l.getPromise((0,a.q3)({id:r.spaceId})),g=(0,c.rZ)(f.filter((t=>t.id!==e)));try{await t(),m((0,s.xh)([u,r.slug])),d(s.IV,g),d((0,a.v0)(u),r.id),i(),n&&n(r)}catch(p){o&&o(r)}}}),[t,u,e,n,o])},w=(e,t)=>{const n=A(e,"spaceId"),r=(0,l.tn)(n,e);return T(e,r,t)},C=(e,t)=>{const n=A(e,"spaceId"),r=(0,l.R2)(n,e);return T(e,r,t)},x=()=>(0,r.sJ)(s.IV),I=e=>(0,r.Zl)(s.IV,e),Z=(e,t)=>(0,r.sJ)((0,s.xh)([e,t])),N=e=>{const t=(0,o.th)(),n=x();return Z(t,e||n)},P=e=>{const t=N();return A(t,e)},M=()=>{const e=(0,o.uk)(),t=x();return e&&t&&"/spaces/".concat(e,"/rooms/").concat(t)},_=()=>(0,a.J7)().filter((e=>{let{slug:t}=e;return t===i.i_}))[0]||{id:""},R=()=>{const{id:e=""}=_();return"member"===(0,o.OS)("roleInSpace")&&!!e}},83338:function(e,t,n){"use strict";var r=n(4480);t.Z=(0,r.xu)({key:"roomSettings",default:{groupMode:""}})},310:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});const r=(e,t)=>t.untouchable?1:e.untouchable?-1:e.name.localeCompare(t.name,void 0,{sensitivity:"accent"})},30266:function(e,t,n){"use strict";n.d(t,{$F:function(){return m},A6:function(){return d},NX:function(){return s},Ns:function(){return u},Q0:function(){return g},oq:function(){return c},wh:function(){return l}});n(57640),n(9924),n(25387),n(2490),n(72608);var r=n(26398),a=n(66152),o=n(62200),i=n(64358);const c=()=>r.Z.get(o.MC,{transform:e=>e.map((e=>{let{permissions:t,...n}=e;return{...n,permissions:t.reduce(((e,t)=>({...e,[t]:t})),{})}}))}),s=e=>r.Z.get("/api/v3/spaces/slug/".concat(e)),u=e=>r.Z.delete("/api/v1/spaces/".concat(e)),l=e=>r.Z.post("/api/v1/spaces",{name:e}),d=(e,t)=>r.Z.post("/api/v1/spaces/default",{email:t},{headers:{"Netdata-Account-Id":e}}),m=(e,t)=>r.Z.patch("/api/v1/spaces/".concat(e),t),f=e=>t=>t.map((t=>({...(0,a.k5)(t),spaceId:e}))),g=function(e){let{defaultParam:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.Z.get((0,i.W)({spaceId:e}),{params:{default:t},transform:f(e)})}},58502:function(e,t,n){"use strict";n.d(t,{$V:function(){return i},E3:function(){return o},bo:function(){return c}});var r=n(4480),a=n(78710);const o={createdAt:"",description:"",iconURL:"",id:"",error:null,loaded:!1,name:"",slug:""},i=(0,r.cn)({key:"currentSpaceSlug",default:null}),c=(0,r.xu)({key:"spaceIdBySlug",default:"",effects:e=>a.ZP&&e===a.Xh?[e=>{let{setSelf:t,trigger:n}=e;"get"===n&&t(a.HM)}]:[]});t.ZP=(0,r.xu)({key:"space",default:o,effects:e=>(0,a.Ly)(e)?[e=>{let{setSelf:t,trigger:n}=e;"get"===n&&t(a.aD)}]:[]})},46585:function(e,t,n){"use strict";n.d(t,{Eu:function(){return a},Pf:function(){return o},Qy:function(){return i},T$:function(){return c}});var r=n(67294);const a="SPACE_NOT_FOUND",o=5,i=20,c={delete:r.createElement(r.Fragment,null,"Cannot delete last space of account.",r.createElement("br",null),"You can delete your account instead."),leave:r.createElement(r.Fragment,null,"Cannot leave last space of account.",r.createElement("br",null),"You can delete your account instead.")}},57079:function(e,t,n){"use strict";const r=(0,n(4480).cn)({key:"publicSpacesAtom",default:[]});t.Z=r},95383:function(e,t,n){"use strict";n.d(t,{r1:function(){return l},q3:function(){return h},Ad:function(){return u},oC:function(){return g},v0:function(){return p},J7:function(){return b},yE:function(){return f},Gn:function(){return m},WY:function(){return v},y3:function(){return d}});n(15581),n(2490),n(34514),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(88449),n(59849),n(57640),n(9924);var r=n(4480),a=n(37518),o=n(74059),i=n(78710),c={ids:(0,r.xu)({key:"spaceRoomIds",default:[],effects:e=>(0,i.Ly)(e)?[e=>{let{onSet:t,trigger:n,setSelf:r}=e;"get"===n&&r([i.Fb]),t((e=>{r([i.Fb,...e])}))}]:[]}),updatedAt:(0,r.xu)({key:"spaceRoomsUpdatedAt",default:""}),loaded:(0,r.xu)({key:"spaceRoomsLoaded",default:!1,effects:e=>(0,i.Ly)(e)?[e=>{let{trigger:t,setSelf:n}=e;"get"===t&&n(!0)}]:[]})},s=n(310);const u=(0,r.CG)({key:"spaceRoomState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(c[n](t))}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a(c[n](t),r)}}}),l=(e,t)=>{Object.values(c).forEach((n=>e(n(t))))},d=(e,t)=>(0,r.sJ)(u({id:e,key:t})),m=e=>{const t=(0,o.th)();return d(t,e)},f=()=>{const e=(0,o.th)();return d(e,"ids")},g=(0,r.CG)({key:"spaceRoomsState/add",get:()=>()=>null,set:e=>(t,n)=>{let{set:r,get:o}=t;const i=e=>o((0,a.n2)({id:e}));r(u({id:e,key:"ids"}),(e=>[...new Set([...e,n.id])].sort(((e,t)=>(0,s.y)(i(e),i(t)))))),r(u({id:e,key:"loaded"}),!0),r(u({id:e,key:"updatedAt"}),"")}}),p=(0,r.CG)({key:"spaceRoomsState/remove",get:()=>()=>null,set:e=>(t,n)=>{let{set:r}=t;r(u({id:e,key:"ids"}),(e=>e.filter((e=>e!==n)))),r(u({id:e,key:"loaded"}),!0),r(u({id:e,key:"updatedAt"}),"")}}),h=(0,r.CG)({key:"spaceFullRooms",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;return r(u({id:t,key:"ids"})).map((e=>r((0,a.n2)({id:e,key:n}))))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),v=(e,t)=>(0,r.sJ)(h({id:e,key:t})),b=e=>{const t=(0,o.th)();return v(t,e)}},74059:function(e,t,n){"use strict";n.d(t,{BN:function(){return f},YH:function(){return m},U7:function(){return d},st:function(){return u},Iw:function(){return v},th:function(){return S},uk:function(){return b},OS:function(){return k},Zu:function(){return E},$v:function(){return y},VZ:function(){return h},Q6:function(){return A},vu:function(){return g},GM:function(){return p}});n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(15581),n(2490),n(34514),n(57640),n(9924);var r=n(4480),a=n(78710),o=n(49674),i={ids:(0,r.cn)({key:"spaceIds",default:[],effects:a.ZP?[e=>{let{onSet:t,trigger:n,setSelf:r}=e;"get"===n&&r([a.HM]),t((e=>{r([a.HM,...e])}))}]:[]}),error:(0,r.cn)({key:"spacesError",default:null}),updatedAt:(0,r.cn)({key:"spacesUpdatedAt",default:""}),loaded:(0,r.cn)({key:"spacesLoaded",default:!1,effects:[e=>{var t;let{trigger:n,setSelf:r,getLoadable:i}=e;((0,a.iM)()||null!==(t=i(o.Z).contents)&&void 0!==t&&t.isAnonymous)&&"get"===n&&r(!0)}]})},c=n(58502),s=n(57079);const u=(0,r.CG)({key:"spacesState",get:e=>t=>{let{get:n}=t;return n(i[e])},set:e=>(t,n)=>{let{set:r}=t;r(i[e],n)}}),l=(0,r.nZ)({key:"availableSpaceIds",get:e=>{let{get:t}=e;const n=t(u("ids")),r=t(s.Z);return[...new Set([...n,...r])]}}),d=(0,r.CG)({key:"spaceState",get:e=>{let{id:t,key:n}=e;return e=>{let{get:r}=e;const a=r((0,c.ZP)(t));return n?a[n]:a}},set:e=>{let{id:t,key:n}=e;return(e,r)=>{let{set:a}=e;a((0,c.ZP)(t),n?"function"!==typeof r?e=>({...e,[n]:r}):e=>({...e,[n]:r(e[n])}):{...c.E3,...r})}}}),m=(0,r.CG)({key:"spaceIdBySlugState",get:e=>t=>{let{get:n}=t;return n((0,c.bo)(e))},set:()=>(e,t)=>{let{set:n}=e;t.forEach((e=>{n((0,c.bo)(e.slug),e.id)}))}}),f=(0,r.nZ)({key:"currentSpaceIdState",get:e=>{let{get:t}=e;const n=t(c.$V);return t(m(n))}}),g=(e,t)=>(0,r.sJ)(d({id:e,key:t})),p=e=>(0,r.sJ)(u(e)),h=e=>(0,r.sJ)(m(e)),v=()=>(0,r.sJ)(l),b=()=>(0,r.sJ)(c.$V),y=e=>(0,r.Zl)(c.$V,e),S=()=>(0,r.sJ)(f),A=()=>(0,a.Ly)(S()),k=e=>{const t=S();return g(t,e)},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r._8)((t=>{let{snapshot:n}=t;return()=>e.map((e=>n.getLoadable(d({id:e})).contents))}))()}},32950:function(e,t,n){"use strict";var r=n(74059),a=n(94979),o=n(46585),i=n(78710);t.Z=()=>{const e=(0,a.V)(),t=(0,r.VZ)(e),n=(0,r.vu)(t||o.Eu),c=(0,r.GM)("error");return(0,i.Ly)(t)?{isFetching:!1,hasAccess:!0}:{isFetching:!!e&&!n.loaded&&!c&&!n.error,hasAccess:n.loaded&&!c&&!n.error}}},94979:function(e,t,n){"use strict";n.d(t,{Z:function(){return h},V:function(){return p}});n(33948),n(25387),n(2490),n(72608),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865);var r=n(4480),a=n(89250),o=n(30266),i=n(67294),c=n(74059);const s="/spaces/:spaceSlug/*";var u=n(13477),l=n(33335),d=n(57079),m=n(46585),f=n(16634),g=n(78710);const p=()=>{var e,t;return null===(e=(0,a.bS)(s))||void 0===e||null===(t=e.params)||void 0===t?void 0:t.spaceSlug};var h=()=>{const e=(()=>{const e=(0,a.bS)(s),{spaceSlug:t}=(null===e||void 0===e?void 0:e.params)||{},n=(0,c.$v)(),r=(0,c.uk)();return(0,i.useEffect)((()=>{r!==t&&n(t)}),[r,t]),t})(),[t,n]=(0,i.useState)(null),p=(0,u.Iy)("isAnonymous"),h=(0,r._8)((r=>{let{set:a}=r;return async()=>{try{const{data:t}=await(0,o.NX)(e),{id:n,permissions:r,...i}=t;a(l.SX,{id:n,permissions:r.reduce(((e,t)=>({...e,[t]:t})),{})}),a((0,c.U7)({id:n}),(e=>({...e,...i,loaded:!0}))),a((0,c.YH)(),[{id:n,slug:e}]),a(d.Z,(e=>[...new Set([...e,n])])),p&&a((0,c.st)("loaded"),!0)}catch(t){a((0,c.U7)({id:m.Eu}),(n=>({...n,error:(0,f.Z)(t)}))),n(t)}}}),[p,e]);return(0,i.useEffect)((()=>{g.ZP&&e===g.Xh||e&&h()}),[h,e]),t}},23383:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(68035),a=n(37518),o=n(30266),i=n(95383),c=n(310),s=n(78710);const u=e=>"spaces.".concat(e,".rooms");t.Z=function(e){let{autorun:t=!0,polling:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)((()=>({key:u(e),autorun:t&&!!e,polling:n,fetch:()=>(0,o.Q0)(e),association:{getIds:()=>(0,i.Ad)({id:e,key:"ids"}),getLoaded:()=>(0,i.Ad)({id:e,key:"loaded"}),getUpdatedAt:()=>(0,i.Ad)({id:e,key:"updatedAt"})},sort:c.y,getResource:e=>(0,a.ZB)(e),pollingOptions:{pollingInterval:69e3},force:!s.ZP})),[e])}},5429:function(e,t,n){"use strict";n(33948),n(17727);var r=n(67294);const a=()=>{};t.Z=(e,t)=>{const{fetch:n,enabled:o=!0,initialValue:i,onFail:c=a,onSettle:s=a,onSuccess:u=a,isDefaultLoading:l=!1}=(0,r.useMemo)(e,t),[d,m]=(0,r.useState)(i),[f,g]=(0,r.useState)(l),[p,h]=(0,r.useState)(null),v=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{if(!o)return;m(i),g(!0),h(null);const e=n();return e.then((e=>{let{data:t}=e;v.current&&(m(t),u(t))})).catch((e=>{v.current&&(e.isCancel||(h(e),c(e)))})).finally((()=>{v.current&&(g(!1),s())})),()=>{var t;return null===e||void 0===e||null===(t=e.cancel)||void 0===t?void 0:t.call(e)}}),t),(0,r.useEffect)((()=>()=>v.current=!1),[]),[d,f,p]}},68008:function(e,t,n){"use strict";n(33948);var r=n(67294);t.Z=(e,t)=>{const n=(0,r.useRef)();return(0,r.useCallback)((function(){var t,r;return n.current&&(null===(t=(r=n.current).cancel)||void 0===t||t.call(r)),n.current=e(...arguments),n.current}),t)}},23109:function(e,t,n){"use strict";n(33948);var r=n(67294);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=localStorage.getItem(e);return n?JSON.parse(n):t};t.Z=(e,t)=>{const[n,o]=(0,r.useState)((()=>a(e,t)));return(0,r.useEffect)((()=>localStorage.setItem(e,JSON.stringify(n))),[n]),[n,o]}},93017:function(e,t,n){"use strict";n(15581),n(2490),n(34514);var r=n(67294),a=n(52631),o=n(74855);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";const t=(0,r.useRef)({}),n=(0,r.useCallback)((n=>{const r=(0,o.sc)({...n,success:!0});t.current[e]&&a.Z.dismiss(t.current[e]),t.current[e]=a.Z.success(r)}),[]),i=(0,r.useCallback)((n=>{var r;const i=null===n||void 0===n||null===(r=n.response)||void 0===r?void 0:r.data,c=(0,o.t_)(null!==i&&void 0!==i&&i.errorMessage?i:{errorMessage:n.message,errorMsgKey:n.message,...n});t.current[e]&&a.Z.dismiss(t.current[e]),t.current[e]=a.Z.error(c)}),[]),c=(0,r.useCallback)((e=>e.forEach(i)),[]);return[n,i,c]}},76201:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(67294),a=n(89250);const o=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;null!==(e=window.posthog)&&void 0!==e&&e.__loaded&&window.posthog.capture("$pageview",{$current_url:t})};t.Z=()=>{const{pathname:e}=(0,a.TH)();(0,r.useEffect)((()=>{o()}),[e])}},95192:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},$:function(){return s}});var r=n(24678),a=n(50308),o=n.n(a);const i=86400;const c=(e=>{if(!e)throw new Error("Please pass a name for the idb store");const t=(0,r.MT)(e,"".concat(e,"-cache")),n=(e,n)=>(0,r.t8)(e,(e=>({value:e,timestamp:Date.now()}))(n),t).catch(o());return{store:t,set:n,get:function(e){let a,{fetch:c,maxAge:s=i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=(0,r.U2)(e,t).then((t=>{const r=1e3*s;return t&&t.timestamp+r>Date.now()?t.value:c?(a=c(),a.then((t=>(n(e,t),t)))):null})).catch(o());return u.abort=()=>a&&a.abort(),u},clear:()=>(0,r.ZH)(t).catch(o()),del:e=>(0,r.IV)(e,t).catch(o())}})("netdata"),s=86400;var u=function(e,t){let n,{maxAge:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=()=>{if(!n)return;const e=new Error("rejected");throw e.isCancel=!0,e},o=c.get(e,{maxAge:r}).then((e=>{if(a(),e)return t(e)})).then((()=>(a(),t=>c.set(e,t))));return o.abort=()=>{n=!0},o}},71172:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(95192);const a=async e=>{let t,{key:n,handleResults:a}=e;return(await(0,r.Z)(n,(e=>(t={updatedAt:"",results:a(e)},t))))(t)}},19368:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(13477);const a=()=>{const e=(0,r.jr)();return"user.".concat(e,".")}},68035:function(e,t,n){"use strict";n(25387),n(2490),n(72608),n(88449),n(59849),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(15581),n(34514),n(57640),n(9924);var r=n(67294),a=n(4480),o=n(41331),i=n(6557),c=n.n(i),s=n(29283),u=n(9058),l=n(16634),d=n(46189),m=n(78710),f=n(13477),g=n(95192),p=n(19368),h=n(93017);const v=(0,a.cn)({key:"subscriptionsLatestError",default:0}),b=(0,a.CG)({key:"useSubscribe/updateState",get:()=>()=>null,set:()=>(e,t)=>{let{get:n,set:r}=e,{results:a,wasDiff:i,updatedAt:s,getResource:u,getResourcesInitializer:l,getResourceInitialState:d,getUpdatedAt:m,getLoaded:f,getIds:g,getError:p,sort:h,saveToCache:v,restored:b=!1,polling:y=!0}=t;a=a||[],p&&r(p(),null);const S=()=>{r(m(),s),r(f(),!b||"restored")};if(0===a.length&&i)return void S();const{effected:A,deleted:k,byId:E}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return e.reduce(((e,n)=>(n.loaded=!0,"deleted"===n.state||n.isDeleted?e.deleted.push(n.id):(e.byId[n.id]={...t(n),...n},e.effected.push(n.id)),e)),{deleted:[],effected:[],byId:{}})}(a,d),T=e=>e in E?E[e]:n(u(e));let w=[];r(g(),(e=>!i&&y||!y?(w=A.length?A:w,h&&w.sort(((e,t)=>h(T(e),T(t)))),w):(k.length&&(w=e.filter((e=>!k.includes(e)))),i&&A.length&&(w=[...new Set([...e,...A])],h&&w.sort(((e,t)=>h(T(e),T(t))))),(0,o.ZP)(w,e)?e:w))),l?r(l(),{values:E,merge:!0}):A.forEach((e=>r(u(e),(t=>({...t,loaded:!0,...E[e]}))))),S(),v&&v({results:w.map(T),updatedAt:s})}}),y=e=>{const t=(0,u.e)(),n=(0,r.useMemo)((()=>t?t.getRoot():null),[t]),[,o]=(0,s.Z)(),[,i]=(0,h.Z)(e.key),c=(0,a._8)((e=>{let{snapshot:t,set:n}=e;return async(e,r)=>{let{getError:a,onFail:o}=r;const c=Date.now(),s=await t.getPromise(v);if(e.isCancel||s+1e4>c)throw e;throw a&&n(a(),(0,l.Z)(e)),n(v,c),o?o(e):i(e),e}}),[e]),m=(0,a._8)((e=>{let{snapshot:t,set:n}=e;return async(e,r)=>{let{fetchResources:a,onReceive:o,getUpdatedAt:i,getError:s,clearRef:u,onFail:l,...d}=r;const f=await t.getPromise(i());return(u.promise=a(f),u.promise.catch((async e=>c(e,{onFail:l,getError:s})))).then((function(){let{data:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=>{const t=Array.isArray(e),r=t?e:e.results,c=t?"":e.updatedAt;return null===o||void 0===o||o({...t?{results:r}:{results:[],...e},lastUpdated:f}),n(b(),{fetchResources:a,results:r,wasDiff:!!f,updatedAt:c,getUpdatedAt:i,getError:s,clearRef:u,onFail:l,...d}),new Promise((e=>setTimeout(e,0)))})(e)})).catch((t=>{if(t.isCancel||1===e)throw t;return m(--e,{fetchResources:a,onReceive:o,getUpdatedAt:i,getError:s,clearRef:u,onFail:l,...d})}))}}),[e]);return(0,r.useCallback)((t=>{const{polling:r=!0,fetch:a,association:i,pollingOptions:c,...s}=e,u={timeoutId:null,animationFrameId:null,promise:null,killed:!1},l=()=>m(2,{fetchResources:a,saveToCache:t,polling:r,clearRef:u,...i,...s}),f=()=>{u.killed||(u.timeoutId=setTimeout((()=>{u.animationFrameId=requestAnimationFrame((()=>n&&(n.getAttribute("hovering")||n.getAttribute("paused"))?f():o.current?void l().then(f).catch((e=>!e.isCancel&&f())):f()))}),(null===c||void 0===c?void 0:c.pollingInterval)||d.default.pollingInterval))};return l().then(r?f:null).catch((e=>r&&!e.isCancel&&f())),()=>{var e,t;u.killed=!0,null===(e=u.promise)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e),cancelAnimationFrame(u.animationFrameId),clearTimeout(u.timeoutId)}}),[e])};t.Z=(e,t)=>{const n=(0,p.P)(),o=(0,f.Iy)("isAnonymous"),i=(0,r.useMemo)((()=>{const{key:t,...r}=e();return{key:"".concat(n).concat(t),...r}}),[e,...t,o]),c=y(i),s=(0,a._8)((e=>{let{set:t}=e;return e=>{var n;let{results:r=[],updatedAt:a=""}=e;const o=(Array.isArray(r)&&r.length)>0;return null===(n=i.onReceive)||void 0===n||n.call(i,{results:r,lastUpdated:""}),t(b(),{results:r,updatedAt:o?a:"",...i,...i.association,restored:o}),new Promise((e=>setTimeout(e,0)))}}),t),u=(0,a._8)((e=>{let{snapshot:t}=e;return()=>{const{association:{getLoaded:e},key:n,cache:r=!0,maxCacheAge:a}=i;if(t.getLoadable(e()).contents||!r)return c();const o=(0,g.Z)(n,s,{maxAge:a||g.$});let u;return o.then((e=>{u=c(e)})).catch((()=>{})),()=>{var e;o.abort(),null===(e=u)||void 0===e||e()}}}));return(0,r.useEffect)((()=>{const{autorun:e=!0,force:t=!1}=i;if((!o&&!(0,m.iM)()||t)&&e)return u()}),[o,...t]),c}},46667:function(e,t,n){"use strict";n(33948);var r=n(67294);t.Z=e=>{const[t,n]=(0,r.useState)(!!e);return[t,(0,r.useCallback)((e=>n((t=>"boolean"===typeof e?e:!t))),[]),(0,r.useCallback)((()=>n(!0)),[]),(0,r.useCallback)((()=>n(!1)),[])]}},4474:function(e,t,n){"use strict";n.d(t,{Pf:function(){return h},rZ:function(){return S}});n(64211),n(2490),n(41874),n(33948);var r=n(67294),a=n(89250),o=n(12599),i=n(74059),c=n(95383),s=n(32950),u=n(53338),l=n(5934),d=n(37518),m=n(47133),f=n(46189),g=n(33427),p=n(78710);const h=()=>{const e=(0,a.s0)(),t=(0,a.UO)(),n=(0,d.A3)(),o=(0,m.r0)(t.dashboardSlug),i=(0,l.L)(),c=(0,r.useRef)(!1);(0,r.useEffect)((()=>{!0===i&&(o?c.current=!0:(e("".concat(n,"/dashboards")),c.current||(0,g.cH)()))}),[i,o])},{demoSlug:v,demoDefaultRoomViews:b,defaultRoomView:y}=f.default,S=e=>{var t;return e.length?e.some((e=>{let{slug:t}=e;return t===u.i_}))?u.i_:null===(t=e[0])||void 0===t?void 0:t.slug:null};t.ZP=()=>{(0,a.TH)();const e=(0,a.s0)(),t=(0,a.bS)({path:"/spaces/:spaceSlug/*"}),n=(0,a.bS)({path:"/spaces/:spaceSlug/rooms/:roomSlug/*"}),u=(0,a.bS)({path:"/*"}),l=(null===n||void 0===n?void 0:n.params)||(null===t||void 0===t?void 0:t.params)||(null===u||void 0===u?void 0:u.params),m=!!(0,a.bS)({path:"/spaces/:spaceSlug/settings/*"}),f=(0,i.VZ)(l.spaceSlug),g=(0,i.GM)("loaded"),h=(0,d.HM)(f,l.roomSlug),A=(0,c.Gn)("loaded"),[k]=(0,i.Iw)(),E=(0,i.vu)(k,"slug"),{isFetching:T}=(0,s.Z)(),w=(0,c.J7)(),C=(0,i.$v)(),x=(0,i.uk)();(0,r.useEffect)((()=>{if(T)return;if(!p.ZP&&(!g||"restored"===g))return;if(m&&f)return;if(f&&x!==l.spaceSlug)return void C(l.spaceSlug);if(f&&!A)return;if(f&&h)return;const t=f?l.spaceSlug:E,n=h?null===l||void 0===l?void 0:l.roomSlug:S(w);e(f&&A&&!n?(0,o.Gn)("/spaces/:spaceSlug/no-rooms",{spaceSlug:t}):((e,t)=>{if(!t)return(0,o.Gn)("/spaces/:spaceSlug/",{spaceSlug:e});const n=v===e?b[t]||b.default:p.ZP&&e===p.Xh&&t===p.Fb?p.vT:y;return(0,o.Gn)("/spaces/:spaceSlug/rooms/:roomSlug/".concat(n),{spaceSlug:e,roomSlug:t})})(t,n),{replace:!0})}),[m,T,l.roomSlug,l.spaceSlug,h,A,!!w.length,g,f,E,x])}},29283:function(e,t,n){"use strict";n(33948);var r=n(67294);t.Z=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,n]=(0,r.useState)(e),a=(0,r.useRef)(t);return(0,r.useEffect)((()=>{const e=()=>{a.current=!1,n(!1)};window.addEventListener("blur",e);const t=()=>{a.current=!0,n(!0)};return window.addEventListener("focus",t),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",t)}}),[]),[t,a]}},85732:function(e,t,n){"use strict";n(33948),n(88449),n(2490),n(59849);var r=n(67294),a=n(2145),o=n(20745),i=n(4480),c=n(79655),s=n(89250),u=n(27923),l=n(9058),d=n(15794),m=n(92501),f=n(78266),g=n(78710);const p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((e=>{n.g.registration=e,e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}n(15306);var v=n(47323);const b=(e,t)=>(t.search=t.search||e.location.search,t.hash=t.hash||e.location.hash,t),y=e=>"string"===typeof e?{pathname:e}:e,S=(0,v.lX)({window:window}),A=S.push,k=S.replace;S.push=(e,t)=>A.apply(S,[b(S,y(e)),t]),S.replace=(e,t)=>{k.apply(S,[b(S,y(e)),t])};var E=S,T=JSON.parse('{"u2":"cloud-frontend","i8":"6.20.6"}');const w=(0,a.Z)((()=>Promise.all([n.e(872),n.e(360)]).then(n.bind(n,79360))),"Redirects"),C=(0,a.Z)((()=>Promise.all([n.e(722),n.e(252)]).then(n.bind(n,46019))),"SignIn"),x=(0,a.Z)((()=>n.e(934).then(n.bind(n,64934))),"Trust"),I=(0,a.Z)((()=>n.e(817).then(n.bind(n,76817))),"AuthTokenCallback"),Z=(0,a.Z)((()=>Promise.all([n.e(722),n.e(241)]).then(n.bind(n,1178))),"MagicLinkSent"),N=(0,a.Z)((()=>Promise.all([n.e(722),n.e(137)]).then(n.bind(n,98977))),"SignUpVerification"),P=(0,a.Z)((()=>n.e(86).then(n.bind(n,38086))),"CheckAuth"),M=(0,a.Z)((()=>n.e(810).then(n.bind(n,61810))),"App"),_=(0,a.Z)((()=>n.e(510).then(n.bind(n,89510))),"GlobalStyles"),R=(0,a.Z)((()=>n.e(723).then(n.bind(n,76723))),"Notifications"),D=(0,a.Z)((()=>Promise.all([n.e(193),n.e(470),n.e(837)]).then(n.bind(n,79837))),"Assistant");window.envSettings.tracking?setTimeout((()=>{var e,t;const n=[!(null===(e=window)||void 0===e||null===(t=e.posthog)||void 0===t||!t.SentryIntegration)&&new window.posthog.SentryIntegration(window.posthog,"netdata-inc",5210883)].filter(Boolean);u.S({dsn:"https://43a4669badb04eee941ec8b242991df7@o382276.ingest.sentry.io/5210883",maxBreadcrumbs:100,release:"".concat(T.u2,"@").concat(T.i8),debug:!1,integrations:n,tracesSampleRate:.2,environment:window.location.host,denyUrls:[],autoSessionTracking:!1,beforeSend(e,t){var n,r;let{originalException:a={}}=t;if(!/netdata\.cloud/.test(null===e||void 0===e||null===(n=e.request)||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.Referer))return null;if(!a)return e;const{response:o={},isCancel:i=!1,message:c}=a;if(i)return null;if("Network Error"===c)return null;if("No data for this period"===c)return null;const{status:s}=o;return s>=400&&s<=599?null:e},ignoreErrors:["Non-Error exception captured","Non-Error promise rejection captured","Request aborted",/ResizeObserver/,"timeout exceeded","this.get_config is not a function",/IndexSizeError/,"Invalid time value","not_found",/A mutation operation was attempted on a database that did not allow mutations/]})}),500):console.log("Running in development mode version:",T.u2,T.i8);const U=(0,d.k)(m.NY,"light"),L=()=>r.createElement(i.Wh,null,r.createElement(r.Suspense,{fallback:""},r.createElement(l.Z,null,r.createElement(d.Z,null,r.createElement(m.ZP,{fallback:U},r.createElement(r.Suspense,{fallback:""},r.createElement(_,null),r.createElement(R,null),r.createElement(D,null),r.createElement(c.M,{className:"router",history:E,basename:g.ZP?g.se:"/"},r.createElement(s.Z5,null,r.createElement(s.AW,{path:"*",element:r.createElement(P,null)})),r.createElement(r.Suspense,{fallback:r.createElement(f.Z,null)},r.createElement(s.Z5,null,!g.ZP&&r.createElement(r.Fragment,null,r.createElement(s.AW,{path:"/sign-in",element:r.createElement(C,null)}),r.createElement(s.AW,{path:"/trust",element:r.createElement(x,null)}),r.createElement(s.AW,{path:"/sign-up",element:r.createElement(s.Fg,{to:"/sign-in",replace:!0})}),r.createElement(s.AW,{path:"/sign-up/verify",element:r.createElement(N,null)}),r.createElement(s.AW,{path:"/sign-in/magic-link-sent",element:r.createElement(Z,null)})),r.createElement(s.AW,{path:"/cloud/origin/callback",element:r.createElement(I,null)}),r.createElement(s.AW,{path:"/redirects",element:r.createElement(w,null)}),r.createElement(s.AW,{path:"*",element:r.createElement(M,null)}))))))))));var B;(0,o.s)(document.getElementById("app")).render(r.createElement(L,null)),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{const e="".concat(window.envSettings.webpackPublicPath,"/sw.js");p?(function(e,t){fetch(e).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):h(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(e,B),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):h(e,B)}))},95482:function(e,t,n){n.p=window.envSettings.isAgent&&!window.envSettings.webpackPublicPath?window.envSettings.agentApiUrl+"/v2/":"".concat(window.envSettings.webpackPublicPath||"","/")},29127:function(){"use strict";const e="timeout",t="success",n="skipped";window.envSettings.tracking&&(!function(e,t){var n,r,a,o;t.__SV||(window.posthog=t,t._i=[],t.init=function(i,c,s){function u(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(a=e.createElement("script")).type="text/javascript",a.async=!0,a.src=c.api_host+"/static/array.js",(o=e.getElementsByTagName("script")[0]).parentNode.insertBefore(a,o);var l=t;for(void 0!==s?l=t[s]=[]:s="posthog",l.people=l.people||[],l.toString=function(e){var t="posthog";return"posthog"!==s&&(t+="."+s),e||(t+=" (stub)"),t},l.people.toString=function(){return l.toString(1)+".people (stub)"},n="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),r=0;r<n.length;r++)u(l,n[r]);t._i.push([i,c,s])},t.__SV=1)}(document,window.posthog||[]),window.posthog.init(window.envSettings.posthogToken,{api_host:"https://app.posthog.com",disable_session_recording:!0,opt_in_site_apps:!0}),function(e,t,n,r,a){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],i=t.createElement(n);i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id=GTM-N6CBMJD",o.parentNode.insertBefore(i,o)}(window,document,"script","dataLayer"),function(r){let{async:a=!0,defer:o=!1,insertAfter:i,insertBefore:c,timeout:s=5e3,attrs:u,skipIf:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(d,m){if("function"===typeof l&&l())return void d(n);const f=setTimeout((function(){m(e)}),s),g=document.createElement("script");if(g.type="text/javascript",g.src=r,g.async=a,g.defer=o,u)for(let e in u)g.setAttribute(e,u[e]);g.onerror=function(e){m(new URIError("loadScript: the script ".concat(e.target.src," is not accessible.")))},g.onload=function(){clearTimeout(f),d(t)},i?i.parentNode.insertBefore(g,i.nextSibling):c?c.parentNode.insertBefore(g,c):document.body.appendChild(g)}))}("https://www.googletagmanager.com/gtag/js?id=G-J69Z2JCTFB").then((()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)};const e=e=>{var t;return(null===(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")))||void 0===t?void 0:t.pop())||"granted"};window.gtag("consent","default",{ad_storage:e("analyticsCookies"),analytics_storage:e("analyticsCookies"),functionality_storage:e("defaultCookies")}),window.gtag("js",new Date),window.gtag("config","G-J69Z2JCTFB")})))},64358:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(62200);const a=e=>{let{spaceId:t}=e;return"".concat(r.li,"/spaces/").concat(t,"/rooms?show_all=true")}},47165:function(){}},function(e){e.O(0,[143],(function(){e.E(86),e.E(810)}),5);var t=function(t){return e(e.s=t)};e.O(0,[967,493],(function(){return t(95482),t(29127),t(85732)}));e.O()}]);