!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0b059f77-d6c6-4ac7-8944-74c43b7952eb",e._sentryDebugIdIdentifier="sentry-dbid-0b059f77-d6c6-4ac7-8944-74c43b7952eb")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a795d4d0ab7b284edba22b583ea6769a9f9ec64d"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[202],{39434:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var r=l?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(o,a,r):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(67294)),l=s(n(53087)),a=s(n(81743)),r=["text","maxLength","Component","noTooltip"];function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var d=function(e){var t=e.text,n=e.maxLength,s=void 0===n?15:n,i=e.Component,d=void 0===i?"div":i,c=e.noTooltip,u=function(e,t){if(null==e)return{};var n,o,l={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,r),f=(0,o.useMemo)((function(){return t?(0,l.default)(t,s):null}),[t,s]);return c||f===t?o.default.createElement(d,u,f):o.default.createElement(a.default,{content:t},o.default.createElement(d,u,f))};t.default=d},40644:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});n(64211),n(2490),n(41874),n(25387),n(72608),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(88449),n(59849),n(57640),n(9924);var o=n(67294),l=n(48286),a=n(91966),r=n.n(a),s=n(89250),i=n(97945),d=n(97193),c=n(95248),u=n(46667),f=n(27261),g=n(9458),m=n(22195),p=n(6973);var b=(0,o.forwardRef)(((e,t)=>{let{selectedNodesNumber:n}=e;return o.createElement(m.Flex,{"data-testid":"selectNodesIndicator",ref:t,cursor:"pointer"},o.createElement(m.Box,{margin:[0,1,0,0]},o.createElement(m.TextSmall,null,"Selected")),o.createElement(m.Flex,{border:{size:"1px",type:"solid",color:"dropdown"},round:!0,padding:[0,1],width:{min:7.5},height:5,background:"mainBackground",as:m.TextSmall,justifyContent:"center",alignItems:"center",color:"textDescription"},n||"-"))})),h=n(91128),x=n(4514);const v={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!0,hasAlerts:!0,hasFn:!0},node:{textColor:"text",showAlerts:!0,showMl:!0,showFn:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale",hasML:!0},node:{textColor:"text",showMl:!0}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},y=[],w=(e,t,n,o)=>{const l=!e.some((e=>!n.includes(e))),a=n.length&&!l&&e.some((e=>n.includes(e)));return e.length?e.reduce(((e,l)=>{const{name:a,capabilities:r}=o[l];return[...e,{value:l,label:a,nodeId:l,selected:n.includes(l),status:t,capabilities:r,...v[t].node,maxLength:80}]}),[{value:e,selected:l,indeterminate:a,status:t,...v[t].head,maxLength:80}]):[]};var E=(0,o.memo)((()=>{const[e,t]=(0,c.wT)(),[n,a]=(0,o.useState)(e||y);(0,o.useEffect)((()=>{a(e||y)}),[e]);const[v,E,,O]=(0,u.Z)(!1),k=(0,o.useCallback)((()=>{v&&(t(n),O())}),[n]),C=(0,i.HZ)(),S=(0,i.e5)(),L=(0,i.mf)(),_=(0,i.Y0)(),I=(0,o.useCallback)((e=>{let{value:t,checked:n}=e;a((e=>Array.isArray(t)?n?[...new Set([...e,...t])]:r()(e,t):n?[...e,t]:e.filter((e=>e!==t))))}),[]),M=(0,o.useMemo)((()=>({live:{counter:C.length,statusText:"Live"},stale:{counter:S.length,statusText:"Stale"},offline:{counter:L.length,statusText:"Offline"},unseen:{counter:_.length,statusText:"Unseen"}})),[C.length,S.length,L.length,_.length]),j=(0,s.bS)("/spaces/:spaceSlug/rooms/:roomSlug/nodes/:nodeId"),T=(0,h.Z)();(0,l.Z)((()=>{T(v)}),[v]);const N=(0,i.d$)(),P=(0,o.useMemo)((()=>{const e=w(C,"Live",n,N),t=w(S,"Stale",n,N),o=w(L,"Offline",n,N);return e.concat(t,o)}),[n,C.length,S.length,L.length]);return o.createElement(m.Menu,{dropProps:{align:{top:"bottom",left:"left"},"data-toolbox":!0},dropdownProps:{height:{max:"60vh"},width:{max:"600px"},overflow:"auto",padding:[0,0,3],"data-testid":"filterNodes-drop"},itemProps:{padding:[1,4],maxLength:60},disabled:!!j,items:P,Item:d.c,onChange:I,value:n,"data-value":n.join(",")||"all-nodes",closeOnClick:!1,onClose:k,hasSearch:!0},o.createElement(x.Z,{"data-testid":"nodesIndicator",round:"2px",alignItems:"center",justifyContent:"end",width:{min:75},background:"elevationLevelOne",disabled:!!j},o.createElement(m.Flex,{cursor:"pointer",onClick:E,padding:[2,3],gap:2,alignItems:"center"},o.createElement(m.TextSmall,{strong:!0},"Nodes"),o.createElement(g.Z,null),Object.keys(M).map((e=>o.createElement(o.Fragment,{key:e},o.createElement(f.Z,{statusText:M[e].statusText,counter:M[e].counter,statusColor:p.B[e]}),o.createElement(g.Z,null)))),o.createElement(b,{selectedNodesNumber:n.length}),o.createElement(m.Icon,{name:"chevron_down",size:"small",color:"textLite"}))))}))},92087:function(e,t,n){var o=n(17854),l=n(19781),a=n(47045),r=n(67066),s=n(47293),i=o.RegExp,d=i.prototype;l&&s((function(){var e=!0;try{i(".","d")}catch(s){e=!1}var t={},n="",o=e?"dgimsy":"gimsy",l=function(e,o){Object.defineProperty(t,e,{get:function(){return n+=o,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var r in e&&(a.hasIndices="d"),a)l(r,a[r]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==o||n!==o}))&&a(d,"flags",{configurable:!0,get:r})}}]);