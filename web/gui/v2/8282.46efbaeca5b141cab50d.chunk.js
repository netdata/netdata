!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c29b7222-d9f7-47f2-8721-e71af92f9812",e._sentryDebugIdIdentifier="sentry-dbid-c29b7222-d9f7-47f2-8721-e71af92f9812")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"776f3e9c9635faf8458467b84fc48d0cc290785f"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[8282],{38282:function(e,n,t){t.r(n);t(66992),t(41539),t(88674),t(78783),t(33948);var r=t(67294),o=t(2145),u=t(64487),c=t(54576),i=t(9058),a=t(92501),l=t(13477),s=t(49254),d=t(39469),f=t(24533),g=t(7335),v=t(52971),p=t(85456),m=t(78266),y=(0,o.Z)((function(){return Promise.all([t.e(3241),t.e(1115),t.e(4063),t.e(6143),t.e(2934)]).then(t.bind(t,66143))}),"Layout"),b=(0,c.withChartProvider)((function(){var e=(0,l.Iy)("isLoaded"),n=(0,l.Iy)("email"),t=(0,p.gs)(v.Ew.performanceCookies.id),o=(0,l.jr)(),c=(0,l.Iy)("isAnonymous"),i=(0,d.Hu)();return(0,r.useEffect)((function(){c||i()}),[c]),(0,r.useEffect)((function(){if(o&&n&&t)try{u.av({id:o,email:n})}catch(e){console.warn("Sentry: unable to set user")}}),[n,t,o]),(0,g.aG)(o),(0,d.ZP)(),(0,s.ZP)(),(0,f.ZP)(),r.createElement(r.Suspense,{fallback:r.createElement(m.Z,null)},r.createElement(y,{isUserLoaded:e}))}));n.default=(0,a.Pf)((function(){var e=(0,i.e)().getRoot();return r.createElement(b,{chart:e})}))},94221:function(e,n,t){t.d(n,{c:function(){return c}});t(41539),t(39714),t(66992),t(78783),t(33948),t(41637);var r=t(26398),o=t(64637),u=function(e){return window.localNetdataRegistry.mg=e.agent.mg,window.localNetdataRegistry.hostname=(0,o.lV)(e.agent.nm||"agent"),{cloudStatus:e.cloud.status,canBeClaimed:e.can_be_claimed,keyFilename:e.key_filename,claimId:e.cloud.claim_id,mg:e.agent.mg,nd:e.agent.nd,success:e.success,message:e.message}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.key,t=e.token,o=e.rooms,c=e.url,i=new URLSearchParams({key:n,rooms:o,token:t,url:c}).toString();return i=n&&o&&t&&c&&i?"?".concat(i):"",r.Z.get("/api/v2/claim".concat(i),{baseURL:window.envSettings.agentApiUrl,transform:u})}},24533:function(e,n,t){t.d(n,{Hu:function(){return p},Lz:function(){return m}});t(47941),t(82526),t(57327),t(41539),t(88449),t(2490),t(59849),t(38880),t(15581),t(34514),t(54747),t(49337),t(33321),t(69070);var r=t(4942),o=t(29439),u=t(67294),c=t(4480),i=t(74059),a=t(13477),l=t(28234),s=t(94221);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=(0,c.xu)({key:"claimStatusAtom",default:{loaded:!1,loading:!1,cloudStatus:"disabled",canBeClaimed:!1,claimId:null,keyFilename:"",error:"",claiming:!1,claimingError:""}}),v=(0,c.xu)({key:"checkClaimStatus",default:function(){return 1}}),p=function(){var e,n=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg,t=(0,c.Zl)(v(n));return(0,u.useCallback)((function(){return t((function(e){return e+1}))}),[n])},m=function(){var e,n=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg,t=(0,c.FV)(g({machineGuid:n})),r=(0,o.Z)(t,2),i=r[0],a=r[1];return[i,(0,u.useCallback)((function(e){return a((function(n){return f(f({},n),e)}),[])}))]};n.ZP=function(){var e,n=(0,i.Q6)(),t=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg,r=(0,c.FV)(v(t)),d=(0,o.Z)(r,2),g=d[0],p=d[1],y=m(t),b=(0,o.Z)(y,2),w=b[0],h=b[1],O=w.loading,P=(0,a.Iy)("isAnonymous");return(0,u.useEffect)((function(){!O&&t&&n&&!P&&(h({loading:!0,nodeId:null,spaceId:null,roomIds:[]}),(0,s.c)().then((function(e){var n=e.data;h(f(f({loading:!1,loaded:!0},n),{},{error:""}))})).catch((function(e){var n,t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;h({loading:!1,loaded:!0,error:(0,l.r)(null===t||void 0===t?void 0:t.errorMsgKey)||(null===t||void 0===t?void 0:t.errorMessage)||"Something went wrong",cloudStatus:"disabled",canBeClaimed:!1,keyFilename:""})})))}),[t,g,n,P]),f(f({},w),{},{checkAgain:p})}},39469:function(e,n,t){t.d(n,{Hu:function(){return w},zp:function(){return h}});t(47941),t(82526),t(57327),t(41539),t(88449),t(2490),t(59849),t(38880),t(15581),t(34514),t(54747),t(49337),t(33321),t(69070);var r,o=t(4942),u=t(29439),c=t(67294),i=t(4480),a=t(37176),l=t(74059),s=t(13477),d=t(28234),f=t(24533),g=t(18761);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=null===(r=window.localNetdataRegistry)||void 0===r?void 0:r.mg,y=(0,i.xu)({key:"currentAgentBearerAtom",default:{loading:!1,token:localStorage.getItem("agentJWT:".concat(m))||"",expiration:localStorage.getItem("agentJWTExp:".concat(m))||null,bearerProtection:!0,error:""}}),b=(0,i.xu)({key:"checkAgentBearer",default:function(){return 1}}),w=function(){var e=(0,f.Lz)(),n=(0,u.Z)(e,1)[0].mg,t=(0,i.Zl)(b(n));return(0,c.useCallback)((function(){return t((function(e){return e+1}))}),[n])},h=function(){var e=(0,f.Lz)(),n=(0,u.Z)(e,1)[0],t=n.claimId,r=n.mg,o=n.nd;return(0,i.FV)(y({nodeId:o,machineGuid:r,claimId:t}))};n.ZP=function(){var e=(0,l.Q6)(),n=(0,f.Lz)(),t=(0,u.Z)(n,1)[0],r=t.claimId,o=t.mg,v=t.nd,m=(0,i.FV)(b(o)),y=(0,u.Z)(m,2),w=y[0],O=y[1],P=h(),k=(0,u.Z)(P,2),j=k[0],I=j.loading,S=j.token,Z=j.expiration,x=j.bearerProtection,E=j.error,D=k[1],A=(0,a.Z)(w),C=(0,s.Iy)("isAnonymous");return(0,c.useEffect)((function(){!I&&o&&e&&!C&&r&&v&&(w===A&&Z&&1e3*Z>(new Date).getTime()+3600||(D((function(e){return p(p({},e),{},{loading:!0})})),(0,g.op)(v,o,r).then((function(e){var n=e.data;D(p(p({loading:!1},n),{},{error:""})),localStorage.setItem("agentJWT:".concat(o),null===n||void 0===n?void 0:n.token),localStorage.setItem("agentJWTExp:".concat(o),null===n||void 0===n?void 0:n.expiration)})).catch((function(e){var n,t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;localStorage.removeItem("agentJWT:".concat(o)),localStorage.removeItem("agentJWTExp:".concat(o)),D({loading:!1,token:"",expiration:null,bearerProtection:!0,error:(0,d.r)(null===t||void 0===t?void 0:t.errorMsgKey)||(null===t||void 0===t?void 0:t.errorMessage)||"Something went wrong"})}))))}),[o,Z,w,e,C,A]),{token:S,bearerProtection:x,checkAgain:O,error:E}}},49254:function(e,n,t){t.d(n,{Hu:function(){return p},ej:function(){return m}});t(47941),t(82526),t(57327),t(41539),t(88449),t(2490),t(59849),t(38880),t(15581),t(34514),t(54747),t(49337),t(33321),t(69070);var r=t(4942),o=t(29439),u=t(67294),c=t(4480),i=t(74059),a=t(13477),l=t(28234),s=t(18761);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=(0,c.xu)({key:"userAccessAtom",default:{loaded:!1,loading:!1,userStatus:"notLoggedIn",userNodeStatus:"noAccess",nodeId:null,spaceId:null,roomIds:[],error:""}}),v=(0,c.xu)({key:"checkUserAccess",default:function(){return 1}}),p=function(){var e,n=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg,t=(0,c.Zl)(v(n));return(0,u.useCallback)((function(){return t((function(e){return e+1}))}),[n])},m=function(){var e,n=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg;return(0,c.FV)(g({machineGuid:n}))};n.ZP=function(){var e,n=(0,i.Q6)(),t=null===(e=window.localNetdataRegistry)||void 0===e?void 0:e.mg,r=(0,c.FV)(v(t)),d=(0,o.Z)(r,2),g=d[0],p=d[1],y=m(t),b=(0,o.Z)(y,2),w=b[0],h=b[1],O=w.loading,P=(0,a.Iy)("isAnonymous");return(0,u.useEffect)((function(){!O&&t&&n&&!P&&(h((function(e){return f({loading:!0,nodeId:null,spaceId:null,roomIds:[]},e)})),(0,s.yM)(t).then((function(e){var n=e.data;h(f(f({loading:!1,loaded:!0},n),{},{error:""}))})).catch((function(e){var n,t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data;h({loading:!1,loaded:!0,error:(0,l.r)(null===t||void 0===t?void 0:t.errorMsgKey)||(null===t||void 0===t?void 0:t.errorMessage)||"Something went wrong",userStatus:"notLoggedIn",userNodeStatus:"noAccess",nodeId:null,spaceId:null,roomIds:[]})})))}),[t,g,n,P,O]),f(f({},w),{},{checkAgain:p})}},7335:function(e,n,t){t.d(n,{aG:function(){return k},H3:function(){return h},XU:function(){return j},DH:function(){return P},z2:function(){return w},lL:function(){return O}});var r=t(29439),o=t(93433),u=t(15861),c=t(4942),i=t(64687),a=t.n(i),l=(t(21249),t(57640),t(9924),t(85827),t(41539),t(25387),t(2490),t(72608),t(57327),t(88449),t(59849),t(26699),t(32023),t(92222),t(66992),t(70189),t(78783),t(88921),t(96248),t(13599),t(11477),t(64362),t(15389),t(90401),t(45164),t(91238),t(54837),t(87485),t(56767),t(76651),t(61437),t(35285),t(39865),t(33948),t(69826),t(31672),t(59461),t(2707),t(47941),t(82526),t(38880),t(15581),t(34514),t(54747),t(49337),t(33321),t(69070),t(67294)),s=t(4480),d=t(89250),f=t(13477),g=(0,s.xu)({key:"visitedNodes",default:function(){return[]}}),v=t(97945),p=t(18761);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=(0,s.CG)({key:"visitedNodeIdsValue",get:function(e){return function(n){return(0,n.get)(g(e)).map((function(e){return e.id}))}}}),w=function(){var e=(0,f.jr)(),n=(0,s.sJ)(g(e)),t=(0,s._8)((function(e){var n=e.set;return function(e){n(v.Jz,{values:e.reduce((function(e,n){return y(y({},e),{},(0,c.Z)({},n.id,y(y({},n),{},{loaded:!0})))}),{}),merge:!0})}}),[]);return(0,l.useEffect)((function(){t(n)}),[n]),(0,s.sJ)(b(e))},h=function(e){var n=(0,f.jr)(),t=(0,s.sJ)(g(n)),r=(0,l.useMemo)((function(){return e?t.filter((function(n){return n.name.toUpperCase().includes(e.toUpperCase())})):t}),[t,e]);return(0,l.useMemo)((function(){return r.map((function(e){return e.id}))}),[r])},O=function(){return(0,s._8)((function(e){var n=e.snapshot,t=e.set;return function(){var e=(0,u.Z)(a().mark((function e(r,o){var u,c,i,l,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPromise((0,f.KL)("id"));case 2:return u=e.sent,e.next=5,n.getPromise((0,v.zP)({id:r}));case 5:return c=e.sent,i=c.urls,l=c.name,s=i.filter((function(e){return e!==o})),t((0,v.zP)({id:r,key:"urls"}),s),s.length||t(g(u),(function(e){return e.filter((function(e){return e.id!==r}))})),e.prev=11,e.next=14,s.length?(0,p.RX)(u,r,l,s):(0,p.Sd)(u,[r]);case 14:(0,p.Wy)(u,r).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),t((0,v.zP)({id:r,key:"urls"}),i);case 20:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(n,t){return e.apply(this,arguments)}}()}),[])},P=function(){var e=(0,d.TH)().pathname,n=(0,f.jr)(),t=k(n,{autoFetch:!1});return(0,s._8)((function(e){var n=e.snapshot,r=e.set;return function(){var e=(0,u.Z)(a().mark((function e(u,c,i){var l,s,d,m,b,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPromise((0,f.KL)("isAnonymous"));case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.getPromise((0,f.KL)("id"));case 7:return l=e.sent,e.next=10,n.getPromise((0,v.zP)({id:u}));case 10:if(s=e.sent,d=s.urls,m=s.name,b=c?[c].concat((0,o.Z)(d)):d,b=(0,o.Z)(new Set([window.location.href].concat((0,o.Z)(b)))),w=b.length!==d.length,e.prev=16,r((0,v.zP)({id:u,key:"urls"}),b),r(g(l),(function(e){var n=e.find((function(e){return e.id===u})),t=e.filter((function(e){return e.id!==u}));return n?[y(y({},n),{},{accessCount:n.accessCount+1,lastAccessTime:(new Date).toISOString()})].concat((0,o.Z)(t)):[{accessCount:1,id:u,lastAccessTime:(new Date).toISOString(),urls:b,name:i}].concat((0,o.Z)(t))})),!w){e.next=22;break}return e.next=22,(0,p.RX)(l,u,i||m,b);case 22:return t(),e.next=25,(0,p.Wy)(l,u);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(16),r((0,v.zP)({id:u,key:"urls"}),d);case 30:case"end":return e.stop()}}),e,null,[[16,27]])})));return function(n,t,r){return e.apply(this,arguments)}}()}),[t,e,n])},k=function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).autoFetch,t=void 0===n||n,o=(0,s.FV)(g(e)),u=(0,r.Z)(o,2)[1],c=(0,l.useState)(0),i=(0,r.Z)(c,2),a=i[0],d=i[1],f=(0,l.useCallback)((function(){d((function(e){return e+1}))}),[d]);return(0,l.useEffect)((function(){e&&(t||a)&&(0,p.Fz)(e).then((function(e){if(e){var n=e.data.results.sort((function(e,n){return new Date(n.lastAccessTime)-new Date(e.lastAccessTime)}));u(n)}}))}),[t,a,e]),f},j=function(){var e=(0,f.jr)(),n=g(e);return(0,s._8)((function(e){var t=e.snapshot,r=e.set;return function(){var e=(0,u.Z)(a().mark((function e(o){var u,c,i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPromise((0,v.$E)(o));case 2:return u=e.sent,c=u.map((function(e){return e.machineGUID})),e.next=6,t.getPromise(n);case 6:i=e.sent,(l=i.filter((function(e){return!c.includes(e.id)}))).length!==i.length&&r(n,l);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),[e])}},37176:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(67294);function o(e){var n=(0,r.useRef)();return(0,r.useEffect)((function(){n.current=e})),n.current}}}]);