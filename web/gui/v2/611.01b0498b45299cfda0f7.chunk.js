!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="84902ff2-50ee-4594-8ae8-21d874ce07bf",e._sentryDebugIdIdentifier="sentry-dbid-84902ff2-50ee-4594-8ae8-21d874ce07bf")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"a952b9c29450da32bc440d9b6d20c20832f13efa"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[611],{51091:function(e,t,n){"use strict";var a=n(87462),l=(n(88449),n(2490),n(59849),n(57640),n(9924),n(60677)),r=n(10928),o=n.n(r),c=n(67294),i=n(22195);const s=(0,l.default)(i.Box).withConfig({displayName:"breadcrumbs__StyledItemContainer",componentId:"sc-3u39st-0"})([""]),m=(0,l.css)(["&:hover{color:",";}"],(e=>{let{withHover:t,theme:n}=e;return t&&(0,i.getColor)("success")({theme:n})})),d=(0,l.default)(i.Text).withConfig({displayName:"breadcrumbs__StyledText",componentId:"sc-3u39st-1"})(["",""],m),u=(0,l.default)(i.TextSmall).withConfig({displayName:"breadcrumbs__StyledTextSmall",componentId:"sc-3u39st-2"})(["",""],m);t.Z=e=>{let{items:t,isBig:n,showBackButton:l=!0,testid:r="",...m}=e;const g=(0,c.useMemo)((()=>{if(null===t||void 0===t||!t.length||!l)return null;return o()(t.filter((e=>{let{onClick:t}=e;return!!t}))).onClick}),[t,l]);if(null===t||void 0===t||!t.length)return null;const E=n?d:u;return c.createElement(i.Flex,(0,a.Z)({gap:4},m),l&&c.createElement(i.Button,{onClick:g,icon:"chevron_left",label:"Back",neutral:!0,flavour:"hollow",small:!0,padding:[0,2,0,1],textTransform:"uppercase","data-testid":"".concat(r,"-breadcrumbs-backButton")}),c.createElement(i.Flex,{gap:2,alignItems:"center"},t.map(((e,t)=>{let{isDisabled:n,name:l,onClick:o}=e;return c.createElement(s,(0,a.Z)({key:t,alignItems:"center"},o&&{cursor:"pointer",onClick:o},{"data-testid":"".concat(r,"-breadcrumbs-level-").concat(t)}),c.createElement(E,{color:n&&"textLite","data-testid":"".concat(r,"-breadcrumbs-level-").concat(t),withHover:!!o},0!==t&&" / ",l))}))))}},80959:function(e,t,n){"use strict";var a=n(87462),l=n(67294),r=n(22195);t.Z=e=>{let{message:t,title:n,...o}=e;const c=(null===o||void 0===o?void 0:o["data-testid"])||"functionError";return l.createElement(r.Flex,(0,a.Z)({alignItems:"center",column:!0,"data-testid":c,flex:!0,gap:1,justifyContent:"center"},o),l.createElement(r.H3,{"data-testid":"".concat(c,"-title")},n),l.createElement(r.TextBig,{color:"textDescription","data-testid":"".concat(c,"-message")},t))}},93742:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});n(31672),n(2490),n(59461),n(57640),n(9924),n(33948);var a=n(3689),l=n(95383);const r=e=>{const t=(0,l.J7)().find((e=>{let{name:t}=e;return"All nodes"==t}));return t?e?t[e]:t:null};t.Z=function(){let{all:e,internal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,l.J7)().map((e=>{let{id:t,name:n}=e;return{label:n,value:t}})),r=[];return t&&r.push(a.mN),e&&r.push(a.k_),r.push(...n),r}},27308:function(e,t,n){"use strict";var a=n(87462),l=n(67294),r=n(79655),o=n(22195),c=n(91008),i=n(33335),s=n(99826);t.Z=e=>{let{classification:t,...n}=e;const m=(0,i.gI)("billing:ReadAll"),{url:d}=(0,s.Z)(t.toLowerCase());return d?l.createElement(o.Flex,{background:"sideBarMini",border:{side:"all",color:"tabsBorder"},padding:[1,2],round:!0},l.createElement(c.Z,(0,a.Z)({align:"bottom",as:r.rU,boxProps:{as:o.Flex},color:"text",Component:o.TextMicro,content:"Available on ".concat(t," plan"),disabled:!m,hoverColor:"textFocus",showToolTip:!0,strong:!0,to:d},n),t)):null}},84580:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(67294),l=n(87462),r=n(22195),o=n(82351);var c=e=>{let{description:t,isRequired:n,title:l,...c}=e;const i=c["data-testid"]?"".concat(c["data-testid"],"-label"):"fieldLabel";return a.createElement(r.Flex,{"data-testid":"".concat(i,"-container"),gap:1},a.createElement(r.TextSmall,{color:"textLite","data-testid":i},l,n&&" *"),t&&a.createElement(o.Z,{align:"top",content:t,"data-testid":"".concat(i,"-info"),plain:!0},a.createElement(r.Icon,{color:"textLite",name:"information",size:"small"})))};var i=e=>{let{"data-testid":t="input",description:n,isRequired:o,onChange:i,title:s,...m}=e;return a.createElement(r.Flex,{column:!0,"data-testid":t,flex:"grow",gap:1},a.createElement(c,{"data-testid":t,description:n,isRequired:o,title:s}),a.createElement(r.TextInput,(0,l.Z)({"data-testid":"".concat(t,"-field"),size:"tiny",onChange:e=>{let{target:t}=e;return i(t.value)}},m)))};n(57640),n(9924);var s=e=>{var t;let{"data-testid":n="select",description:o,getDataGa:i,fields:s,id:m,isRequired:d,onChange:u,secrets:g,setSecrets:E,title:p,...h}=e;return a.createElement(r.Flex,{column:!0,"data-testid":n,flex:"grow",gap:1},a.createElement(c,{"data-testid":n,description:o,isRequired:d,title:p}),a.createElement(r.Select,(0,l.Z)({"data-testid":"".concat(n,"-field"),menuPortalTarget:document.body,onChange:e=>u(e),styles:{size:"tiny"},menuPlacement:"auto"},h)),Object.values((null===s||void 0===s?void 0:s[null===(t=h.value)||void 0===t?void 0:t.value])||{}).map((e=>{let{getValue:t,id:r,onChange:o,...c}=e;return a.createElement(b,(0,l.Z)({"data-ga":i("".concat(m,"-").concat(r,"-").concat(c.component)),"data-testid":"".concat(n,"-").concat(r),key:r,id:r,onChange:o({id:m,setSecrets:E,subsetId:r}),value:t({id:m,secrets:g,subsetId:r})},c))})))},m=(n(33948),n(25387),n(2490),n(72608),n(57557)),d=n.n(m),u=n(73955),g=n.n(u),E=n(31790),p=n(25185);const h={default:()=>null,pairs:e=>{let{componentPairs:t,"data-testid":n="pairs",description:l,getDataGa:o,id:i,isRequired:s,placeholder:m,setSecrets:u,title:h}=e;const[f,x]=(0,a.useState)({});(0,a.useEffect)((()=>{const e=Object.values(f).reduce(((e,t)=>{let{key:n,value:a}=t;return n?{...e,[n]:a||""}:e}),{});u((t=>Object.keys(e).length?{...t,[i]:e}:d()(t,i)))}),[f]);return a.createElement(r.Flex,{column:!0,"data-testid":n,gap:1},a.createElement(r.Flex,{alignItems:"center",justifyContent:"between"},a.createElement(c,{"data-testid":n,description:l,isRequired:s,title:h}),t.map((e=>{const l=(0,E.XM)(e);return a.createElement(p.nO,{"data-ga":o("".concat(i,"-").concat(l,"-add")),"data-testid":"".concat(n,"-").concat(l,"Add"),key:l,label:1===t.length?"Add":"Add ".concat(l),onClick:()=>(e=>x((t=>({...t,[g()("pair_")]:{key:"",components:e,value:""}}))))(e)})}))),Object.entries(f).map((e=>{let[t,{key:l,components:c,value:s}]=e;const[u,g]=c,p=(0,E.XM)(c);return a.createElement(r.Flex,{alignItems:"end",key:"".concat(p,"-").concat(t),gap:2},a.createElement(b,{component:u,"data-ga":o("".concat(i,"-").concat(p,"-key")),"data-testid":"".concat(n,"-").concat(p,"Key"),onChange:e=>x((n=>({...n,[t]:{...n[t],key:e}}))),value:l,placeholder:m,title:"Key"}),a.createElement(b,{component:g,"data-ga":o("".concat(i,"-").concat(p,"-value")),"data-testid":"".concat(n,"-").concat(p,"Value"),onChange:e=>x((n=>({...n,[t]:{...n[t],value:e}}))),value:s,placeholder:m,title:"Value"}),a.createElement(r.Button,{flavour:"borderless",icon:"trashcan",margin:[0,0,1,0],neutral:!0,onClick:()=>{x((e=>d()(e,t)))}}))})))},input:i,select:s};var b=e=>{let{component:t,...n}=e;const l=h[t]||h.default;return a.createElement(l,n)}},25185:function(e,t,n){"use strict";n.d(t,{A3:function(){return m},Ce:function(){return r},QD:function(){return d},aN:function(){return u},bb:function(){return i},fb:function(){return g},hz:function(){return s},nO:function(){return c},zT:function(){return o}});var a=n(60677),l=n(22195);const r=(0,a.default)(l.Flex).attrs({alignItems:"center",color:"text",gap:1,hoverColor:"text"}).withConfig({displayName:"styled__AnchorComponent",componentId:"sc-wc4x41-0"})(["&,&:hover{text-decoration:none;}"]),o=(0,a.default)(l.Icon).attrs({height:"130px",width:"130px"}).withConfig({displayName:"styled__BlurredIcon",componentId:"sc-wc4x41-1"})(["filter:blur(70px);position:absolute;left:0;top:0;opacity:0.5;"]),c=(0,a.default)(l.Button).attrs({height:"22px",icon:"plus",padding:[.5,2,.5,1],small:!0,width:"auto"}).withConfig({displayName:"styled__IntegrationAction",componentId:"sc-wc4x41-2"})(["&& > span{font-weight:bold;margin-left:4px;}"]),i=((0,a.default)(l.Flex).withConfig({displayName:"styled__FormRow",componentId:"sc-wc4x41-3"})(["flex-flow:row nowrap;align-items:center;justify-content:space-between;"]),(0,a.default)(l.TextSmall).withConfig({displayName:"styled__LearnMoreTest",componentId:"sc-wc4x41-4"})(["position:relative;"])),s=(0,a.default)(l.ModalContent).attrs({background:"dropdown",height:{base:150,max:150,min:45},overflow:{vertical:"auto"},width:{base:121,max:140,min:70}}).withConfig({displayName:"styled__ModalContent",componentId:"sc-wc4x41-5"})(["box-shadow:0 18px 28px rgb(9 30 66 / 15%),0 0 1px rgb(9 30 66 / 31%);"]),m=(0,a.default)(l.ModalCloseButton).attrs({color:"text",height:"16px",width:"16px"}).withConfig({displayName:"styled__ModalClose",componentId:"sc-wc4x41-6"})(["&:hover{fill:",";}"],(0,l.getColor)("selected")),d=(0,a.default)(l.Flex).attrs((e=>{let{hasBorder:t}=e;return{...t?{border:{side:"bottom",color:"disabled"}}:{},column:!0,padding:[3,4]}})).withConfig({displayName:"styled__ModalSection",componentId:"sc-wc4x41-7"})([""]),u=(0,a.default)(l.Icon).attrs({name:"warning_triangle",height:"18px",width:"18px",color:["yellow","amber"]}).withConfig({displayName:"styled__WarningIcon",componentId:"sc-wc4x41-8"})(["position:absolute;top:0;right:0;z-index:1;"]),g=(0,a.default)(l.Icon).attrs({height:"12px",width:"12px",color:"white"}).withConfig({displayName:"styled__SystemIcon",componentId:"sc-wc4x41-9"})(["position:relative;top:2px;"])},56662:function(e,t,n){"use strict";n.d(t,{U:function(){return u}});n(33948);var a=n(67294),l=n(89250),r=n(12599),o=n(22195),c=n(97323),i=n(74059),s=n(37518),m=n(16645),d=n(7693);const u=e=>{let{onClose:t,isSubmodal:n=!0}=e;const u=(0,i.th)(),[g,E]=(0,a.useState)(""),[p,h,b]=(0,o.useInputValue)({maxChars:255,value:""}),f=(e=>{const t=(0,l.s0)(),n=(0,i.uk)();return(0,a.useMemo)((()=>a=>{let{slug:l}=a;const o=(0,r.Gn)("/spaces/:spaceSlug/rooms/:roomSlug",{spaceSlug:n,roomSlug:l});e(),t(o)}),[n])})(t),x=(0,s.Dq)(u,{onSuccess:f}),v=(0,a.useCallback)((()=>{x({name:g,description:p})}),[g,p]);return a.createElement(m.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t},a.createElement(d.x,{onClose:t,isSubmodal:n,title:"Create a new room"},a.createElement(o.Button,{label:"Add",onClick:v,disabled:!g})),a.createElement(m.TZ,null,a.createElement(c.Q,{roomName:g,setRoomName:E,roomDescription:p,charsDescIndicator:b,setRoomDescription:h,isCreateForm:!0})))}},7724:function(e,t,n){"use strict";n.d(t,{CE:function(){return s},M5:function(){return d},R4:function(){return m}});n(33948);var a=n(67294),l=n(22195),r=n(74059),o=n(46667),c=n(37518),i=n(33335);const s=e=>{const t=1===e;return"Delete ".concat(e," ").concat(t?"room":"rooms")},m=e=>"Delete ".concat(e," room"),d=e=>{let{name:t,roomsLength:n,spaceName:l}=e;const r=t||"".concat(n,1===n?" room":" rooms");return a.createElement(a.Fragment,null,"You are about to delete ",a.createElement("strong",null,r)," from ",a.createElement("strong",null,l)," space.",a.createElement("br",null),"This cannot be undone. Are you sure you want to continue?")};t.ZP=e=>{let{id:t,name:n,navigateToParent:s}=e;const u=(0,r.OS)("name"),g=(0,c.tE)(t,"untouchable"),E=(0,i.gI)("room:Delete")&&!g,p=(0,c.IX)(t,{onSuccess:s}),[h,,b,f]=(0,o.Z)();return E?a.createElement(a.Fragment,null,a.createElement(l.Button,{"data-testid":"manageWarRoom-delete",flavour:"hollow",onClick:b,label:"Delete room",danger:!0}),h&&a.createElement(l.ConfirmationDialog,{confirmLabel:"Yes, delete","data-ga":"delete-war-room-dialog","data-testid":"deleteWarRoomDialog",handleConfirm:p,handleDecline:f,message:a.createElement(d,{name:n,spaceName:u}),title:m(n)})):null}},97323:function(e,t,n){"use strict";n.d(t,{Q:function(){return v}});var a=n(87462),l=(n(33948),n(67294)),r=n(22195),o=n(62200),c=n(95383),i=n(37518),s=n(33335),m=n(1229),d=n(46667);const u="leave-war-room-dialog",g="leaveWarRoomDialog";var E=e=>{let{id:t,name:n,navigateToParent:o}=e;const c=(0,m.IT)(t,"ids"),s=(0,i.iC)(t,{onSuccess:o}),E=(0,i.tE)(t,"untouchable"),[p,,h,b]=(0,d.Z)(),f=1===c.length&&!E?{"data-ga":"".concat(u,"-last-member"),"data-testid":"".concat(g,"LastMember"),message:l.createElement(l.Fragment,null,"If you leave, ",l.createElement("strong",null,n)," room will be deleted immediately.",l.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(n," room")}:{"data-ga":u,"data-testid":g,message:l.createElement(l.Fragment,null,"You are about to leave ",l.createElement("strong",null,n)," room.",l.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(n," room")};return l.createElement(l.Fragment,null,l.createElement(r.Button,{"data-ga":"manage-war-room-tab::click-leave-war-room::manage-war-room-modal","data-testid":"manageWarRoom-leave",icon:"switch_off",flavour:"borderless",label:"Leave room",neutral:!0,padding:[0],width:"fit-content",onClick:h}),p&&l.createElement(r.ConfirmationDialog,(0,a.Z)({confirmLabel:"Yes, leave",handleConfirm:s,handleDecline:b},f)))},p=n(7724),h=n(30688);const b=(0,h.A)([e=>{const t=e.length>=1;return(0,h.f)(t,"Give your room a name that's at least one character.")},e=>{const t=e.length<=20;return(0,h.f)(t,"A room's name can't exceed 20 characters.")}]);var f=e=>{let{charsIndicator:t,isDisabled:n,isValid:o,handleChange:c,setIsValid:i,setValidationMessage:s,validationMessage:m,value:d,...u}=e;const[g,E]=(0,r.useTouchedState)({});return(0,l.useEffect)((()=>{const e=b(d),t=e.isValid,n=e.messages&&e.messages.length?e.messages[0]:void 0;!o&&t?i(!0):o&&!t&&i(!1),n&&s(n)}),[o,i,d,g,s]),l.createElement(r.TextInput,(0,a.Z)({"data-testid":"warRoomOptions-warRoomNameInput",label:"Room name",name:"createRoom",placeholder:"Enter your room's name",fieldMessage:"Tip: Use rooms to group your Nodes by their service, purpose, or location.",fieldIndicator:t,value:d,touched:g,onBlur:E,onChange:c,success:o,error:!o&&m,instantFeedback:"all",disabled:n,autoFocus:!0},u))};const x=new RegExp(/^[\w\s\d]*?$/),v=e=>{let{id:t,navigateToParent:n,isCreateForm:m,roomName:d,setRoomName:u,roomDescription:g,setRoomDescription:h,charsDescIndicator:b,onSaveClick:v,...C}=e;const y=(0,i.tE)(t),w=(0,c.J7)(),[I,T]=(0,l.useState)(!1),[S,k]=(0,l.useState)(""),[F,A]=(0,l.useState)(""),[P]=(0,r.useInputValue)({maxChars:o.v$}),Z=(0,l.useCallback)((e=>u(e.target.value)),[u]),N=!!t,D=((0,s.gI)("room:LeaveAllNodes")||!y.untouchable)&&w.length>1&&y.isMember,[M,L]=(0,r.useTouchedState)({defaultState:!0}),R=!y.name||d===y.name&&g===y.description;return(0,l.useEffect)((()=>{A(x.test(g)&&M?"":"The description can only contain digits, letters, and spaces.")}),[M,g]),l.createElement(r.Flex,(0,a.Z)({column:!0,"data-testid":"manageWarRoom",flex:"grow",justifyContent:"between",height:"100%"},C),l.createElement(r.Flex,{column:!0,"data-testid":"manageWarRoom-settings",gap:2},l.createElement(r.Box,{"data-testid":"manageWarRoom-createRoomInputBox"},l.createElement(f,{"data-testid":"manageWarRoom-createRoomInput",value:d,handleChange:Z,charsIndicator:P,validationMessage:S,setValidationMessage:k,isValid:I,setIsValid:T,isDisabled:N&&y.untouchable})),l.createElement(r.Box,{"data-testid":"manageWarRoom-descriptionInputBox"},l.createElement(r.TextInput,{"data-testid":"manageWarRoom-descriptionInput",label:"Description",name:"roomDescription",placeholder:"A room description...",instantFeedback:"positiveFirst",touched:M,onBlur:L,fieldIndicator:b,error:""!==F&&F,success:""===F,value:g,onChange:h}))),l.createElement(r.Flex,{"data-testid":"manageWarRoom-actions"},l.createElement(r.Flex,{"data-testid":"manageWarRoom-deleteLeaveActions",gap:4},N&&D&&l.createElement(E,{id:t,name:y.name,navigateToParent:n}),N&&l.createElement(p.ZP,{id:t,name:d,navigateToParent:n})),!m&&l.createElement(r.Button,{"data-ga":"manage-war-room-tab::click-save::manage-war-room-modal","data-testid":"manageRoom-saveButton",label:"Save",onClick:v,disabled:R,margin:[0,0,0,"auto"]})))}},38611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nl}});var a=n(67294),l=n(89250),r=(n(33948),n(12599)),o=n(60677),c=n(22195),i=n(73256),s=n(16645),m=n(7693),d=n(87462),u=n(56662),g=(n(57640),n(9924),n(33335)),E=n(95383),p=n(74059),h=n(46667),b=n(20031),f=[{id:"name",accessor:"name",header:"Name",cell:e=>{let{getValue:t,row:{original:{isMember:n}}}=e;const l=t(),r=(0,g.gI)("room:ReadAll");return a.createElement(c.Flex,{alignItems:"center"},r&&n&&a.createElement(b.Z,{margin:[0,1,0,0]}),a.createElement(c.Text,{margin:r&&!n&&[0,0,0,4]},l))}},{id:"nodeCount",accessor:"nodeCount",header:"Nodes",cell:e=>{let{getValue:t}=e;return"".concat(t()||0)}},{id:"memberCount",accessor:"memberCount",header:()=>"Users",cell:e=>{let{getValue:t}=e;return"".concat(t()||0)}}],x=(n(88449),n(2490),n(59849),n(15581),n(34514),n(4480)),v=n(33427),C=n(25819),y=n(37518),w=n(91850),I=n(4474);var T=e=>(0,x._8)((t=>{let{snapshot:n,set:a,reset:l}=t;return async function(t){let{onSuccess:r,onFail:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=await n.getPromise((0,E.Ad)({id:e,key:"ids"})),i=t.map((e=>{let{id:t}=e;return t})),s=c.filter((e=>!i.includes(e)));a((0,E.Ad)({id:e,key:"ids"}),s);const m=await Promise.all(s.map((e=>n.getPromise((0,y.n2)({id:e})))));try{if(await(async(e,t)=>Promise.all(t.map((t=>(0,C.GX)(e,t)))))(e,i),a(w.IV,(0,I.rZ)(m)),t.forEach((t=>{let{id:n,slug:a}=t;l((0,y.n2)({id:n})),l((0,w.xh)([e,a]))})),r&&r(),t.length>1)(0,v.$T)("Rooms were successfully deleted from Space!");else{const[e]=t;(0,v.$T)("Room ".concat(e.name," was successfully deleted!"))}}catch(d){a((0,E.Ad)({id:e,key:"ids"}),c),o&&o(d)}}}),[e]),S=n(7724);var k=e=>{let{spaceId:t,spaceName:n,startIsCreating:l}=e;const r=T(t),o=(0,g.gI)("space:Delete"),c=(0,g.gI)("room:Create"),i=e=>{if(!e)return;const t=Array.isArray(e)?e.map((e=>{let{id:t,name:n}=e;return{id:t,name:n}})):[{id:e.id,name:e.name}];r(t)},s=(e,t)=>{const n=t.length;if(!n)return"";return 1===n?(0,S.CE)(t[0].name):(0,S.CE)(n)},m=(e,t)=>{const l=t.length;if(!l)return"";const r={...1===l?{name:t[0].name}:{roomsLength:l},spaceName:n};return a.createElement(S.M5,r)},d=(0,a.useMemo)((()=>({delete:{confirmLabel:"Yes, delete",confirmationMessage:e=>a.createElement(S.M5,{name:e.name,spaceName:n}),confirmationTitle:e=>(0,S.R4)(e.name),dataGa:e=>{let{slug:t}=e;return"manage-rooms::click-delete::".concat(t)},declineLabel:"Cancel",handleAction:i,isDisabled:e=>{let{untouchable:t}=e;return t||!o},tooltipText:"Delete room"}})),[o]);return{bulkActions:(0,a.useMemo)((()=>({addEntry:{dataGa:"manage-rooms::click::add-room",handleAction:l,isDisabled:!c,tooltipText:"Create room"},delete:{confirmationMessage:m,confirmationTitle:s,confirmLabel:"Yes, delete",dataGa:"manage-rooms::delete-bulk",declineLabel:"Cancel",handleAction:i,isDisabled:!o,tooltipText:"Delete rooms"}})),[c,o,m,s]),rowActions:d}};var F=()=>{const e=(0,E.J7)(),t=(0,g.gI)("room:Delete"),n=e.map((e=>({...e,disabled:e.untouchable||!t}))),[r,o]=(0,a.useState)(""),c=(0,p.OS)("name"),i=(0,p.OS)("id"),[s,,m,d]=(0,h.Z)(),[,u]=(0,a.useState)([]),{bulkActions:b,rowActions:x}=k({startIsCreating:m,spaceId:i,spaceName:c}),{pathname:v}=(0,l.TH)(),C=(0,l.s0)(),y=(0,a.useCallback)((e=>{let{data:{slug:t}}=e;C("".concat(v,"/").concat(t))}),[v,C]);return{roomList:n,globalFilter:r,spaceName:c,spaceId:i,isCreating:s,rowActions:x,bulkActions:b,columns:f,startIsCreating:m,stopIsCreating:d,setGlobalFilter:o,onRowSelected:u,onClickRow:y,dataGa:"manage-rooms",canDeleteRoom:t}};var A=e=>{const{roomList:t,spaceName:n,isCreating:l,columns:r,setGlobalFilter:o,stopIsCreating:i,onRowSelected:s,rowActions:m,bulkActions:g,onClickRow:E,dataGa:p,canDeleteRoom:h}=F();return a.createElement(a.Fragment,null,a.createElement(c.Flex,(0,d.Z)({column:!0,height:"100%",overflow:"hidden",gap:3},e),a.createElement(c.H3,null,"Rooms of ",n),a.createElement(c.NetdataTable,{onGlobalSearchChange:o,onRowSelected:s,onClickRow:E,enableSorting:!0,dataColumns:r,enableSelection:!0,data:t,bulkActions:g,rowActions:m,dataGa:p,testPrefixCallback:e=>e.name})),l&&a.createElement(u.U,{onClose:i}))},P=n(97323),Z=n(41379),N=n(39904),D=n(2509),M=n(17563),L=n(96929),R=n(97945);var B=()=>{const e=(0,L.zN)();return{nodes:(0,R.Ne)(e).map((e=>({...e,disabled:e.hasAccessibleData})))||[],nodeIds:e}},_=n(18129);var U=(0,a.memo)((e=>{let{roomUntouchable:t,...n}=e;const{nodes:l,nodeIds:r}=B({roomUntouchable:t});return a.createElement(c.Flex,(0,d.Z)({column:!0,height:"100%",overflow:"hidden",gap:3},n),a.createElement(c.H3,null,"Nodes in this room (",r.length,") "),a.createElement(_.Z,{showClaimNodeOnEmptySpace:!0,enableSelection:!0,customNodes:l,roomUntouchable:t}))})),V=n(92903),W=n(1229),O=n(6557),H=n.n(O),G=n(91966),z=n.n(G),j=n(94666),Y=n(34912),q=n(31203);var K=[{id:"user",accessorKey:"user",header:"Name",cell:e=>{let{cell:t}=e;const{avatarURL:n,name:l}=t.row.original;return a.createElement(c.Flex,{alignItems:"center",gap:2},a.createElement(q.Z,{src:n,title:l}),a.createElement(c.TextSmall,null,l))}},{id:"email",accessorKey:"email",header:"Email",cell:e=>{let{getValue:t}=e;return a.createElement(c.TextSmall,null,t())}}];const $=[{id:"user",desc:!1}];var Q=e=>{let{setSelected:t}=e;const n=(0,j.H4)(),l=(0,W.e1)(),r=(0,a.useMemo)((()=>z()(n,l)),[n,l]),o=(0,a.useCallback)((e=>{t(e.map((e=>e.id)))}),[]),i=(0,Y.Vr)(r);return a.createElement(c.Flex,{alignItems:"start",padding:[1],overflow:{horizontal:"hidden",vertical:"auto"}},a.createElement(c.NetdataTable,{dataColumns:K,data:i,autoResetSelectedRows:!0,sortableBy:$,onGlobalSearchChange:H(),onRowSelected:o,enableSelection:!0,enableSorting:!0}))};var X=e=>{let{onAdd:t,onClose:n,selected:l,error:r,name:o}=e;return a.createElement(c.Flex,{alignItems:"center",justifyContent:"between"},r?a.createElement(c.Text,{color:"error"},"Select at least 1 user to add to ",o):a.createElement("div",null),a.createElement(c.Flex,{gap:2},a.createElement(c.Button,{neutral:!0,flavour:"hollow",onClick:n,label:"Cancel"}),a.createElement(c.Button,{disabled:!l.length,label:"Add ".concat(l.length," members"),onClick:t})))},J=n(87181),ee=n(86414),te=n(36925),ne=n(35838),ae=n(74855),le=n(52631),re=n(93017),oe=n(8048),ce=n(91008),ie=n(46475);const se=e=>{let{email:t}=e;return(0,te.vV)(t)},me={header:"Invitations",text:"Invitations successfully sent!"};var de=e=>{const{id:t,slug:n}=(0,p.OS)(),l=(0,y.UL)(),r=(0,y.tE)(l,"name"),[o,i]=(0,a.useState)([]),[,,s,m]=(0,ne.E)(t),[,u]=(0,re.Z)(),[E,h]=(0,a.useState)(),[b,f]=(0,a.useState)(),x=e=>{const{header:t,text:n}=e||me,a=(0,ae.sc)({header:t,text:n,success:!0});le.Z.success(a,{context:"manageInvitations"}),i([]),h(Math.random())},v=(0,a.useCallback)((()=>{const e=o.filter(se).map((e=>({email:e.email,name:e.name,role:b,roomIDs:[l]}))),t="".concat(window.location.origin,"/spaces/").concat(n,"/join-space");s(e,t,{onSuccess:x,onError:u})}),[o,l,b]),C=(0,g.QB)();return a.createElement(c.Flex,(0,d.Z)({column:!0},e),a.createElement(c.H4,null,"Send invitations to ",r," room"),a.createElement(J.ne,null,"TIP: You can send more invitations at once, separate each with a comma."),a.createElement(ee.m,{key:E,invitations:o,setInvitations:i}),a.createElement(c.H5,{margin:[4,0,0]},"Role"),a.createElement(J.ne,null,"Choose a role for invited user."," ",a.createElement(ce.Z,{href:ie.R,target:"_blank",rel:"noopener noreferrer",Component:c.TextSmall},"Learn more")),a.createElement(oe.Z,{availableRoles:C,dataGA:"invite-to-room",dataTestId:"invite-selectRole",onChange:e=>{f(e.target.value)},value:b}),a.createElement(c.Box,{alignSelf:"end",margin:[4,0,0]},a.createElement(c.Button,{label:"Send",onClick:v,disabled:0===o.length||!b,flavour:"hollow",isLoading:m})))};var ue=e=>{let{onClose:t,room:n}=e;const[l,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),d=(0,W.r3)(n.spaceId,n.id),u=(0,a.useCallback)((()=>{if(!l.length)return i(!0);i(!1),d(l),t()}),[l,d]);return a.createElement(s.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t},a.createElement(m.x,{onClose:t,isSubmodal:!0,title:a.createElement(a.Fragment,null,"Manage room",a.createElement(c.TextBig,{color:"textLite"},"\xa0/ Add Users"))}),a.createElement(V.B,null,"Add users to room\xa0",n.name),a.createElement(s.TZ,null,a.createElement(de,{margin:[0,0,4]}),a.createElement(c.Flex,{column:!0,flex:!0,overflow:"hidden",padding:[0,0,2,0]},a.createElement(Q,{setSelected:r})),a.createElement(X,{onClose:t,onAdd:u,selected:l,error:o,name:n.name})))};var ge=n(46322),Ee=n(13477);const pe=e=>"Remove ".concat(e),he=e=>{let{name:t,usersLength:n}=e;return n?1===n&&t?pe(t):"Remove ".concat(a=n," ").concat(1===a?"user":"users"):"";var a},be=e=>{let{name:t,roomName:n}=e;return a.createElement(a.Fragment,null,"You are about to remove ",a.createElement("strong",null,t)," from room ",a.createElement("strong",null,n),".",a.createElement("br",null),"Are you sure you want to continue?")},fe=e=>{let{roomName:t,usersLength:n}=e;const l="".concat(n,1===n?" user":" users");return a.createElement(a.Fragment,null,"You are about to remove ",a.createElement("strong",null,l)," from room ",a.createElement("strong",null,t),".",a.createElement("br",null),"Are you sure you want to continue?")},xe=e=>{let{name:t,roomName:n,usersLength:l}=e;return l?1===l&&t?a.createElement(be,{name:t,roomName:n}):a.createElement(fe,{roomName:n,usersLength:l}):""};var ve=e=>{let{spaceId:t,roomId:n,startIsInviting:l}=e;const r=(0,W.GA)(t,n),o=(0,y.Hm)("name"),c=e=>{if(!e)return;const t=Array.isArray(e)?e.map((e=>{let{user:t}=e;return t.id})):[null===e||void 0===e?void 0:e.user.id];r(t)};return{rowActions:(0,a.useMemo)((()=>({remove:{confirmLabel:"Yes, remove",confirmationMessage:e=>a.createElement(be,{name:e.name,roomName:o}),confirmationTitle:e=>pe(e.name),declineLabel:"Cancel",disabledTooltipText:"Remove is disabled",handleAction:c,isDisabled:e=>e.disabled,tooltipText:"Remove user from room"}})),[pe,c,be,o]),bulkActions:(0,a.useMemo)((()=>({addEntry:{handleAction:l,tooltipText:"Invite users"},remove:{confirmLabel:"Yes, remove",confirmationMessage:(e,t)=>a.createElement(xe,{name:t[0].name,roomName:o,usersLength:t.length}),confirmationTitle:(e,t)=>he({name:t[0].name,usersLength:t.length}),declineLabel:"Cancel",disabledTooltipText:"Remove is disabled",handleAction:c,tooltipText:"Remove users from room"}})),[c,xe,o,l,he])}};var Ce=e=>{let{untouchable:t}=e;const n=(0,a.useMemo)((()=>[{id:"email",accessor:"email",header:"Email",cell:e=>{let{getValue:t}=e;return"".concat(t())}},{id:"name",accessor:"name",header:"Name",cell:e=>{let{getValue:t}=e;return"".concat(t())}},{id:"user",accessor:"user",header:"Users",cell:e=>{let{getValue:t}=e;const{name:n,avatarURL:l,email:r}=t();return a.createElement(c.Flex,{alignItems:"center",gap:2},a.createElement(q.Z,{src:l,title:"".concat(n," - ").concat(r||"email not set")}),a.createElement(c.TextSmall,null,n))}}]),[]),l=(0,W.lA)(),r=(0,Ee.Iy)("id"),o=(0,g.gI)("space:RemoveUser"),[i,s]=(0,a.useState)([]),[m,d]=(0,a.useState)(""),[u,,E,b]=(0,h.Z)(),f=(0,p.OS)("id"),x=(0,y.UL)(),{rowActions:v,bulkActions:C}=ve({selectedRows:i,spaceId:f,roomId:x,startIsInviting:E});return{columns:n,data:(0,a.useMemo)((()=>(0,ge.k)({data:l,currentUserId:r,canRemoveUser:o,untouchable:t})),[l]),columnVisibility:{email:!1,name:!1},members:l,rowActions:v,bulkActions:C,isInviting:u,globalFilter:m,stopIsInviting:b,onRowSelected:s,setGlobalFilter:d,canRemoveUser:o}};var ye=e=>{let{room:t,...n}=e;const{untouchable:l}=t,{columns:r,data:o,columnVisibility:i,members:s,rowActions:m,bulkActions:u,isInviting:g,stopIsInviting:E,onRowSelected:p,setGlobalFilter:h,canRemoveUser:b}=Ce({untouchable:l});return a.createElement(c.Flex,(0,d.Z)({column:!0,height:"100%",overflow:"hidden",gap:3},n),a.createElement(c.H3,null,"Users in this room (",s.length,")"),a.createElement(c.NetdataTable,{enableSelection:!0,enableSorting:!0,columnVisibility:i,data:o,dataColumns:r,rowActions:m,bulkActions:u,onRowSelected:p,onGlobalSearchChange:h,testPrefixCallback:e=>e.name}),g&&a.createElement(ue,{onClose:E,room:t}))};const we={room:0,nodes:1,users:2},Ie=(0,o.default)(c.Box).attrs({height:"100%",padding:[4,0]}).withConfig({displayName:"manageRoomModal__TabContent",componentId:"sc-lrxs0y-0"})([""]),Te=()=>{const e=(0,l.s0)(),t=(0,p.th)(),{roomSlug:n,spaceSlug:o,settingsTab:i}=(0,l.UO)(),s=(0,y.HM)(t,n);(0,Z.Z)({spaceId:t,id:s,polling:!1}),(0,N.Z)(t,s);const m=(0,g.gI)("room:ReadUsers"),d=(0,y.tE)(s),[u,E]=(0,a.useState)(d.name),{search:h}=(0,l.TH)(),{tab:b="room"}=M.parse(h),f=we[b],[x,v]=(0,a.useState)(f),[C,w,I]=(0,c.useInputValue)({maxChars:255,value:d.description}),T=(0,a.useCallback)((()=>{e((0,r.Gn)(D.Sr,{spaceSlug:o,settingsTab:i}))}),[o,i]),S=(0,y.s)(d.id,{shouldPersist:!0,onSuccess:T}),k=(0,a.useCallback)((()=>S({name:u,description:C})),[u,C,S]);return a.createElement(c.Flex,{column:!0,justifyContent:"between",overflow:"hidden","data-testid":"manageRoom"},a.createElement(c.Flex,{column:!0,gap:4,height:"100%"},a.createElement(c.Tabs,{"data-testid":"manageRoom-tabs",selected:x,onChange:v,TabContent:Ie,flex:!0,height:"100%"},a.createElement(c.Tab,{"data-testid":"manageRoom-roomTab",label:a.createElement(c.H5,null,"Room"),height:"100%"},a.createElement(P.Q,{roomName:u,setRoomName:E,roomDescription:C,setRoomDescription:w,charsDescIndicator:I,"data-testid":"manageRoom-roomTabContent",id:d.id,navigateToParent:T,onSaveClick:k})),a.createElement(c.Tab,{"data-testid":"manageRoom-nodesTab",label:a.createElement(c.H5,null,"Nodes")},a.createElement(U,{roomUntouchable:d.untouchable,"data-testid":"manageRoom-nodesTabContent"})),m&&a.createElement(c.Tab,{"data-testid":"manageRoom-usersTab",label:a.createElement(c.H5,null,"Users")},a.createElement(ye,{"data-testid":"manageRoom-usersTabContent",room:d})))),x===we.room&&a.createElement(c.Flex,{justifyContent:"end"}))};var Se=n(3975);const ke=e=>{let{children:t}=e;return(0,Se.QF)(),t},Fe=e=>{let{children:t}=e;return(0,y.Hm)().loaded?t:null};var Ae=()=>a.createElement(l.Z5,null,a.createElement(l.AW,{path:"/",element:a.createElement(A,null)}),a.createElement(l.AW,{path:":roomSlug",element:a.createElement(ke,null,a.createElement(Fe,null,a.createElement(Te,null)))})),Pe=n(18663),Ze=n(64637),Ne=n(82351),De=[{id:"email",accessor:"email",header:"Email",cell:e=>{let{getValue:t}=e;return"".concat(t())}},{id:"name",accessor:"name",header:"Name",cell:e=>{let{getValue:t}=e;return"".concat(t())}},{id:"user",accessor:"user",width:300,header:"Users",cell:e=>{let{getValue:t}=e;const{name:n,avatarURL:l,email:r}=t();return a.createElement(c.Flex,{alignItems:"center",gap:2},a.createElement(q.Z,{src:l,title:"".concat(n," - ").concat(r||"email not set")}),a.createElement(c.TextSmall,null,n))}},{id:"type",accessor:"type",width:100,header:"Role",cell:e=>{let{getValue:t,row:{original:{user:{deactivated:n}}}}=e;return a.createElement(c.Flex,{alignItems:"center",gap:1},a.createElement(c.TextSmall,{strong:!0},(0,Ze.fm)(t())),n&&a.createElement(Ne.Z,{content:"This user's role doesn't have permission to access any information on the Space. Please review user's role or space's plan."},a.createElement(c.Icon,{name:"warning_triangle",height:"18px",width:"18px",color:["yellow","amber"]})))}}];n(25387),n(72608);var Me=n(274);var Le=e=>(0,x._8)((t=>{let{snapshot:n,set:a}=t;return async function(t,l){let{onSuccess:r,onError:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=await n.getPromise((0,Y.W3)(t)),i=await Promise.all(t.map((async t=>({mId:t,role:await n.getPromise((0,j.ZN)({id:t,spaceId:e}))})))),{role:s,...m}=l;t.forEach((e=>{a((0,Y.mX)({id:e}),(e=>({...e,...m})))})),s&&t.forEach((t=>{a((0,j.ZN)({id:t,spaceId:e}),s)}));try{await(async(e,t,n)=>Promise.all(t.map((async t=>await(0,Me.lh)(e,t,n)))))(e,t,l),r&&r()}catch(d){c.forEach((e=>{let{id:t,...n}=e;return a((0,Y.mX)({id:t}),{id:t,...n})})),s&&i.forEach((t=>{let{mId:n,role:l}=t;return a((0,j.ZN)({id:n,spaceId:e}),l)})),o&&o()}}}),[e]);const Re="change-user-role",Be="changeUserRole";var _e=e=>{let{handleAction:t,ids:n,onClose:l}=e;const r=(0,j.kf)(n),o=1===r.length?r[0]:null,i=(0,g.QB)(),[s,m]=(0,a.useState)(o);return a.createElement(c.ConfirmationDialog,{confirmLabel:"Save","data-ga":Re,"data-testid":Be,handleConfirm:()=>{t(s),l()},handleDecline:l,isConfirmDisabled:!s,isConfirmPositive:!0,message:a.createElement(c.Flex,{gap:2,column:!0},a.createElement(c.TextSmall,null,"Learn more about Netdata role-based access model on"," ",a.createElement(ce.Z,{href:ie.R,target:"_blank",rel:"noopener noreferrer",Component:c.TextSmall},"our documentation")),a.createElement(oe.Z,{availableRoles:i,dataGA:Re,dataTestId:Be,onChange:e=>{m(e.target.value)},value:s})),title:"Change roles"})};var Ue=e=>{let{spaceId:t,startIsInviting:n}=e;const l=(e=>(0,x._8)((t=>{let{snapshot:n,set:a}=t;return async(t,l)=>{let{onSuccess:r,onError:o}=l;const c=await n.getPromise((0,j.WA)({id:e,key:"ids"})),i=c.filter((e=>!e.includes(t)));a((0,j.WA)({id:e,key:"ids"}),i);try{await(0,Me.Sz)(e,t),r&&r()}catch(s){a((0,j.WA)({id:e,key:"ids"}),c),o&&o()}}}),[e]))(t),r=Le(t),o=(0,g.gI)("space:InviteUser"),c=(0,a.useCallback)((e=>{let{role:t,members:n}=e;r(n,{role:t})}),[]),i=e=>t=>{if(!e)return;const n=Array.isArray(e)?e.map((e=>{let{user:t}=e;return t.id})):[null===e||void 0===e?void 0:e.user.id];c({role:t,members:n})},s=e=>{if(!e)return;const t=Array.isArray(e)?e.map((e=>{let{user:t}=e;return t.id})):[null===e||void 0===e?void 0:e.user.id];l(t,{})},m=(0,a.useCallback)((()=>"Delete User"),[]),u=(0,a.useCallback)((e=>a.createElement(a.Fragment,null,"You are about to delete ",a.createElement("strong",null,e.name),".",a.createElement("br",null),"Are you sure you want to continue?")),[]),E=(0,a.useCallback)(((e,t)=>{const n=t.length;return n?1===n?"Delete User":"Delete Users":""}),[]),p=(0,a.useCallback)(((e,t)=>{const n=t.length;return n?a.createElement(a.Fragment,null,"You are about to delete"," ",a.createElement("strong",null,1===n?t[0].name:"".concat(t.length," users")),".",a.createElement("br",null),"Are you sure you want to continue?"):""}),[]);return{rowActions:(0,a.useMemo)((()=>({userSettings:{CustomUIAction:e=>{let{data:t,...n}=e;return a.createElement(_e,(0,d.Z)({ids:[t.user.id]},n))},handleAction:i,tooltipText:"Change Role",isDisabled:e=>e.disabled,disabledTooltipText:"Changing roles is disabled"},delete:{handleAction:s,confirmationTitle:m,confirmationMessage:u,isDisabled:e=>e.disabled,disabledTooltipText:"Delete is disabled"}})),[]),bulkActions:(0,a.useMemo)((()=>({addEntry:{handleAction:n,tooltipText:"Invite user",isDisabled:()=>!o,disabledTooltipText:"Invitations are disabled"},userSettings:{CustomUIAction:e=>{let{data:t,...n}=e;return a.createElement(_e,(0,d.Z)({ids:t.map((e=>{let{user:t}=e;return t.id}))},n))},handleAction:i,tooltipText:"Change Roles",disabledTooltipText:"Changing roles is disabled"},delete:{handleAction:s,confirmationTitle:E,confirmationMessage:p,disabledTooltipText:"Delete is disabled"}})),[o,E,p])}};var Ve=()=>{const e=(0,p.th)(),t=(0,p.vu)(e,"name"),n=(0,j.Qk)(),l=(0,Ee.Iy)("id"),[r,,o,c]=(0,h.Z)(),[i,s]=(0,a.useState)(""),[m,d]=(0,a.useState)([]),{rowActions:u,bulkActions:E}=Ue({selectedRows:m,spaceId:e,startIsInviting:o}),b=(0,g.gI)("space:RemoveUser"),f=(0,g.gI)("user:ChangeRoles"),x=(0,g.M2)(),v=b||f,C=(0,a.useMemo)((()=>(e=>{let{fromRolePermissions:t,userList:n,canModifyUser:a,currentUserId:l}=e;return n.reduce(((e,n)=>{const r=l===(null===n||void 0===n?void 0:n.id),o=t.includes(n.role);return e.push({name:n.name,email:n.email,user:{avatarURL:n.avatarURL,deactivated:n.deactivated,name:n.name,email:n.email,id:n.id},type:n.role,disabled:!o||!a||r}),e}),[])})({userList:n,currentUserId:l,canModifyUser:v,fromRolePermissions:x})),[n]);return{columns:De,spaceName:t,members:n,currentUserId:l,data:C,isInviting:r,globalFilter:i,rowActions:u,bulkActions:E,columnVisibility:{email:!1,name:!1},onRowSelected:d,setGlobalFilter:s,startIsInviting:o,stopIsInviting:c,canModifyUser:v}};var We=e=>{const{columns:t,spaceName:n,data:l,isInviting:r,rowActions:o,bulkActions:i,columnVisibility:s,stopIsInviting:m,setGlobalFilter:u,onRowSelected:g}=Ve();return a.createElement(a.Fragment,null,a.createElement(c.Flex,(0,d.Z)({column:!0,height:"100%",overflow:"hidden"},e),a.createElement(c.H3,null,"Members of ",n),a.createElement(c.TextSmall,{margin:[1,0,3]},"Learn more about Netdata role-based access model on"," ",a.createElement(ce.Z,{href:ie.R,target:"_blank",rel:"noopener noreferrer",Component:c.TextSmall},"our documentation")),a.createElement(c.NetdataTable,{onGlobalSearchChange:u,data:l,dataColumns:t,enableSorting:!0,enableSelection:!0,onRowSelected:g,bulkActions:i,rowActions:o,columnVisibility:s,testPrefixCallback:e=>e.name})),r&&a.createElement(Pe.l,{onClose:m,isSubmodal:!0}))},Oe=n(33582);var He=()=>{const{id:e=""}=(0,y.Jb)(),t=(0,L.X7)(e,"ids"),n=(0,L.X7)(e,"loaded"),a=(0,R.Ne)(t),l=(0,p.th)(),[r,,,o]=(0,h.Z)();return(0,Z.Z)({id:e,spaceId:l,polling:!0}),{areDefaultRoomNodesLoaded:n,nodes:a,isClaimNodeModalOpen:r,closeClaimNodeModal:o}};const Ge=(0,a.memo)((e=>{const t=(0,p.th)(),n=(0,p.OS)("name"),{nodes:l}=He();(0,Oe.Z)(t);const r="Connect Nodes to ".concat(n);return a.createElement(c.Flex,(0,d.Z)({column:!0,"data-testid":"manageClaimedNodes",height:"100%",overflow:"hidden",gap:3},e),a.createElement(c.H3,{"data-testid":"manageClaimedNodes-header"},r),a.createElement(_.Z,{showClaimNodeOnEmptySpace:!0,showClaimModalWithRoomSelection:!0,enableSelection:!0,customNodes:l,isSpace:!0}))}));var ze=Ge,je=n(2145),Ye=n(77184),qe=n(45736),Ke=n(3689);var $e=e=>{let{name:t,spaceName:n}=e;return a.createElement(a.Fragment,null,"You are about to delete ",a.createElement("strong",null,t)," channel from ",a.createElement("strong",null,n)," space.",a.createElement("br",null),"This cannot be undone. Are you sure you want to continue?")},Qe=n(31790),Xe=(n(64211),n(41874),n(25185));const Je=e=>{let{integration:t,testId:n,...l}=e;const r=l.checked?"disable":"enable";return a.createElement(c.Toggle,(0,d.Z)({colored:!0,"data-testid":"".concat(n,"-toggle"),"data-ga":"manage-channels::toggle-".concat(t,"-").concat(r,"::notifications-tab")},l))},et=e=>{let{testId:t,tooltipContent:n="plan",...l}=e;return l.disabled?a.createElement(Ne.Z,{align:"top",content:Ke.rc[n],"data-testid":"".concat(t,"-warning"),plain:!0},a.createElement(c.Flex,{padding:[2,2,0,0],position:"relative"},a.createElement(Xe.aN,{"data-testid":"".concat(t,"-warningIcon")}),a.createElement(Je,(0,d.Z)({testId:t},l)))):a.createElement(Je,(0,d.Z)({testId:t},l))};var tt=e=>{let{"data-testid":t="cellName",enabled:n,id:l,integration:r,isAvailable:o,name:i,spaceId:s,tooltipContent:m,...u}=e;const g=(0,qe.pV)(s,"channels"),E=(0,qe.rz)(s,"channels");return a.createElement(c.Flex,(0,d.Z)({alignItems:"center","data-testid":t,gap:4},u),a.createElement(et,{checked:n,disabled:!o,integration:r,onChange:e=>{let{target:t}=e;const n=t.checked;E(g.map((e=>e.id===l?{...e,enabled:n}:e))),(0,Ye.eZ)(s,l,n)},testId:t,tooltipContent:m}),a.createElement(c.Text,{"data-testid":"".concat(t,"-label")},i))};var nt=e=>{let{"data-testid":t="cellService",integration:n,kind:l,kindLabel:r,...o}=e;const i=Ke.aU[n]||{};return a.createElement(c.Flex,(0,d.Z)({alignItems:"center","data-testid":t,gap:2,justifyContent:"between",width:"100%"},o),a.createElement(c.Flex,{alignItems:"center","data-testid":"".concat(t,"-integration"),gap:2},a.createElement(c.Icon,(0,d.Z)({"data-testid":"".concat(t,"-icon")},i)),a.createElement(c.Text,{"data-testid":"".concat(t,"-label")},n)),a.createElement(Ne.Z,{content:r,"data-testid":"".concat(t,"-kind"),plain:!0},a.createElement(c.Icon,{color:"textLite",height:"16px",name:Ke.XK[l].icon,width:"16px"})))};var at=e=>{let{canManageChannels:t,roomOptions:n,spaceId:l}=e;return[{accessor:"name",cell:e=>{let{getValue:n,row:r}=e;return a.createElement(tt,{enabled:r.original.enabled,id:r.original.id,integration:r.original.integration,isAvailable:t&&r.original.available,name:n(),spaceId:l,tooltipContent:t?"plan":"role"})},header:"Name",id:"name"},{accessor:"integration",cell:e=>{let{getValue:t,row:n}=e;return a.createElement(nt,{integration:t(),kind:n.original.kind,kindLabel:n.original.kindLabel})},enableColumnFilter:!0,filterFn:(e,t,n)=>{const a=e.original.integration;return n.length<1||n.some((e=>{let{value:t}=e;return""===t||t===a}))},header:"Service",id:"integration",meta:{filter:{component:"select",isMulti:!0,options:Object.keys(Ke.aU).map((e=>({label:e,value:e}))),tiny:!0,"data-ga":"manage-integrations::select-service::notification-integrations-tab"},tooltip:a.createElement(c.Flex,{column:!0,width:{max:"200px"},gap:2},a.createElement(c.TextMicro,{color:"white"},"Services are distinguished in two categories."),a.createElement(c.TextMicro,{color:"white"},a.createElement(Xe.fb,{name:Ke.XK.PERSONAL.icon})," ",a.createElement(c.TextMicro,{color:"white",strong:!0},"Personal:")," ",Ke.XK.PERSONAL.tooltip),a.createElement(c.TextMicro,{color:"white"},a.createElement(Xe.fb,{name:Ke.XK.SYSTEM.icon})," ",a.createElement(c.TextMicro,{color:"white",strong:!0},"System:")," ",Ke.XK.SYSTEM.tooltip))}},{accessor:"notificationLabel",cell:e=>{let{getValue:t}=e;return a.createElement(c.Text,{"data-testid":"channelNotificationsCell"},t())},enableColumnFilter:!0,filterFn:(e,t,n)=>{const a=e.original.notificationLabel;return n.length<1||n.some((e=>{let{label:t}=e;return""===t||t===a}))},header:"Notifications",id:"notificationLabel",meta:{filter:{component:"select",isMulti:!0,options:Object.values(Ke.uK),tiny:!0,"data-ga":"manage-integrations::select-notification::notification-integrations-tab"}}},{accessor:"rooms",cell:e=>{var t;let{getValue:l,row:r}=e;const o={"data-testid":"channelRoomsCell"};if(r.original.internal)return a.createElement(c.Text,o,Ke.mN.label);if(!(r.original.rooms||null!==(t=r.original.rooms)&&void 0!==t&&t.length))return a.createElement(c.Text,o,Ke.k_.label);const i=(0,Qe.ae)({roomIds:l(),roomOptions:n});return a.createElement(c.Text,{"data-testid":"channelRoomsCell"},i)},enableColumnFilter:!0,filterFn:(e,t,n)=>n.length<1||n.some((t=>{let{label:n,value:a}=t;if(e.original.internal)return n===Ke.mN.label;const l=e.original.rooms||[];return l.length?l.includes(a):n===Ke.k_.label})),header:"Rooms",id:"rooms",meta:{filter:{component:"select",isMulti:!0,options:n,tiny:!0,"data-ga":"manage-integrations::select-room::notification-integrations-tab"}}}]},lt=n(45939),rt=n(5429),ot=n(93742);var ct=(e,t)=>{const n=(0,qe.Cz)(t),a=(0,ot.Z)({all:!0});(0,rt.Z)((()=>({enabled:!!t,fetch:()=>(0,Ye.$3)(e,t),onFail:e=>n({...lt.C,error:e.message}),onSettle:()=>n({loading:!1,loaded:!0}),onSuccess:e=>n({...lt.C,...e.rooms?{roomSelections:a.filter((t=>{let{value:n}=t;return e.rooms.includes(n)}))}:{},...e})})),[e,t])},it=n(26913);var st=()=>{const e=(0,l.s0)(),t=(0,g.gI)("channel:Manage"),n=(0,p.th)(),o=(0,p.OS)("name"),c=(0,p.uk)(),[i,s]=(0,re.Z)(),[m,d]=(0,a.useState)("");(0,it.Z)(n);const u=(0,qe.pV)(n,"channels"),E=(0,qe.pV)(n,"currentChannelId"),h=(0,qe.rz)(n,"channels"),b=(0,qe.rz)(n,"currentChannelId"),f=(0,ot.Z)({all:!0,internal:!0}),{alerts:x,name:v,rooms:C,secrets:y}=(0,qe.su)(E);ct(n,E);const w=(0,a.useCallback)((e=>{b(e)}),[]),I=(0,a.useCallback)((async e=>{let{id:t}=e;try{await(0,Ye.JV)(n,t),h(u.filter((e=>e.id!==t))),i({header:"Configuration deleted successfully!"})}catch(a){s(a)}}),[u,n]),T=(0,a.useCallback)((()=>{e((0,r.Gn)(D.xN,{spaceSlug:c,settingsTab:D.bK,settingsSubTab:D.Q$}))}),[c]),S=(0,a.useMemo)((()=>({addEntry:{dataGa:"manage-channels::click-add-channel::notifications-tab",flavour:"hollow",handleAction:T,iconColor:"success",label:t?"Add Configuration":"View configurations",small:!0,strong:!0,width:"auto",...t?{}:{icon:""}}})),[t,T]),k=(0,a.useMemo)((()=>({edit:{dataGa:e=>{let{slug:t}=e;return"manage-rooms::click-edit::".concat(t)},disabledTooltipText:"Edit is disabled",handleAction:e=>{let{id:t}=e;w(t)},isDisabled:e=>{let{available:n,internal:a}=e;return!t||!n||a},TooltipComponent:Ne.Z,tooltipText:"Edit setting"},delete:{confirmLabel:"Yes, delete",confirmationMessage:e=>{let{name:t}=e;return a.createElement($e,{name:t,spaceName:o})},confirmationTitle:e=>{let{name:t}=e;return(0,Qe.D4)(t)},dataGa:e=>{let{slug:t}=e;return"manage-rooms::click-delete::".concat(t)},declineLabel:"Cancel",handleAction:I,isDisabled:e=>{let{internal:n}=e;return!t||n},TooltipComponent:Ne.Z,tooltipText:"Delete setting"}})),[t,I,T]);return{bulkActions:S,channelData:u,currentChannelId:E,columns:at({canManageChannels:t,roomOptions:f,spaceId:n}),dataGa:"manage-channels",onFilter:(e,t,n)=>{const a=e.original,l=n.toLowerCase();if(a.name.toLowerCase().includes(l))return!0;if(a.integration.toLowerCase().includes(l))return!0;if(a.notificationLabel.toLowerCase().includes(l))return!0;if(a.internal)return Ke.mN.label.toLowerCase().includes(l);const r=a.rooms||[];if(!r.length)return Ke.k_.label.toLowerCase().includes(l);return(0,Qe.ae)({roomIds:r,roomOptions:f}).toLowerCase().includes(l)},onModalClose:()=>{h(u.map((e=>e.id===E?{...e,alerts:x,name:v,rooms:C,secrets:y}:e))),b("")},rowActions:k,search:m,setSearch:d}},mt=(n(68216),n(79433),n(84580));const dt="modal";var ut=e=>{let{id:t="new",integrationId:n,onClose:o,...i}=e;const{alarms:s,description:m,docsLink:u,fields:g,integration:h,loaded:b,name:f,required:x,rooms:v,roomSelections:C,secrets:y}=(0,qe.su)(t),w=e=>"manage-".concat(h,"-channel::").concat(e,"::notification-").concat(n?"integrations":"channels","-tab"),I=(0,l.s0)(),[T,S]=(0,re.Z)(),k=(0,ot.Z)({all:!0}),F=(0,E.J7)(),A=(0,p.th)(),P=(0,p.uk)(),Z=(0,qe.Cz)(t,"alarms"),N=(0,qe.Cz)(t,"name"),M=(0,qe.Cz)(t,"roomSelections"),L=(0,qe.Cz)(t,"secrets"),R=(0,qe.Cz)(t,"rooms"),[B,_]=(0,a.useState)({});if(!b)return null;const U=Object.keys(B),V=x.every((e=>(0,Qe.xW)(e,y[e],g[e]))),W=!U.length||U.every((e=>{const t=y[e].selection;return B[e].every((n=>(0,Qe.xW)(n,y[e][n],g[e].fields[t][n])))})),O=s&&V&&W,H=(0,r.Gn)(D.Sr,{spaceSlug:P,settingsTab:D.bK});return a.createElement(c.Modal,{onEsc:o},a.createElement(Xe.hz,{"data-testid":i["data-testid"]||dt},a.createElement(c.ModalHeader,{border:{side:"bottom",color:"disabled"},column:!0,"data-testid":"".concat(dt,"-header"),gap:.5,padding:[6,4,3]},a.createElement(c.Flex,{alignItems:"center","data-testid":"".concat(dt,"-headerMain")},a.createElement(c.Flex,{"data-testid":"".concat(dt,"-titleContainer"),gap:1},a.createElement(c.Icon,(0,d.Z)({"data-testid":"".concat(dt,"-titleIcon")},Ke.aU[h]||{})),a.createElement(c.H3,{"data-testid":"".concat(dt,"-title")},h)),o&&a.createElement(Xe.A3,{"data-ga":w("close-modal"),"data-testid":"".concat(dt,"-close"),onClose:o})),a.createElement(c.TextSmall,{as:c.Box,"data-testid":"".concat(dt,"-description")},m,"\xa0",a.createElement(ce.Z,{Component:c.TextSmall,"data-ga":w("click-docs"),"data-testid":"".concat(dt,"-docsLink"),href:u,target:"_blank",whiteSpace:"nowrap"},"Learn how to configure it."))),a.createElement(c.ModalBody,{"data-testid":"".concat(dt,"-body"),overflow:{vertical:"auto"},padding:[0]},a.createElement(Xe.QD,{gap:2,"data-testid":"".concat(dt,"-standardFields"),hasBorder:!0},a.createElement(c.Text,{"data-testid":"".concat(dt,"-standardFields-header")},"Notification settings"),a.createElement(c.Flex,{column:!0,"data-testid":"".concat(dt,"-standardFields-body"),gap:3},a.createElement(mt.Z,{component:"input","data-ga":w("configuration-name-input"),"data-testid":"".concat(dt,"-configurationName"),onChange:N,placeholder:"i.e All alerts from All nodes",title:"Configuration name",value:f}),a.createElement(mt.Z,{component:"select","data-ga":w("rooms-select"),"data-testid":"".concat(dt,"-rooms"),isMulti:!0,onChange:e=>{var t;if(1===F.length)return;if(0===e.length)return R([]),void M([]);if(e.length===F.length||null===(t=e[e.length-1])||void 0===t||!t.value)return R([]),void M([Ke.k_]);const n=e.map((e=>{let{value:t}=e;return t})).filter(Boolean),a=e.length>1?e.filter((e=>e.value)):e;R(n),M(a)},options:k,placeholder:"Select rooms",title:"Rooms",value:C}),a.createElement(mt.Z,{component:"select","data-ga":w("notification-select"),"data-testid":"".concat(dt,"-notifications"),isRequired:!0,onChange:e=>{let{value:t}=e;Z(t)},options:Object.values(Ke.Nq),placeholder:"Select notifications",title:"Notifications",value:Ke.Nq[s]}))),a.createElement(Xe.QD,{gap:2,"data-testid":"".concat(dt,"-dynamicFields"),hasBorder:!0},a.createElement(c.Text,{"data-testid":"".concat(dt,"-dynamicFields-header")},"Integration configuration"),a.createElement(c.Flex,{column:!0,"data-testid":"".concat(dt,"-dynamicFields-body"),gap:3},Object.values(g).map((e=>{let{id:t,getValue:n,onChange:l,...r}=e;return a.createElement(mt.Z,(0,d.Z)({"data-ga":w("".concat(t,"-").concat(r.component)),"data-testid":"".concat(dt,"-").concat(t),getDataGa:w,key:t,id:t,onChange:null===l||void 0===l?void 0:l({id:t,setRequiredSubsets:_,setSecrets:L}),secrets:y,setSecrets:L,value:null===n||void 0===n?void 0:n({id:t,secrets:y})},r))}))))),a.createElement(Xe.QD,{alignItems:"end","data-testid":"".concat(dt,"-footer"),justifyContent:"center"},a.createElement(c.Button,{"data-ga":w("new"===t?"create-click":"edit-click"),"data-testid":"".concat(dt,"-confirmButton"),disabled:!O,label:"OK",onClick:async()=>{try{const e={alarms:s,integrationID:n,...f?{name:f}:{},...null!==v&&void 0!==v&&v.length?{Rooms:v}:{},secrets:y};"new"===t?await(0,Ye.Y0)(A,e):await(0,Ye.IU)(A,t,e),T({header:"new"===t?"Configuration created successfully!":"Configuration updated successfully!"}),o(),I(H)}catch(e){S(e)}},textTransform:"uppercase"}))))};const gt={maxHeight:"none",whiteSpace:"initial"};var Et=e=>{let{"data-testid":t="channelList",...n}=e;const{bulkActions:l,channelData:r,currentChannelId:o,columns:i,dataGa:s,onFilter:m,onModalClose:u,rowActions:g,search:E,setSearch:p}=st();return a.createElement(c.Flex,(0,d.Z)({column:!0,"data-testid":t,gap:4,height:"100%",margin:[3,0]},n),a.createElement(c.NetdataTable,{bulkActions:l,data:r,dataColumns:i,dataGa:s,globalFilter:E,globalFilterFn:m,onGlobalSearchChange:p,rowActions:g,testPrefixCallback:e=>e.name,meta:gt}),!!o&&a.createElement(ut,{"data-testid":"editChannelModal",id:o,onClose:u}))};const pt=0;var ht=n(58591);const bt=(0,je.Z)((()=>n.e(597).then(n.bind(n,95384))),"SilencingRules"),ft={side:"top",type:"solid",size:"1px",color:"border"};var xt=()=>{const{notificationsActiveTab:e=pt}=(0,ht.m$)(),t=(0,a.useCallback)((e=>{const t=(0,ht.m$)();(0,ht.xs)({...t,notificationsActiveTab:e})}),[]);return a.createElement(a.Fragment,null,a.createElement(c.Flex,{padding:[0,0,0,4]},a.createElement(c.H3,null,"Alerts & Notifications")),a.createElement(c.Tabs,{selected:parseInt(e,10),onChange:t,height:"calc(100% - 44px)",margin:[4,0,0,0]},a.createElement(c.Tab,{"data-testid":"spaceSettings-notifications-methods-tab","data-ga":"manage-space::click-tab::notifications-methods-tab",label:a.createElement(c.Text,null,"Notification Methods")},a.createElement(c.Flex,{padding:[2,4],border:ft,flex:!0},a.createElement(Et,null))),a.createElement(c.Tab,{"data-testid":"spaceSettings-notifications-silencing-rules-tab","data-ga":"manage-space::click-tab::notifications-silencing-rules-tab",label:a.createElement(c.Text,null,"Notification Silencing Rules")},a.createElement(c.Flex,{border:ft,flex:!0},a.createElement(a.Suspense,null,a.createElement(bt,null))))))},vt=n(79655),Ct=n(27856),yt=n(78266),wt=n(37689),It=n(80959),Tt=n(27308);var St=e=>{let{available:t,classification:n,"data-testid":l="card",description:r,docsLink:o,fields:i,id:s,internal:m,kind:u,kindLabel:E,slug:p,required:b,title:f,...x}=e;const v=Ke.aU[p]||{},C=(0,qe.h3)("new"),y=(0,qe.Cz)("new"),w=(0,g.gI)("channel:Manage"),[I,,T,S]=(0,h.Z)(!1),k=(0,a.useCallback)((()=>{y({...lt.C,description:r,docsLink:o,fields:i,integration:p,loading:!1,loaded:!0,required:b,secrets:(0,Qe.A_)(i,b)}),T()}),[r,o,i,p,b]);return a.createElement(a.Fragment,null,a.createElement(c.Flex,(0,d.Z)({background:"elementBackground",column:!0,"data-testid":l,justifyContent:"between",flex:!1,height:37,padding:[3,2,2,3],margin:[0,0,4,0],position:"relative",overflow:"hidden",round:.5,width:75},x),a.createElement(Xe.zT,(0,d.Z)({"data-testid":"".concat(l,"-blurredIcon")},v)),a.createElement(c.Flex,{column:!0,"data-testid":"".concat(l,"-details"),gap:3,margin:[0,0,3,0]},a.createElement(c.Flex,{"data-testid":"".concat(l,"-header"),justifyContent:"between"},a.createElement(c.Flex,{alignItems:"center","data-testid":"".concat(l,"-titleContainer"),gap:1},a.createElement(c.Icon,(0,d.Z)({"data-testid":"".concat(l,"-icon")},v)),a.createElement(c.Text,{"data-testid":"".concat(l,"-title")},f)),!m&&t&&a.createElement(Ne.Z,{align:"bottom",content:w?"":Ke.Ue,plain:!0},a.createElement(c.Box,null,a.createElement(Xe.nO,{"data-ga":"manage-integration-".concat(p,"::click-add::notification-integrations-tab"),"data-testid":"".concat(l,"-button"),disabled:!w,label:"Add",onClick:k}))),!m&&!t&&a.createElement(Tt.Z,{classification:n,"data-ga":"manage-integration-".concat(p,"::click-plan-badge-").concat(n.toLowerCase(),"::notification-integrations-tab")})),a.createElement(c.TextSmall,{color:"textDescription","data-testid":"".concat(l,"-description")},r,o&&a.createElement(a.Fragment,null,"\xa0",a.createElement(ce.Z,{Component:Xe.bb,"data-ga":"manage-integration-".concat(p,"::click-docs::notification-integrations-tab"),"data-testid":"".concat(l,"-docsLink"),href:o,target:"_blank",whiteSpace:"nowrap"},"Learn more.")))),a.createElement(Ne.Z,{align:"top",content:Ke.XK[u].tooltip,"data-testid":"".concat(l,"-kindContainer"),plain:!0},a.createElement(c.Flex,{alignItems:"end",alignSelf:"end","data-testid":"".concat(l,"-kindContainer"),gap:1},a.createElement(c.Icon,{color:"textLite","data-testid":"".concat(l,"-kindIcon"),height:"16px",name:Ke.XK[u].icon,width:"16px"}),a.createElement(c.TextSmall,{color:"textLite","data-testid":"".concat(l,"-kind")},E)))),I&&a.createElement(ut,{"data-testid":"createChannelModal",integrationId:s,onClose:()=>{S(),C()}}))};var kt=e=>{let{"data-testid":t="group",integrations:n,title:l,...r}=e;return n.length?a.createElement(c.Flex,(0,d.Z)({column:!0,"data-testid":t,gap:2,position:"relative"},r),a.createElement(c.TextBig,{color:"textDescription","data-testid":"".concat(t,"-title")},l),a.createElement(c.Flex,{flexWrap:!0,"data-testid":"".concat(t,"-integrations"),gap:4},n.map((e=>a.createElement(St,(0,d.Z)({"data-testid":"".concat(e.slug,"Card"),key:e.slug},e)))))):null},Ft=n(69414);var At=e=>{const t=(0,qe.R1)(e);(0,rt.Z)((()=>({enabled:!!e,fetch:()=>(0,Ye.h3)(e),onFail:e=>t({...Ft.E,error:e.message}),onSettle:()=>t({loading:!1,loaded:!0}),onSuccess:e=>{t({...Ft.E,...e})}})),[e])};var Pt=e=>{let{"data-testid":t="integrations",...n}=e;const l=(0,p.th)(),o=(0,p.uk)();At(l);const{available:i,error:s,loaded:m,unavailable:u}=(0,qe.ry)(l),[g,E]=(0,a.useState)([]),[h,b]=(0,a.useState)([]),[f,x]=(0,a.useState)("");if(!m)return a.createElement(yt.Z,{"data-testid":"".concat(t,"-loader"),title:"Loading services..."});if(s)return a.createElement(It.Z,{"data-testid":"".concat(t,"-error"),message:s,title:"Services of ".concat(o," are currently unavailable")});const v=(0,Ct.D)(300,(e=>{let{target:t}=e;const n=t.value;x(n),E((0,Qe.uf)(i,n)),b((0,Qe.uf)(u,n))})),C=(0,r.Gn)(D.Sr,{spaceSlug:o,settingsTab:D.bK});return a.createElement(c.Flex,(0,d.Z)({column:!0,"data-testid":t},n,{padding:[0,4]}),a.createElement(c.Flex,{border:{side:"bottom",color:"separator"},"data-testid":"".concat(t,"-header"),margin:[0,0,4,0],padding:[0,0,4,0],width:"100%"},a.createElement(ce.Z,{as:vt.rU,Component:Xe.Ce,"data-ga":"manage-integrations::click-back::notification-integrations-tab","data-testid":"".concat(t,"-backLink"),to:C},a.createElement(c.Icon,{"data-testid":"".concat(t,"-backIcon"),name:"arrow_left"}),a.createElement(c.H3,{"data-testid":"".concat(t,"-title")},D.fV[D.Q$]))),a.createElement(c.Flex,{column:!0,"data-testid":"".concat(t,"-content"),gap:4},a.createElement(c.Box,{as:wt.Z,"data-ga":"manage-integrations::search::notification-integrations-tab","data-testid":"".concat(t,"-search"),iconLeft:a.createElement(c.Icon,{name:"magnify",color:"textLite"}),onChange:v,placeholder:"Search service",size:"small",width:{max:49.5}}),a.createElement(c.Flex,{column:!0,"data-testid":"".concat(t,"-groups")},a.createElement(kt,{"data-testid":"integrationGroupAvailable",integrations:f?g:i,title:"Available"}),a.createElement(kt,{"data-testid":"integrationGroupUnavailable",integrations:f?h:u,title:"Unavailable"}))))};var Zt=()=>a.createElement(l.Z5,null,a.createElement(l.AW,{path:"/",element:a.createElement(xt,null)}),a.createElement(l.AW,{path:"/".concat(D.Q$),element:a.createElement(Pt,null)})),Nt=n(46585);var Dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[(0,c.useInputValue)({maxChars:20,value:e.name||""})||{},(0,c.useInputValue)({maxChars:50,value:e.description||""})||{}]},Mt=n(14809);const Lt=/^[a-zA-Z0-9@_.-\s!]*$/,Rt={minLength:"Space name should be more than 5 characters",allowedChars:"Please use alphanumberic characters (A-Z, a-z, 0-9), spaces, periods and supported special characters @, -, _,."},Bt=e=>e.length<5?"minLength":!Lt.test(e)&&"allowedChars",_t=e=>!Lt.test(e)&&"allowedChars";var Ut=n(15418);var Vt=e=>{let{nameInput:t,descriptionInput:n,...l}=e;const[r,o,i,s]=t,[m,u,g,E]=n,p=(0,a.useMemo)((()=>Bt(r)),[r]),h=(0,a.useMemo)((()=>_t(m)),[m]);return a.createElement(c.Flex,(0,d.Z)({column:!0},l),a.createElement(Ut.Z,{Component:c.TextInput,permission:"space:UpdateMeta",label:"Name",value:r,onChange:o,error:Rt[p],isDirty:s,instantFeedback:"all",fieldIndicator:i,"data-testid":"textInputs-spaceName"}),a.createElement(Ut.Z,{Component:c.TextInput,permission:"space:UpdateMeta",label:"Description",value:m,onChange:u,error:Rt[h],isDirty:E,instantFeedback:"all",fieldIndicator:g,"data-testid":"textInputs-spaceDescription"}))},Wt=n(57387);var Ot=e=>{let{id:t,...n}=e;return a.createElement(c.Flex,(0,d.Z)({column:!0,gap:1},n),a.createElement(c.Text,{strong:!0},"Space Id"),a.createElement(Wt.ZP,{confirmationText:"Space ID copied to your clipboard."},t))},Ht=n(72671),Gt=n(30266);var zt=e=>{let{nameInput:t,descriptionInput:n,onClose:l,...r}=e;const o=(0,p.OS)(),i=(e=>{const[t,n]=(0,re.Z)();return(0,x._8)((a=>{let{snapshot:l,set:r}=a;return async(a,o)=>{let{onSuccess:c,onFail:i}=o;const s=await l.getPromise((0,p.U7)({id:e}));r((0,p.U7)({id:e}),(e=>({...e,...a})));try{await(0,Gt.$F)(e,a),t({header:"Space successfully updated!"}),c&&c()}catch(m){r((0,p.U7)({id:e}),s),n(m),i&&i()}}}),[e])})(o.id),[s,m]=(0,a.useState)(!1),[u]=t,[g]=n,E=()=>{l(),m(!1)},h=()=>m(!1),b=(0,a.useCallback)((()=>{m(!0),i({name:u,description:g},{onSuccess:E,onFail:h})}),[u,g]),f=(0,a.useMemo)((()=>{const e=Bt(u),t=_t(g);return!!(s||e||t)||o.name===u&&(o.description===g||!o.description&&!g)}),[o,u,g,s]);return a.createElement(c.Button,(0,d.Z)({label:"SAVE",onClick:b,isLoading:s,disabled:f,"data-testid":"saveSpace-button"},r))};var jt=(0,a.memo)((e=>{let{onClose:t,...n}=e;const l=(0,p.OS)(),r=(0,p.GM)("ids"),[o,,i,s]=(0,h.Z)(),[m,u]=Dt({name:l.name,description:l.description});if(!l.id)return null;const g=1===r.length;return a.createElement(a.Fragment,null,a.createElement(c.Flex,(0,d.Z)({column:!0,"data-testid":"manageSpace",flex:"grow",justifyContent:"between"},n),a.createElement(c.Flex,{column:!0,"data-testid":"manageSpace-settings"},a.createElement(c.H3,{margin:[0,0,4,0]},"Info"),a.createElement(c.Flex,{column:!0,gap:8},a.createElement(c.Box,null,a.createElement(Vt,{"data-testid":"manageSpace-nameInputs",nameInput:m,descriptionInput:u}),a.createElement(Ot,{"data-testid":"manageSpace-spaceIdInput",id:l.id}),a.createElement(c.Flex,{column:!0,gap:1,margin:[4,0,0]},a.createElement(c.TextInput,{label:"Your role in space",value:(0,Ze.fm)(l.roleInSpace),disabled:!0})),a.createElement(c.Flex,{column:!0,gap:1,margin:[4,0,0]},a.createElement(c.TextInput,{label:"Plan",value:(0,Ze.db)(l.plan),disabled:!0}))))),a.createElement(c.Flex,{"data-testid":"manageSpace-actions",justifyContent:"between",alignItems:"center",padding:[0,10,0,0]},a.createElement(c.Flex,{"data-testid":"manageSpace-deleteLeaveActions",gap:4},a.createElement(Ne.Z,{align:"top",content:g&&Nt.T$.leave,isBasic:!0,stretch:"align"},a.createElement(c.Flex,{alignItems:"center"},a.createElement(c.Button,{"data-ga":"manage-space-tab::click-leave-space::manage-space-modal","data-testid":"manageSpace-leave",disabled:g,icon:"switch_off",flavour:"borderless",label:"Leave space",neutral:!0,padding:[0],width:"fit-content",onClick:i}))),a.createElement(Ht.Z,{"data-testid":"manageSpace-delete",id:l.id,isLastSpace:g,name:l.name,onClose:t})),a.createElement(zt,{"data-testid":"manageSpace-save",nameInput:m,descriptionInput:u,onClose:t}))),o&&a.createElement(Mt.Z,{id:l.id,name:l.name,onClose:s}))}),(()=>!0)),Yt=n(13710),qt=n(51091);var Kt=()=>{const e=(0,l.s0)(),t=(0,p.th)(),n=(0,l.bS)(D.xN),o=(0,l.bS)(D.Sr),{params:c}=n||o||{},{spaceSlug:i="",settingsTab:s="",settingsSubTab:m=""}=c,d=(0,p.OS)("name"),u=(0,y.HM)(t,m),g=(0,y.tE)(u,"name"),E=D.fV[s],h=(0,a.useCallback)((()=>{e((0,r.Gn)(D.Sr,{spaceSlug:i,settingsTab:s}))}),[i,s]),b=(0,a.useMemo)((()=>{const e=[{name:"Manage Space",isDisabled:!0},{name:d,isDisabled:!0},{name:E,...!!m&&{onClick:h}}];return m&&e.push({name:E===D.fV[D.eq]?g:D.fV[m]||m}),e}),[h,g,d,E,m]);return a.createElement(qt.Z,{isBig:!0,items:b,showBackButton:!1,testid:"manageSpace"})},$t=n(22648),Qt=n(46715);const Xt=(0,a.createContext)(),Jt=(0,a.createContext)(),en=e=>{let{children:t}=e;const[n,l]=(0,h.Z)(!1);return a.createElement(Xt.Provider,{value:n},a.createElement(Jt.Provider,{value:l},t))},tn=()=>(0,a.useContext)(Xt),nn=()=>(0,a.useContext)(Jt);n(17727);var an=n(43337);var ln=e=>a.createElement(c.Box,(0,d.Z)({as:"hr",height:"100%",sx:{borderWidth:"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}},e)),rn=()=>a.createElement(ln,{height:"1px",width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}});const on=e=>["free","earlyBird"].includes(e),cn=(e,t)=>{let n=t.amountPerNode;if(e.amountPerNode&&e.monthlyDiscountPercentagePerNode){const t=e.amountPerNode/12;n=gn(t,e.monthlyDiscountPercentagePerNode)}return n},sn=e=>{if(!e)return null;const{city:t,country:n,line_1:a,line_2:l,postalCode:r,state:o}=e;return[[a,l].filter(Boolean).join(" "),t,r,o,n].filter(Boolean).join(", ")},mn=(e,t)=>on(t)?"hollow":"business"===t||"pro"===t&&on(e)?"default":"hollow",dn=()=>({cellStyles:{height:"40px"},headStyles:{height:"32px"}}),un=(e,t,n,a,l)=>((t||0)-e)*(n||0)+(a||0)-(l||0),gn=(e,t)=>e*(1/(1-t));var En=e=>{let{currentPlan:t,billingEmail:n,paymentMethod:l,businessName:r,vatNo:o,billingAddress:i}=e;const[s,m]=(0,Qt.SH)(),d=!!t.billingEmail&&!m;return a.createElement(c.Flex,{column:!0,gap:3},a.createElement(c.Flex,{gap:3},a.createElement(c.TextInput,{value:n||"",label:"Billing email",placeholder:"Not specified",disabled:!0}),a.createElement(c.TextInput,{value:null!==l&&void 0!==l&&l.id?"**** ".concat(null===l||void 0===l?void 0:l.id):"",label:"Default payment method",placeholder:"Not specified",disabled:!0})),o&&a.createElement(c.Flex,{gap:3},a.createElement(c.TextInput,{value:r||"",label:"Business name",placeholder:"Not specified",disabled:!0}),a.createElement(c.TextInput,{value:o,label:"VAT number",placeholder:"Not specified",disabled:!0})),a.createElement(c.Flex,{gap:3},a.createElement(c.TextInput,{value:sn(i)||"",label:"Billing address",placeholder:"Not specified",disabled:!0})),a.createElement(ce.Z,{Component:c.Flex,cursor:d?"pointer":"default",disabled:!d,onClick:s,alignItems:"center",gap:1,"data-ga":"billing-options::click::billing"},a.createElement("span",null,"Change billing information and payment method"),a.createElement(c.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"})))};const pn=e=>{let{onReset:t}=e;return a.createElement(c.Box,{as:c.Icon,name:"close_circle",onClick:t,cursor:"pointer",width:3,height:3,color:"border",position:"absolute",left:"2px"})},hn=e=>{let{promotionCode:t,onReset:n}=e;return a.createElement(c.Flex,{width:"100%"},a.createElement(c.Pill,{background:"nodeBadgeBackground",padding:[0],borderColor:"nodeBadgeBackground"},a.createElement(c.Flex,{position:"relative",gap:2,alignItems:"center",padding:[1,2,1,5]},a.createElement(pn,{onReset:n}),a.createElement(c.Text,null,t))))};var bn=e=>{let{promotionCode:t,onApply:n,error:l}=e;const[r,o]=(0,a.useState)(l?t:""),i=()=>{o(""),n("")};return a.createElement(c.Flex,{column:!0,gap:1},a.createElement(c.Text,{strong:!0},"Promotion code"),t&&!l?a.createElement(hn,{promotionCode:t,onReset:i}):a.createElement(c.Flex,{column:!0,gap:1},a.createElement(c.Flex,{gap:3,alignItems:"baseline"},a.createElement(c.TextInput,{value:r,onChange:e=>o(e.target.value),placeholder:"Promotion code"}),l?a.createElement(c.Button,{label:"Clear",flavour:"hollow",onClick:i,padding:[3,4],disabled:!r}):a.createElement(c.Button,{label:"Apply",onClick:()=>n(r),padding:[3,4],disabled:!r})),l&&a.createElement(c.Text,{color:"error"},l)))},fn=e=>{let{needsCommitment:t,commitment:n,handleCommitmentChange:l}=e;return t&&a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.Flex,{gap:4,alignItems:"baseline"},a.createElement(c.Text,{strong:!0,style:{whiteSpace:"nowrap"}},"Committed Nodes"),a.createElement(c.TextInput,{onChange:l,value:n,placeholder:"i.e. 14",type:"number",min:1})),a.createElement(c.TextSmall,null,"Nodes that you'll have a discount of 25% on the original cost per node of the plan. This amount will be part of your annual prepayment."))},xn=e=>{let{currentPlan:t}=e;return"earlyBird"===t.slug&&a.createElement(a.Fragment,null,a.createElement(ln,{height:"1px",width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),a.createElement(c.Flex,{gap:3},a.createElement(c.Icon,{size:"large",color:"warning",name:"warning_triangle"}),a.createElement(c.Text,null,"You are moving from ",a.createElement(c.Text,{strong:!0},"Early Bird")," plan to another plan, you won't be able to come back to this. The ",a.createElement(c.Text,{strong:!0},"Community")," free plan will be there if you wish to cancel but this doesn't allow you to invite or change users using the Member role.")))};const vn=e=>"earlyBird"===(null===e||void 0===e?void 0:e.slug)?"earlyBird":e&&e.slug&&"free"!==e.slug?"".concat(e.slug,"-").concat(e.interval):"free",Cn=o.default.div.withConfig({displayName:"withTableWrapper__TableWrapper",componentId:"sc-drcfxi-0"})(["margin-top:30px;"]);var yn=e=>t=>a.createElement(Cn,null,a.createElement(e,t)),wn=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});const In={size:50,minSize:50,maxSize:100},Tn=e=>()=>a.createElement(c.Flex,{width:"100%",justifyContent:"end"},e),Sn=e=>{let{getValue:t}=e;return a.createElement(c.Flex,{width:"100%",justifyContent:"end"},t())},kn=[{id:"name",accessor:"name",header:"",...In},{id:"price",accessor:"price",header:Tn("Price"),cell:Sn,...In},{id:"qty",accessor:"qty",header:Tn("Qty"),cell:Sn,...In},{id:"month",accessor:"month",header:Tn("Month"),cell:Sn,...In},{id:"total",accessor:"total",header:Tn("Total"),cell:Sn,...In}];var Fn=e=>a.createElement(c.Flex,(0,d.Z)({gap:3},e),a.createElement(c.Icon,{size:"large",color:"warning",name:"warning_triangle"}),a.createElement(c.Text,null,"No immediate charges are applicable to this plan subscription. On-demand usage charges will be applied based on your node period count."));const An=yn(c.NetdataTable),Pn=e=>{let{needsCommitment:t,price:n,spaceTotal:l,commitment:r,currentCommitment:o,onlyCommitment:i,balance:s,nodesTotal:m,zeroSubscriptionTotal:d,checkoutIsDisabled:u}=e;const g=((e,t,n,a,l)=>{if(!a)return a;const r=un(l,e,t,n);return a-r<0?a:r})(r,n.pricing.primary.amountPerNode,i?0:n.pricing.primary.amountFlat,s.amount,o),{primary:E}=(null===n||void 0===n?void 0:n.pricing)||{},p=(null===E||void 0===E?void 0:E.monthlyDiscountPercentagePerNode)||0,h=parseFloat(m+l),b=parseFloat(h*p),f=parseFloat(h-b);return a.createElement(a.Fragment,null,d?u?null:a.createElement(Fn,null):a.createElement(a.Fragment,null,t&&a.createElement(a.Fragment,null,a.createElement(c.Flex,{justifyContent:"between"},a.createElement(c.Text,null,"Subscription Total"),a.createElement(c.Text,null,wn.format(h))),a.createElement(c.Flex,{justifyContent:"between"},a.createElement(c.Text,{color:"primary"},"Discount (",100*p,"%)"),a.createElement(c.Text,{color:"primary"},"- ",wn.format(b)))),a.createElement(c.Flex,{justifyContent:"between"},a.createElement(c.Text,null,"Total"),a.createElement(c.Text,null,wn.format(f))),!!s.amount&&a.createElement(c.Flex,{justifyContent:"between"},a.createElement(c.Text,null,"Credit amount"),a.createElement(c.Text,null,"- ",wn.format(g))),a.createElement(rn,null),a.createElement(c.Flex,null,a.createElement(c.TextMicro,null,"Additional taxes may be applicable"))),a.createElement(c.Flex,{justifyContent:"between"},a.createElement(c.H0,{strong:!0},"Total payable"),a.createElement(c.H0,{strong:!0,"data-testid":"totalPayableAmountCheckout"},wn.format(function(){const e=un(...arguments);return e<0?0:e}(o,r,n.pricing.primary.amountPerNode,i?0:n.pricing.primary.amountFlat,g)))))};var Zn=e=>{let{price:t,needsCommitment:n,currentCommitment:l,onlyCommitment:r,balance:o,spaceTotal:c,amountPerNodePerMonth:i,amountPerSpacePerMonth:s,commitment:m,nodesTotal:d,months:u,tableMeta:g=dn,checkoutIsDisabled:E}=e;const p=(0,a.useMemo)((()=>0==parseFloat(d+c)),[d,c]),h=(0,a.useMemo)((()=>{const e=!isNaN(c)&&c>0?{id:"space",name:"Space",price:wn.format(s),qty:1,month:u,total:wn.format(c)}:null;if(!n)return[e];return[isNaN(d)?null:{id:"nodes",name:"Nodes",price:wn.format(i),qty:m||0,month:u,total:wn.format(d)},e].filter(Boolean)}),[n,s,c,d,u]);return a.createElement(a.Fragment,null,!p&&a.createElement(a.Fragment,null,a.createElement(An,{meta:g,dataColumns:kn,data:h}),a.createElement(rn,null)),a.createElement(Pn,{needsCommitment:n,price:t,spaceTotal:c,commitment:m,currentCommitment:l,onlyCommitment:r,balance:o,nodesTotal:d,zeroSubscriptionTotal:p,checkoutIsDisabled:E}))};const Nn=yn(c.NetdataTable),Dn=e=>{let{lineItems:t}=e;return a.createElement(a.Fragment,null,t.map((e=>{var t;const n=(l=e).description?l.description.startsWith("Discount")?{color:"primary"}:l.description.startsWith("VAT")?{color:"textLite"}:{}:{};var l;const r=e.isInfo?c.TextSmall:c.Text;return a.createElement(c.Flex,{key:e.description,justifyContent:"between"},a.createElement(r,n,e.description),a.createElement(r,n,wn.format(null===(t=e.total)||void 0===t?void 0:t.amount)))})))},Mn=(Ln=e=>{let{lineItems:t}=e;return a.createElement(c.Flex,{justifyContent:"between",margin:[4,0,0,0]},a.createElement(c.H0,{strong:!0},"Total payable"),a.createElement(c.H0,{strong:!0,"data-testid":"totalPayableAmountPreview"},wn.format(t.totalPayable.total.amount)))},e=>{var t;return e.lineItems.totalPayable?null!==(t=e.lineItems.info)&&void 0!==t&&t.length?a.createElement(c.Flex,{column:!0,gap:1},a.createElement(Ln,e),a.createElement(Dn,{lineItems:e.lineItems.info})):a.createElement(Ln,e):null});var Ln;const Rn=e=>{let{lineItems:t,agree:n,toggleAgree:l,zeroPreviewSubscriptionTotal:r}=e;return a.createElement(a.Fragment,null,a.createElement(rn,null),r&&a.createElement(Fn,{padding:[0,0,2,0]}),a.createElement(c.Flex,{gap:3},a.createElement(c.Checkbox,{checked:n,onChange:l}),a.createElement(c.Text,null,"I agree to Netdata Inc's"," ",a.createElement(ce.Z,{href:"https://www.netdata.cloud/service-terms/",rel:"noopener noreferrer",target:"_blank"},"Terms of Service")," ","and"," ",a.createElement(ce.Z,{href:"https://netdata.cloud/privacy",rel:"noopener noreferer",target:"_blank"},"Privacy Policy"))),a.createElement(Mn,{lineItems:t}))};var Bn=e=>{let{lineItems:t,tableMeta:n=dn}=e;return a.createElement(a.Fragment,null,a.createElement(Nn,{meta:n,dataColumns:kn,data:t.table}),a.createElement(rn,null),a.createElement(Dn,{lineItems:t.footer}))},_n=e=>{let{title:t,onConfirm:n,onClose:l}=e;const r="Community"==t,o=r?"Cancellation":"Downgrading";return a.createElement(c.ConfirmationDialog,{confirmLabel:"Yes","data-ga":"downgrade-dialog","data-testid":"downgradeDialog",handleConfirm:()=>{n(),l()},handleDecline:()=>{l()},message:a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.Text,null,"Are you sure you want to ",a.createElement(c.Text,{strong:!0},"move to the ",t," plan")," and cancel your current plan?"),r&&a.createElement(c.Text,null,"Upon cancellation,"," ",a.createElement(c.Text,{strong:!0},"a credit of the value related to the unused period will be credited to your Netdata account.")," ","The credit will be available for you to use on future plan subscriptions with us."),a.createElement(c.Text,null,"For the next 24 hours, you will be able to use all your current notification method configurations."," ",a.createElement(c.Text,{strong:!0},"After 24 hours, any of the notification method configurations that aren't available on your space's plan will be automatically disabled.")),a.createElement(c.Text,null,o," might affect your Space users. Please check what roles are available on the"," ",a.createElement(ce.Z,{href:"https://learn.netdata.cloud/docs/nightly/concepts/netdata-plans#areas-impacted-by-plans",rel:"noopener noreferrer",strong:!0,target:"_blank"},t," plan"),"."," ",a.createElement(c.Text,{strong:!0},"Users with unavailable roles on the ",t," plan will immediately have restricted access to the Space.")),a.createElement(c.Text,null,"Do you wish to proceed?")),title:"Go to ".concat(t," plan?")})},Un=n(49489);const Vn=e=>e?"::commited-".concat(e):"",Wn=(0,o.default)(c.Flex).withConfig({displayName:"checkoutTotals__CheckoutButtonWrapper",componentId:"sc-1q0h6ca-0"})(["background:",";padding:16px 0;position:sticky;bottom:0;z-index:20;"],(0,c.getColor)("mainBackground")),On=(e=>t=>{let{title:n,isDowngrade:l,showProrations:r,checkoutOrUpdate:o,...c}=t;const[i,,s,m]=(0,h.Z)();return r&&l?a.createElement(a.Fragment,null,i&&a.createElement(_n,{title:n,onConfirm:o,onClose:m}),a.createElement(e,(0,d.Z)({onClick:s},c))):a.createElement(e,(0,d.Z)({onClick:o},c))})((0,o.default)(c.Button).withConfig({displayName:"checkoutTotals__CheckoutButton",componentId:"sc-1q0h6ca-1"})(["flex:auto;"]));var Hn=e=>{let{title:t,slug:n,onClose:l,currentPlan:r,price:o,balance:i,commitment:s,currentCommitment:m=0,email:d,needsCommitment:u,onlyCommitment:g,previewData:E,loadingPreview:p,showProrations:b,promotionCode:f}=e;const x=((e,t)=>{var n,a;return((null===(n=Un.Vc[t])||void 0===n?void 0:n.level)||0)<((null===(a=Un.Vc[e])||void 0===a?void 0:a.level)||0)})(r.slug,n),[v,C]=(0,h.Z)(!1),y=b&&!v||!b&&!d||u&&(m===s||!s||s<1),[w,I]=(0,h.Z)(),T=(0,Qt.eY)(),S=(0,Qt.Zn)(),k=b||r.billingEmail?S:T,{primary:F,secondary:A}=(null===o||void 0===o?void 0:o.pricing)||{},P="year"===o.interval?12:1,Z=cn(F,A),N=u?Z*P*(s||0):0,D=(e=>{let t=e.amountFlat||0;if(e.monthlyDiscountPercentagePerNode&&e.amountFlat){const n=e.amountFlat/12;t=gn(n,e.monthlyDiscountPercentagePerNode)}return t})(F),M=D*P,L=(R=null===E||void 0===E?void 0:E.invoiceLineItems,(0,a.useMemo)((()=>{if(null===R||void 0===R||!R.length)return null;let e=!1;return R.reduce(((t,n)=>{return"Total payable"==n.description?(t.totalPayable=n,e=!0,t):(n.unitPrice?t.table=[...t.table,{id:n.description,name:n.description,price:wn.format(n.unitPrice.amount),qty:n.quantity,month:n.month,total:null===(a=n.total)||void 0===a?void 0:a.amount}]:e?t.info=[...t.info,{...n,isInfo:!0}]:t.footer=[...t.footer,n],t);var a}),{table:[],footer:[],info:[]})}),[R]));var R;const B=((null===L||void 0===L?void 0:L.footer)||[]).some((e=>{let{description:t,total:n}=e;return"Subscription Total"==t&&0==(null===n||void 0===n?void 0:n.amount)}));return a.createElement(c.Flex,{column:!0,gap:3},b?p||!L||B?null:a.createElement(Bn,{lineItems:L,agree:v,toggleAgree:C}):a.createElement(Zn,{price:o,needsCommitment:u,currentCommitment:m,onlyCommitment:g,balance:i,spaceTotal:M,amountPerNodePerMonth:Z,amountPerSpacePerMonth:D,commitment:s,nodesTotal:N,months:P,checkoutIsDisabled:y}),a.createElement(Wn,{column:!0,gap:2},b&&!p&&L&&a.createElement(Rn,{lineItems:L,agree:v,toggleAgree:C,zeroPreviewSubscriptionTotal:B}),a.createElement(On,{title:t,isDowngrade:x,label:b?"Checkout":"Proceed to checkout",disabled:!!y||w,checkoutOrUpdate:()=>{I(),k({productId:o.id,email:(null===E||void 0===E?void 0:E.billingEmail)||d,...u&&{commitment:s},...b&&f&&{promotionCode:f}}).then(l).finally(I)},isLoading:w,"data-ga":"proceedTocheckoutButton::click-".concat(vn(o)).concat(Vn(s),"::billing"),"data-testid":"billingCheckoutTotals-proceedToCheckoutButton",showProrations:b})))};const Gn=e=>{let{prices:t,currentPlan:n}=e;const[l,r]=(0,a.useState)(0),o=t[l],c=null===o||void 0===o?void 0:o.commitment,[i,s]=(0,a.useState)(n.committedNodes||1);return{recurringIndex:l,setRecurringIndex:r,price:o,needsCommitment:c,commitment:i,handleCommitmentChange:e=>s(e.target.value?parseInt(e.target.value,10):"")}};var zn=function(){let{title:e="Checkout"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>n=>a.createElement(s.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:n.onClose},a.createElement(m.x,{onClose:n.onClose,title:e}),a.createElement(c.Flex,{column:!0,padding:[4,4,0,4],justifyContent:"between",height:"calc(100vh - 60px)",overflow:"auto"},a.createElement(t,n)))};const jn=3e5;var Yn=zn({title:"Update plan"})((e=>{let{title:t,onClose:n,prices:l,currentPlan:r={},children:o}=e;const{recurringIndex:i,setRecurringIndex:s,price:m,needsCommitment:u,commitment:g,handleCommitmentChange:E}=Gn({prices:l,currentPlan:r}),[p,h]=(0,a.useState)(""),[b,f]=(0,a.useState)(0),[x,v]=(0,a.useState)(jn),{loading:C,value:y,promoCodeError:w}=(0,Qt.fG)({productId:m.id,promotionCode:p,...u&&g&&{commitment:g}},b);return(0,an.Z)((()=>{C||f((e=>e+1))}),x),(0,a.useEffect)((()=>{v(C?null:jn)}),[C]),a.createElement(a.Fragment,null,a.createElement(c.Flex,{column:!0,gap:4},a.Children.map(o,(e=>(0,a.cloneElement)(e,{recurringIndex:i,setRecurringIndex:s}))),a.createElement(fn,{needsCommitment:u,commitment:g,handleCommitmentChange:E}),a.createElement(rn,null),C?a.createElement(yt.Z,{title:"Loading billing info...",height:"auto"}):y?a.createElement(a.Fragment,null,a.createElement(En,(0,d.Z)({currentPlan:r},y)),a.createElement(rn,null),a.createElement(bn,{promotionCode:p,onApply:h,error:w})):a.createElement("div",null,"No data available"),a.createElement(xn,{currentPlan:r})),a.createElement(Hn,{title:t,slug:m.slug,currentPlan:r,onClose:n,price:m,balance:r.balance,commitment:g,needsCommitment:u,previewData:y,loadingPreview:C,showProrations:!0,promotionCode:p}))}));var qn=zn()((e=>{let{onClose:t,prices:n,currentPlan:l={},children:r}=e;const{recurringIndex:o,setRecurringIndex:i,price:s,needsCommitment:m,commitment:d,handleCommitmentChange:u}=Gn({prices:n,currentPlan:l}),g=(0,Ee.Iy)("email"),[E,p]=(0,a.useState)(l.billingEmail||g||"");return a.createElement(a.Fragment,null,a.createElement(c.Flex,{column:!0,gap:4},a.Children.map(r,(e=>(0,a.cloneElement)(e,{recurringIndex:o,setRecurringIndex:i}))),a.createElement(fn,{needsCommitment:m,commitment:d,handleCommitmentChange:u}),a.createElement(rn,null),a.createElement(c.TextInput,{onChange:e=>p(e.target.value),value:E,label:"Billing email",placeholder:"jsmith@example.com"}),a.createElement(xn,{currentPlan:l})),a.createElement(Hn,{currentPlan:l,onClose:t,price:s,balance:l.balance,commitment:d,email:E,needsCommitment:m}))})),Kn=n(89405);const $n=e=>{let{primary:t,secondary:n}=e;return a.createElement(c.Flex,{column:!0,gap:2},t||n?a.createElement(a.Fragment,null,a.createElement(Ne.Z,{align:"top",content:t.amountPerNode?"Price per active node per month for committed usage of nodes for a year":"Price per node per month",isBasic:!0,plain:!0,stretch:"align"},a.createElement(c.H0,null,wn.format(cn(t,n)),a.createElement(c.TextSmall,{color:"textLite"},"/",a.createElement(ce.Z,{Component:c.TextSmall,href:"https://www.netdata.cloud/pricing/#do-i-have-to-pay-for-nodes-that-are-no-longer-online",rel:"noopener noreferrer",target:"_blank"},"Node"),"/month")))):a.createElement(c.H0,null,"Free, Forever"),(null===t||void 0===t?void 0:t.monthlyDiscountPercentagePerNode)&&a.createElement(c.Flex,null,a.createElement(c.Text,null,a.createElement(c.Text,{strong:!0},100*t.monthlyDiscountPercentagePerNode,"% discount")," applicable on space and committed node prices, billed annually.")))},Qn=o.default.div.withConfig({displayName:"pricingDetails__OneLine",componentId:"sc-hbslp4-0"})(["white-space:nowrap white-space:nowrap;"]),Xn=e=>{let{interval:t,currentPeriodTo:n,committedNodes:l,nodesLastPeriod:r,showPromotion:o,cancelling:i,onCancelPlan:s}=e;const{localeDateString:m}=(0,Kn.rA)(),d=r-l;return a.createElement(c.Flex,{column:!0,gap:1},!!n&&a.createElement(c.TextSmall,null,a.createElement(c.TextSmall,{strong:!0,"data-testid":"billingPricingDetails-interval"},"Billing ".concat(Un.go[t]))," ","(renews ",m(new Date(n),{long:!1}),")"),o&&"month"===t&&a.createElement(ce.Z,{onClick:s,disabled:i},a.createElement(Qn,null,"Save 25% by changing your billing frequency to yearly")),"year"===t&&a.createElement(a.Fragment,null,a.createElement(c.TextSmall,null,"Committed Nodes:"," ",a.createElement(c.Text,{strong:!0,"data-testid":"billingPricingDetails-committedNodesNumber"},l)),"number"===typeof r&&a.createElement(c.TextSmall,null,0===d&&"Your current Period count is equal to commitment",0!==d&&a.createElement(a.Fragment,null,"Your current Period count is ",d>0?"above":"below"," by"," ",a.createElement(c.TextSmall,{color:d>0?"error":"success",strong:!0},d>0?"+":"",d," node",1===Math.abs(d)?"":"s")))))},Jn=e=>{let{features:t}=e;return a.createElement(c.Flex,{column:!0,gap:1},t.map((e=>a.createElement(c.Flex,{gap:2,key:e},a.createElement(c.Box,{width:5},a.createElement(c.Icon,{name:"check",width:"20px",height:"20px",color:"primary"})),a.createElement(c.TextSmall,null,e)))),a.createElement(c.Flex,{gap:2},a.createElement(c.Box,{width:5}),a.createElement(ce.Z,{Component:c.Flex,as:vt.rU,cursor:"pointer",alignItems:"center",gap:1,color:"text",hoverColor:"textFocus",to:"all-plans"},a.createElement(c.Text,{strong:!0},"View full details"),a.createElement(c.Icon,{name:"chevron_right",width:"16px",height:"16px"}))))},ea=(e=>t=>{let{inModal:n,recurringIndex:l,setRecurringIndex:r,...o}=t;return n?a.createElement(c.Flex,{width:"100%",justifyContent:"between",alignItems:"center"},a.createElement(e,o),a.createElement(c.Flex,{gap:3,padding:[0,10]},Un.FC.map(((e,t)=>a.createElement(c.RadioButton,{key:e,checked:l===t,onChange:()=>r(t),"data-testid":"billingPaidPlans-".concat(e,"-radioButton")},a.createElement(c.Text,{color:"textDescription"},(0,Ze.fm)(Un.go[e]))))))):a.createElement(e,o)})((e=>{let{children:t}=e;return a.createElement(c.H3,{"data-testid":"billingPricingDetails-activePlanName"},t)}));var ta=e=>{var t;let{slug:n,prices:l,recurringIndex:r=1,setRecurringIndex:o,currentPlan:i={},isActive:s,showAllDetails:m,showTeaserDetails:u,cancelling:g,onCancelPlan:E,title:p,features:h,nodesLastPeriod:b,inModal:f}=e;return a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.Flex,{alignItems:"center",gap:2},a.createElement(ea,{inModal:f,recurringIndex:r,setRecurringIndex:o},p),s&&a.createElement(c.Pill,{flavour:"success","data-testid":"active-plan",icon:"checkmark_s",size:"normal",iconSize:"16px"},"Active")),(m||!s||"free"===n)&&a.createElement($n,(null===(t=l[r])||void 0===t?void 0:t.pricing)||{}),u&&!!h&&a.createElement(Jn,{features:h}),s&&!on(n)&&a.createElement(Xn,(0,d.Z)({},i,{showPromotion:!0,cancelling:g,onCancelPlan:E,nodesLastPeriod:b})))};var na=e=>{let{slug:t,prices:n=[],freePlanId:l,isSmall:r,isActive:o,currentPlan:i,showAllPlans:s,showTeaserDetails:m,allPlansView:u=!1,nodesLastPeriod:E,...p}=e;const b=tn(),f=nn(),{title:x,features:v}=Un.Vc[t]||Un.Vc.free,C=(0,g.gI)("billing:Manage"),[y,w]=(0,a.useState)({}),[I,,T,S]=(0,h.Z)(),k=(e=>{let{currentPlan:t,slug:n}=e;const{slug:a,interval:l}=t;return a===n?on(n)?"Current plan":"year"===l?"Update plan options":"Change billing frequency":on(a)&&!on(n)||"pro"===a&&"business"===n?"Upgrade":"Select"})({currentPlan:i,slug:t}),[F,A]=(0,re.Z)(),[P,Z]=(0,h.Z)(),N=(0,Qt.Zn)(),D=()=>{P||b||(on(t)?w({type:"cancel"}):on(i.slug)?U("checkout"):U("update"))},M=!!i.billingEmail,L=M?Yn:qn,{billingModalType:R,billingModalSlug:B}=(0,ht.m$)(),_=["checkout","update"].includes(R)&&t==B,U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=(0,ht.m$)();(0,ht.xs)({...n,billingModalType:e,billingModalSlug:""==e?e:t})};return a.createElement(c.Flex,{column:!0,gap:7},a.createElement(c.Flex,(0,d.Z)({column:!0,height:r?"auto":s?57:90,width:99.5,flex:r,padding:r?[6,10]:[0,10],gap:2,justifyContent:"between"},p),a.createElement(ta,{slug:t,prices:n,isActive:o,currentPlan:i,cancelling:b,showAllDetails:s,showTeaserDetails:m,title:x,features:v,nodesLastPeriod:E,onCancelPlan:D}),!u&&a.createElement(Ut.Z,{Component:c.Button,permission:"billing:Manage","data-ga":"upgrade-button::click-".concat(vn({slug:t}),"::current-").concat(vn(i),"::billing"),"data-testid":"billingPlan-".concat(t,"-").concat(o?"currentPlan":"upgradeButton"),label:k,flavour:mn(null===i||void 0===i?void 0:i.slug,t),disabled:P||b||!!o&&on(t),width:"100%",onClick:D,isLoading:P,loadingLabel:"Cancelling"}),!s&&!on(i.slug)&&a.createElement(ce.Z,{Component:c.Flex,as:vt.rU,cursor:"pointer",alignItems:"center",gap:1,color:"text",hoverColor:"textFocus",to:"all-plans",padding:[4,0,0],disabled:b,"data-testid":"billingPlan-viewMorePlansLink","data-ga":"change-plan::click::billing"},a.createElement("span",null,C?"Change plan":"View plans"),a.createElement(c.Icon,{name:"chevron_right",width:"16px",height:"16px"})),"cancel"===y.type&&!on(i.slug)&&!I&&a.createElement(_n,{title:x,onConfirm:()=>{T(),f(),Z(),N({productId:l}).then((()=>F({header:"Successfully canceled subscription",text:"You are now on Community plan"}))).catch((()=>A({header:"Failed to cancel the subscription",text:"Remained on ".concat(x," plan")}))).finally((()=>{Z(),f()}))},onClose:()=>{S(),w({})}}),_&&a.createElement(L,{title:x,onClose:()=>{S(),U()},prices:n,currentPlan:i,showProrations:M},a.createElement(ta,{slug:t,prices:n,currentPlan:i,title:x,inModal:!0}))))};var aa=e=>{let{plans:t,freePlanId:n,isSmall:l,currentPlan:r,showAllPlans:o,showTeaserDetails:i}=e;return a.createElement(c.Flex,{column:!0,gap:2,flex:!0},a.createElement(c.Flex,{column:l},a.createElement(na,{slug:"pro",prices:t.pro,freePlanId:n,isActive:"pro"===r.slug,isSmall:l,currentPlan:r,showAllPlans:o,showTeaserDetails:i}),a.createElement(ln,{height:l?"1px":"100%",width:l?"100%":"1px",sx:{borderWidth:l?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}}),a.createElement(na,{slug:"business",prices:t.business,freePlanId:n,isActive:"business"===r.slug,isSmall:l,currentPlan:r,showAllPlans:o,showTeaserDetails:i})))};var la=e=>{let{isSmall:t,plans:n,currentPlan:l,showAllPlans:r=!1,showTeaserDetails:o=!1,children:i}=e;const s="earlyBird"===l.slug,m=((null===n||void 0===n?void 0:n.free)||[]).length>0?n.free[0].id:"Community";return a.createElement(c.Flex,{column:t,justifyContent:"between"},i,(r||!s)&&a.createElement(a.Fragment,null,a.createElement(na,{slug:"free",prices:n.free,freePlanId:m,width:t?"auto":70,isSmall:t,isActive:"free"===l.slug,currentPlan:l,showAllPlans:r}),a.createElement(ln,{height:t?"1px":"100%",width:t?"100%":"1px",sx:{borderWidth:t?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}})),s&&a.createElement(a.Fragment,null,a.createElement(na,{slug:"earlyBird",prices:n.earlyBird,freePlanId:m,width:t?"auto":70,isSmall:t,isActive:"earlyBird"===l.slug,currentPlan:l,showAllPlans:r}),a.createElement(ln,{height:t?"1px":"100%",width:t?"100%":"1px",sx:{borderWidth:t?"1px 0px 0px 0px":"0px 0px 0px 1px",borderColor:"borderSecondary",borderStyle:"solid"}})),a.createElement(aa,{plans:n,freePlanId:m,isSmall:t,currentPlan:l,showAllPlans:r,showTeaserDetails:o}))};var ra=e=>{let{children:t,...n}=e;return a.createElement(c.Flex,(0,d.Z)({alignItems:"center",gap:2},n),t)};var oa=()=>a.createElement(c.Flex,{column:!0,gap:2,width:65},a.createElement(c.TextMicro,{color:"bright"},a.createElement(c.TextMicro,{color:"bright",strong:!0},"Available credit")," ","for you to use on any plan subscriptions with us."),a.createElement(c.TextMicro,{color:"bright"},"It is ok to change your mind, we will give you full flexibility! You can change the plan level, billing frequency or committed nodes, we won't hold you to any choice. When applicable, we'll credit you back on any unused amount."));var ca=e=>{let{currentPlan:t}=e;const[n,l]=(0,Qt.SH)(),r=!!t.billingEmail&&!l,o=(0,g.gI)("billing:ReadAll");return a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.H3,null,"Plan & Billing"),o&&a.createElement(a.Fragment,null,a.createElement(ra,null,a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Credit:"),a.createElement(c.Text,{"data-testid":"billingHeader-credits",strong:!0},wn.format(t.balance.amount||0)),a.createElement(Ne.Z,{content:oa,align:"bottom",isBasic:!0},a.createElement(c.Icon,{name:"information",width:"16px",height:"16px",color:"textLite"}))),a.createElement(ln,null),a.createElement(c.Text,null,"Billing email:"," ",a.createElement(c.Text,{strong:!0,"data-testid":"billingHeader-email"},t.billingEmail||"-")),a.createElement(ln,null),a.createElement(ce.Z,{Component:c.Flex,cursor:r?"pointer":"default",disabled:!r,onClick:n,alignItems:"center",gap:1,"data-ga":"billing-options::click::billing","data-testid":"billingHeader-goToPortal"},a.createElement("span",null,"Billing options and Invoices"),a.createElement(c.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"}))),a.createElement(ln,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}})))};n(69810),n(86035);var ia=n(69119),sa=n(71002),ma=n(77349),da=n(13882),ua=n(83946);var ga=n(11640);var Ea=n(28789),pa=n(23148),ha=n(36337),ba=n(26495),fa=n(95665),xa=n(92501),va=n(95248),Ca=n(69019);const ya={nodes:1,p90:2,committed_nodes:3},wa={"Daily count":"The weighted 90th percentile of the live node count during the day, taking time as the weight. If you have 30 live nodes throughout the day, except for a two hour peak of 44 live nodes, the daily value is 31.","Committed nodes":"The number of nodes committed to in the yearly plan. In case the period count is higher than the number of committed nodes, the difference is billed as overage.","Period count":"The 90th percentile of the daily counts for this period up to the date. The last value for the period is used as the number of nodes for the bill for that period."};pa.kL.register(pa.f$,pa.uw,pa.ZL,pa.od,pa.jn,pa.De,pa.u,pa.ST,pa.vn,ha.Z),pa.u.positioners.follow=function(e,t){return null===e||void 0===e||!e.length||t.y>360?(this._resolveAnimations().update(this,{opacity:0}),!1):(0===this.opacity&&this._resolveAnimations().update(this,{opacity:1}),{x:t.x,y:t.y})};const Ia=e=>({nodes:{label:"Daily count",type:"bar",color:(0,c.getColor)("text")({theme:e}),backgroundColor:(0,c.getColor)("primary")({theme:e}),borderColor:(0,c.getColor)("primary")({theme:e}),borderWidth:2,pointStyle:"rectangle",usePointStyle:!0},p90:{label:"Period count",type:"line",color:(0,c.getColor)("text")({theme:e}),borderColor:(0,c.getColor)(["purple","lilac"])({theme:e}),borderWidth:2,fill:!1,stepped:!0},committed_nodes:{label:"Committed nodes",type:"line",color:(0,c.getColor)("text")({theme:e}),borderColor:(0,c.getColor)(["blue","aquamarine"])({theme:e}),borderWidth:2,fill:!1,borderDash:[1,2],borderDashOffset:1,pointStyle:!1}}),Ta={border:{side:"all",color:"inputBorder",padding:[3]},round:!0},Sa=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),l=new Date(0);return l.setFullYear(t,n,a-1),l.setHours(23,59,59,999),l}(),ka=(0,ia.Z)(function(e,t){if((0,da.Z)(2,arguments),!t||"object"!==(0,sa.Z)(t))return new Date(NaN);var n=t.years?(0,ua.Z)(t.years):0,a=t.months?(0,ua.Z)(t.months):0,l=t.weeks?(0,ua.Z)(t.weeks):0,r=t.days?(0,ua.Z)(t.days):0,o=t.hours?(0,ua.Z)(t.hours):0,c=t.minutes?(0,ua.Z)(t.minutes):0,i=t.seconds?(0,ua.Z)(t.seconds):0,s=function(e,t){(0,da.Z)(2,arguments);var n=(0,ua.Z)(t);return(0,ga.Z)(e,-n)}(e,a+12*n),m=function(e,t){(0,da.Z)(2,arguments);var n=(0,ua.Z)(t);return(0,ma.Z)(e,-n)}(s,r+7*l),d=1e3*(i+60*(c+60*o));return new Date(m.getTime()-d)}(Sa,{months:1}));var Fa=e=>{let{onNodesLastPeriodFetch:t}=e;const n=(0,va.by)("offset"),l=(0,p.th)(),[r,i]=(0,a.useState)((()=>({start:ka,end:Sa}))),[s,m,d]=(0,rt.Z)((()=>({enabled:!!l&&!!r.start&&!!r.end,fetch:()=>(0,Ca.fA)(l,{after:Math.floor((0,Ea.Z)((0,Kn.tb)(r.start,n))/1e3),before:Math.floor((0,Ea.Z)((0,Kn.tb)(r.end,n))/1e3)}),initialValue:{labels:[],data:[]},onSuccess:e=>{let{data:n,labels:a}=e;if(!n.length)return;const l=n.at(-1),r=l[a.indexOf("nodes")],o=l[a.indexOf("timestamp")];t((e=>e.timestamp>o?e:{timestamp:o,value:r}))}})),[l,r,t]),u=(0,a.useContext)(o.ThemeContext),g=(0,a.useMemo)((()=>{const e=s.data.map((e=>{let[t]=e;return t})),t=s.labels.reduce(((t,n,a)=>a?[{...Ia(u)[n],data:e.map(((e,t)=>s.data[t][a])),order:ya[n]},...t]:t),[]);return{labels:e,datasets:t}}),[s]),[E,h]=function(e){let{data:t,annotations:n=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeDateString:l}=(0,Kn.rA)(),r=(0,a.useRef)(!1),o=(0,a.useRef)(),i=(0,a.useMemo)((()=>({interaction:{axis:"x"},plugins:{legend:{position:"bottom",align:"start",onClick:(e,t,n)=>{const a=n.legendItems.findIndex((e=>e.text===t.text));n.chart.isDatasetVisible(a)?n.chart.hide(a):n.chart.show(a)},labels:{generateLabels:e=>e.data.datasets.map(((t,n)=>({fontColor:t.color,text:t.label,fillStyle:t.backgroundColor,strokeStyle:t.borderColor,pointStyle:"Daily count"===t.label?"rect":"line",hidden:!e.isDatasetVisible(n),order:t.order}))).sort(((e,t)=>e.order-t.order)),usePointStyle:!0},onHover:function(e,t){!r.current&&o.current&&(r.current=!0,o.current.innerHTML=wa[t.text],o.current.style.left=e.x+"px",o.current.style.top=e.y+"px",o.current.style.visibility="visible",o.current.style.transform="translateY(-100%)")},onLeave:function(){o.current&&(r.current=!1,o.current.innerHTML="",o.current.style.visibility="hidden")}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,yAlign:"bottom",usePointStyle:!0,position:"follow",backgroundColor:(0,c.getColor)("panel")({theme:e}),color:(0,c.getColor)(["neutral","iron"])({theme:e}),callbacks:{title:e=>{const[t]=e;return t?l(1e3*t.label,{month:"2-digit",day:"2-digit",year:"numeric",long:!1,dateStyle:void 0}):""},labelPointStyle:e=>({pointStyle:"Total Nodes"===e.dataset.label?"rect":"line"}),label:e=>"  ".concat(e.formattedValue," ").concat(e.dataset.label||"")}},annotation:{annotations:n.reduce(((n,a,l)=>({...n,["annotation".concat(l)]:{type:"line",value:t.findIndex((e=>e[0]===a.timestamp)),borderColor:(0,c.getRgbColor)(["blue","indigo"],.3)({theme:e}),borderDashOffset:0,borderWidth:10,drawTime:"afterDatasetsDraw",label:{drawTime:"afterDatasetsDraw",display:!1,backgroundColor:(0,c.getRgbColor)(["blue","indigo"],.8)({theme:e}),borderWidth:0,color:"white",content:a.name,textAlign:"center"},scaleID:"x",enter(e,t){const n=e.chart,a=n.options.plugins.annotation.annotations["annotation".concat(l)];a.label.display=!0,a.label.position=t.y/e.chart.chartArea.height>.5?"start":"end",n.update()},leave(e){const t=e.chart;t.options.plugins.annotation.annotations["annotation".concat(l)].label.display=!1,t.update()}}})),{})}},responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{callback:function(e){return l(1e3*this.getLabelForValue(e),{month:"2-digit",day:"2-digit",year:"numeric",long:!1,dateStyle:void 0})},color:(0,c.getColor)("textLite")({theme:e})}},y:{beginAtZero:!0,ticks:{color:(0,c.getColor)("textLite")({theme:e})}}}})),[e,t]);return[i,o]}(u,s);return a.createElement(c.Flex,{column:!0,gap:4},a.createElement(c.Flex,{alignItems:"center",justifyContent:"between"},a.createElement(c.H3,null,"Usage"),a.createElement(fa.Z,{values:r,utc:n,onChange:i,tagging:"billing-usage",isPlaying:!1,onlyDates:!0,accessorProps:Ta,padding:[4,0],width:"auto",maxDate:Sa})),a.createElement(c.Flex,{position:"relative",height:90},m?a.createElement(yt.Z,{title:"Loading billing data..."}):d?a.createElement(xa.NY,{title:"Chart couldn't be loaded"}):a.createElement(ba.kL,{type:"bar",data:g,options:E}),a.createElement(c.Flex,{ref:h,background:"panel",color:["neutral","iron"],position:"absolute",round:!0,padding:[3],width:{max:75},sx:{visibility:"hidden"},onMouseOver:()=>h.current.style.visibility="hidden"})))};var Aa=e=>{let{isSmall:t,currentPlan:n,loaded:l,currentLoaded:r,plans:o}=e;const c=((null===o||void 0===o?void 0:o.free)||[]).length>0?o.free[0].id:"Community",[i,s]=(0,a.useState)({timestamp:null,value:null});return a.createElement(a.Fragment,null,a.createElement(ca,{currentPlan:n}),l&&r?a.createElement(a.Fragment,null,on(n.slug)?a.createElement(la,{isSmall:t,plans:o,currentPlan:n,showTeaserDetails:!0}):a.createElement(na,{slug:n.slug,prices:o[n.slug],freePlanId:c,width:t?"auto":120,padding:[0],height:"auto",isSmall:t,isActive:!0,currentPlan:n,allPlansView:!0,nodesLastPeriod:i.value}),a.createElement(ln,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),a.createElement(Fa,{onNodesLastPeriodFetch:s})):a.createElement(yt.Z,{title:l?"Loading billing info...":"Loading Netdata plans..."}))},Pa=n(92432);const Za={year:"Yearly",month:"Monthly"};var Na=e=>{var t;let{plans:n,currentPlan:l}=e;const r=(0,p.uk)(),o=tn(),i=nn(),[s,m]=(0,Qt.SH)(),d=!!l.billingEmail&&!m,[u,E]=(0,h.Z)(),[b,f]=(0,h.Z)(),[x,v]=(0,re.Z)(),C=(0,Qt.Zn)(),{title:y}=Un.Vc[l.slug]||Un.Vc.free,w=((null===n||void 0===n?void 0:n.free)||[]).length>0?n.free[0].id:"Community",I=(0,g.gI)("billing:Manage"),T=(0,g.gI)("billing:ReadAll"),{title:S}=Un.Vc[null===l||void 0===l?void 0:l.slug]||Un.Vc.free,k=Za[null===l||void 0===l?void 0:l.interval];return a.createElement(c.Flex,{column:!0,gap:2},a.createElement(c.Flex,{gap:2,alignItems:"center"},a.createElement(ce.Z,{as:vt.rU,to:"/spaces/".concat(r,"/settings/billing"),disabled:o,color:"text",hoverColor:"textLite",showToolTip:!0,content:"Back to Plan & Billing",align:"bottom",isBasic:!0},a.createElement(c.Icon,{name:"arrow_left",width:"20px",height:"20px",margin:[1.5,0,0]})),a.createElement(c.H3,null,"All Plans")),a.createElement(ra,null,a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Active plan:"),a.createElement(c.Text,{strong:!0},S)),a.createElement(ln,null),k&&a.createElement(a.Fragment,null,a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Billing frequency:"),a.createElement(c.Text,{strong:!0},k)),a.createElement(ln,null)),"Yearly"===k&&a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Committed Nodes:"),a.createElement(c.Text,{strong:!0},(null===l||void 0===l?void 0:l.committedNodes)||0)),a.createElement(ln,null),T&&a.createElement(a.Fragment,null,a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Credit:"),a.createElement(c.Text,{strong:!0},wn.format((null===l||void 0===l||null===(t=l.balance)||void 0===t?void 0:t.amount)||0)),a.createElement(Ne.Z,{content:oa,align:"bottom",isBasic:!0},a.createElement(c.Icon,{name:"information",width:"16px",height:"16px",color:"textLite"}))),a.createElement(ln,null),a.createElement(c.Flex,{gap:1,alignItems:"center"},a.createElement(c.Text,null,"Billing email:"),a.createElement(c.Text,{strong:!0},(null===l||void 0===l?void 0:l.billingEmail)||"-")),a.createElement(ln,null)),a.createElement(ce.Z,{Component:c.Flex,cursor:d?"pointer":"default",disabled:!d,onClick:s,alignItems:"center",gap:1},a.createElement("span",null,"Billing options and Invoices"),a.createElement(c.Icon,{name:"nav_arrow_goto",width:"12px",height:"12px"})),!on(null===l||void 0===l?void 0:l.slug)&&a.createElement(a.Fragment,null,a.createElement(ln,null),a.createElement(ce.Z,{Component:c.Flex,cursor:"pointer",onClick:E,alignItems:"center",gap:1,disabled:b||o||!I,"data-ga":"cancel-plan::click::billing"},a.createElement(c.Text,{textDecoration:"underline"},b||o?"Canceling plan...":"Cancel plan")))),a.createElement(ln,{height:1,width:"100%",sx:{borderWidth:"1px 0px 0px 0px",borderColor:"borderSecondary",borderStyle:"solid"}}),u&&a.createElement(_n,{title:"Community",onConfirm:()=>{f(),i(),C({productId:w}).then((()=>((0,Pa.L)("billing","cancel-plan","global-view",{slug:null===l||void 0===l?void 0:l.slug,interval:null===l||void 0===l?void 0:l.interval,success:!0}),x({header:"Successfully canceled subscription",text:"You are now on Community plan"})))).catch((()=>((0,Pa.L)("billing","cancel-plan","global-view",{slug:null===l||void 0===l?void 0:l.slug,interval:null===l||void 0===l?void 0:l.interval,success:!1}),v({header:"Failed to cancel the subscription",text:"Remained on ".concat(y," plan")})))).finally((()=>{f(),i()}))},onClose:E}))};const Da=o.default.div.withConfig({displayName:"plansDetails__Container",componentId:"sc-t6ze2m-0"})(["display:grid;",""],(e=>{let{isEarlyBird:t}=e;return t?"grid-template-columns: 1fr 1.5fr 1.5fr 1.5fr 1.5fr;":"grid-template-columns: 1fr 1.5fr 1.5fr 1.5fr;"})),Ma=o.default.div.withConfig({displayName:"plansDetails__Header",componentId:"sc-t6ze2m-1"})(["display:contents;> *{background:",";border-bottom:1px solid ",";}"],(0,c.getColor)("panelBg"),(0,c.getColor)("separator")),La=(0,o.default)(c.Collapsible).withConfig({displayName:"plansDetails__Content",componentId:"sc-t6ze2m-2"})(["display:contents;"]),Ra=e=>{let{center:t,end:n,...l}=e;return a.createElement(c.Flex,{alignItems:"center",justifyContent:t?"center":n?"end":"start",padding:[2]},a.createElement(c.Text,l))},Ba=()=>a.createElement(c.Icon,{name:"check",color:"primary"}),_a=()=>a.createElement(c.Icon,{name:"checkmark_partial_s",color:"textLite"}),Ua=()=>a.createElement(c.Icon,{name:"chevron_down_thin",color:"text"}),Va=()=>a.createElement(c.Icon,{name:"chevron_up_thin",color:"text"});var Wa=e=>{let{currentPlan:t}=e;const n="earlyBird"===(t||{}).slug,[l,r]=(0,a.useState)((()=>[!1,!1,!1,!1,!1])),o=e=>r((t=>(t[e]=!t[e],[...t])));return a.createElement(a.Fragment,null,a.createElement(Da,{isEarlyBird:n},a.createElement(Ma,{onClick:()=>o(0)},a.createElement(Ra,{strong:!0},"Usage Allowances"),a.createElement(Ra,null),n&&a.createElement(Ra,null),a.createElement(Ra,null),a.createElement(Ra,{end:!0},l[0]?a.createElement(Va,null):a.createElement(Ua,null))),a.createElement(La,{open:!l[0]},a.createElement(Ra,null,"Single Node Metrics Access Limit"),a.createElement(Ra,{center:!0},"UNLIMITED"),n&&a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,null,"Multi-Node Infrastructure Metrics Access Limit"),a.createElement(Ra,{center:!0},"UNLIMITED"),n&&a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,{center:!0},"UNLIMITED"),a.createElement(Ra,null,a.createElement(c.Text,{id:"auditing-events"},"Auditing Events"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"events-related-to-actions-done-on-your-space-eg-invite-user-change-user-role-or-create-room"},"Events related to actions done on your Space, e.g. invite user, change user role or create room")),a.createElement(Ra,{center:!0},"4 hours"),n&&a.createElement(Ra,{center:!0},"4 hours"),a.createElement(Ra,{center:!0},"7 days"),a.createElement(Ra,{center:!0},"90 days"),a.createElement(Ra,null,a.createElement(c.Text,{id:"topology-events"},"Topology Events"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"node-state-transition-events-eg-live-or-offline"},"Node state transition events, e.g. live or offline")),a.createElement(Ra,{center:!0},"4 hours"),n&&a.createElement(Ra,{center:!0},"4 hours"),a.createElement(Ra,{center:!0},"7 days"),a.createElement(Ra,{center:!0},"14 days"),a.createElement(Ra,null,a.createElement(c.Text,{id:"alert-events"},"Alert Events"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"alert-state-transition-events-can-be-seen-as-an-alert-history-log"},"Alert state transition events, can be seen as an alert history log")),a.createElement(Ra,{center:!0},"4 hours"),n&&a.createElement(Ra,{center:!0},"4 hours"),a.createElement(Ra,{center:!0},"7 days"),a.createElement(Ra,{center:!0},"60 days"),a.createElement(Ra,null,"Globally Administered Alerts Notifications Integrations"),a.createElement(Ra,{center:!0},"Email and Discord"),n&&a.createElement(Ra,{center:!0},"Email and Discord"),a.createElement(Ra,{center:!0},"Email, Discord and Webhook"),a.createElement(Ra,{center:!0},"UNLIMITED"))),a.createElement(Da,{isEarlyBird:n},a.createElement(Ma,{onClick:()=>o(1)},a.createElement(Ra,{strong:!0},"User Administration"),a.createElement(Ra,null),n&&a.createElement(Ra,null),a.createElement(Ra,null),a.createElement(Ra,{end:!0},l[1]?a.createElement(Va,null):a.createElement(Ua,null))),a.createElement(La,{open:!l[1]},a.createElement(Ra,null,"Role Based Access"),a.createElement(Ra,{center:!0},"Basic"),n&&a.createElement(Ra,{center:!0},"Basic"),a.createElement(Ra,{center:!0},"Basic"),a.createElement(Ra,{center:!0},"Advanced"),a.createElement(Ra,null,a.createElement(c.Text,{id:"administrators"},"Administrators"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"administrators-have-unrestricted-access-to-a-space"},"Administrators have unrestricted access to a space")),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,a.createElement(c.Text,{id:"managers"},"Managers"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"same-as-admins-but-unable-to-add-nodes-or-manage-the-space-settings"},"Same as admins, but unable to add nodes, or manage the space settings")),a.createElement(Ra,{center:!0},a.createElement(_a,null)),n&&a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,a.createElement(c.Text,{id:"troubleshooters"},"Troubleshooters"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"same-as-managers-but-unable-to-manage-users-or-rooms"},"Same as managers, but unable to manage users or rooms")),a.createElement(Ra,{center:!0},a.createElement(_a,null)),n&&a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,a.createElement(c.Text,{id:"observers"},"Observers"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"read-only-role-restricted-to-specific-rooms"},"Read only role, restricted to specific rooms")),a.createElement(Ra,{center:!0},a.createElement(_a,null)),n&&a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,a.createElement(c.Text,{id:"billing"},"Billing"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"access-to-billing-details-and-subscription-management"},"Access to billing details and subscription management")),a.createElement(Ra,{center:!0},a.createElement(_a,null)),n&&a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(a.Fragment,null,a.createElement(Ra,null,a.createElement(c.Text,{id:"billing"},"Member"),a.createElement("br",null),a.createElement(c.TextSmall,{color:"textDescription",id:"access-to-billing-details-and-subscription-management"},"This role allows users to manage rooms and invite fellow Member teammates. These users cannot see all rooms in the Space but can see all Nodes since they are always on the All Nodes.")),a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(_a,null)),a.createElement(Ra,{center:!0},a.createElement(_a,null))))),a.createElement(Da,{isEarlyBird:n},a.createElement(Ma,{onClick:()=>o(2)},a.createElement(Ra,{strong:!0},"Support"),a.createElement(Ra,null),n&&a.createElement(Ra,null),a.createElement(Ra,null),a.createElement(Ra,{end:!0},l[2]?a.createElement(Va,null):a.createElement(Ua,null))),a.createElement(La,{open:!l[2]},a.createElement(Ra,null,"Service Availability"),a.createElement(Ra,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),n&&a.createElement(Ra,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),a.createElement(Ra,{center:!0,textAlign:"center"},"Best Effort (99.5% in last 12 months)"),a.createElement(Ra,{center:!0,textAlign:"center"},"99.9% annually (excl. scheduled maintenance)"),a.createElement(Ra,null,"Technical Support"),a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),n&&a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),a.createElement(Ra,null,"Initial Deployment Consulting Services"),a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),n&&a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),a.createElement(Ra,{center:!0,textAlign:"center"},"Public Forums, Tickets & Chat"),a.createElement(Ra,{center:!0,textAlign:"center"},"Remote Consultation Available upon Request"),a.createElement(Ra,null,"Alerts Digest"),a.createElement(Ra,{center:!0},"Limited"),n&&a.createElement(Ra,{center:!0},"Limited"),a.createElement(Ra,{center:!0},"Limited"),a.createElement(Ra,{center:!0},"Unlimited"))),a.createElement(Da,{isEarlyBird:n},a.createElement(Ma,{onClick:()=>o(3)},a.createElement(Ra,{strong:!0},"Advanced features"),a.createElement(Ra,null),n&&a.createElement(Ra,null),a.createElement(Ra,null),a.createElement(Ra,{end:!0},l[3]?a.createElement(Va,null):a.createElement(Ua,null))),a.createElement(La,{open:!l[3]},a.createElement(Ra,null,"Custom Dashboards - incl. Grafana"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Nodes secured for access via Cloud only"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Secure Worldwide Remote Access to Dashboards"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited Service Level room Views"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Centrally Dispatched Alerts Notifications"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Infrastructure and Service Level Nodes Views"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Infrastructure and Service Level Alerts Views"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Infrastructure and Service Level Charts and Dashboards"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Infinite Horizontal Scalability"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Machine Learning and Anomaly Advisor for All Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Advanced Troubleshooting with Metric Correlations"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Microservices Monitoring - incl. Kubernetes"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)))),a.createElement(Da,{isEarlyBird:n},a.createElement(Ma,{onClick:()=>o(4)},a.createElement(Ra,{strong:!0},"Basic features"),a.createElement(Ra,null),n&&a.createElement(Ra,null),a.createElement(Ra,null),a.createElement(Ra,{end:!0},l[4]?a.createElement(Va,null):a.createElement(Ua,null))),a.createElement(La,{open:!l[4]},a.createElement(Ra,null,"Unlimited Nodes"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited Containers"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited Users"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited High Resolution Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited High Resolution Custom Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited Metrics Retention"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"1s granularity + 100ms Latency for All Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"1000+ Integrations with Data Stores, Servers, and more"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Metrics Extration from web logs"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Zero Configuration Setup"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Auto-Detection of Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Pre-configured and out-of-the-box Alerts"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Unlimited Synthetic Checks"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Auto generated Dashboards for All Metrics"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Metrics data exclusively stored On Premise"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Popular Alerts Notifications"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,null,"Open Data Exporters - Prometheus, Graphite, InfluxDB, and more"),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),n&&a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)),a.createElement(Ra,{center:!0},a.createElement(Ba,null)))))};var Oa=e=>{let{plans:t,loaded:n,currentLoaded:l,currentPlan:r}=e;return a.createElement(c.Flex,{column:!0,height:"calc(100% - 30px)",gap:3},a.createElement(Na,{plans:t,currentPlan:r}),n&&l?a.createElement(c.Flex,{column:!0,gap:5},a.createElement(la,{plans:t,currentPlan:r,showAllPlans:!0},a.createElement(c.Flex,{column:!0,height:50,width:40,justifyContent:"center"},a.createElement(c.Text,{strong:!0},"Pricing"))),a.createElement(Wa,{currentPlan:r})):a.createElement(yt.Z,{title:n?"Loading billing info...":"Loading Netdata plans..."}))};const Ha={Community:0,Pro:1,Business:2},Ga={month:"Monthly",year:"Yearly"},za=e=>{let{from:t,to:n,fromNodes:a,toNodes:l,interval:r,success:o=!0}=e;const c=Ga[r]||r;if(t===n&&a===l)return{header:o?"Successful billing cycle change":"Failed to update billing cycle",text:o?"Subscription billing cycle changed to ".concat(c):"Subscription is still on ".concat(c," billing cycle")};if(t===n)return{header:o?"Successful change of commitment":"Failed to change the commitment",text:o?"Commitment ".concat(a<l?"increased":"decreased"," from ").concat(a," to ").concat(l," nodes"):"Commitment remained the same, ".concat(a," nodes")};const i=Ha[t]>Ha[n];return{header:o?"Successfully ".concat(i?"downgraded":"upgraded"," plan"):"Failed to ".concat(i?"downgrade":"upgrade"," plan"),text:o?"Subsrciprion ".concat(i?"downgraded":"upgraded"," from ").concat(t," to ").concat(n," plan (").concat(c,")"):"Remained on ".concat(t," plan")}};var ja=()=>{(()=>{const[e,t]=(0,vt.lr)(),[n,l]=(0,re.Z)();(0,a.useEffect)((()=>{const a=e.get("from"),r=e.get("from_committed_nodes"),o=e.get("interval"),c=e.get("result"),i=e.get("to"),s=e.get("to_committed_nodes");switch(c){case"success":{const e={from:a,fromNodes:r,interval:o,to:i,toNodes:s,success:!0};n(za(e)),(0,Pa.L)("billing","callback","global-view",e);break}case"failure":{const e={from:a,fromNodes:r,interval:o,to:i,toNodes:s,success:!1};l(za(e)),(0,Pa.L)("billing","callback","global-view",e);break}}c&&t("")}),[e])})();const{loaded:e,value:t}=(0,Qt.Gl)(),{loaded:n,value:r}=(0,Qt.RP)(),o=(0,$t.m)();return a.createElement(c.Flex,{column:!0,height:"calc(100% - 30px)",gap:3},a.createElement(en,null,a.createElement(l.Z5,null,a.createElement(l.AW,{path:"/all-plans",element:a.createElement(Oa,{isSmall:o,currentPlan:r,loaded:e,currentLoaded:n,plans:t})}),a.createElement(l.AW,{path:"/",element:a.createElement(Aa,{isSmall:o,currentPlan:r,loaded:e,currentLoaded:n,plans:t})}))))};const Ya=(0,o.default)(i.G).withConfig({displayName:"manage-workspace__ColumnHeader",componentId:"sc-j9n54n-0"})(["width:180px;padding:16px;"]),qa=e=>t=>a.createElement(s.TZ,{height:"calc(100vh - ".concat((0,c.getSizeBy)(m.A/2),")")},a.createElement(e,t)),Ka=qa(jt),$a=qa(Ae),Qa=qa(ze),Xa=qa(We),Ja=(e=>t=>{const n={height:"100%",padding:[4,0,0,0]};return a.createElement(s.TZ,n,a.createElement(e,t))})(Zt),el=qa(ja);var tl=(0,a.memo)((()=>{const e=(0,l.s0)(),{state:t={},pathname:n}=(0,l.TH)(),{settingsTab:o,...i}=(0,l.UO)(),[d]=(0,a.useState)((null===t||void 0===t?void 0:t.previousUrlPath)||null),u=(0,p.OS)("name"),E=(e=>{const t=D.dH.indexOf(e);return-1!==t?t:D.z2})(o),h=(0,a.useCallback)((t=>{const a=((e,t)=>{const n=e.split("/"),a=n.indexOf("settings")+1-n.length;return"".concat(n.slice(0,a).join("/"),"/").concat(D.dH[t]||D.z2)})(n,t);e(a)}),[o]);(0,a.useEffect)((()=>{D.fV[o]||e((0,r.Gn)(n,{...i,settingsTab:D.z2}))}),[]);const b=(0,g.gI)("billing:ReadBasic"),f=(0,g.gI)("room:ReadAll"),x=(0,g.gI)("user:ReadAll"),v=(0,g.gI)("channel:ReadAll"),C=(0,y.jW)();(0,a.useEffect)((()=>{b||o===D.fM&&e((0,r.Gn)(n,{...i,settingsTab:D.z2}))}),[b,o]);const w=(0,p.uk)(),I=(0,a.useCallback)((()=>{e(d||"/spaces/".concat(w))}),[d,w]);return u?a.createElement(s.oU,{"data-testid":"manageWorkspaceModal",right:!0,closeOnOverlayClick:!0,onClose:I},a.createElement(m.x,{"data-testid":"manageWorkspaceModal-header",onClose:I,title:a.createElement(Kt,null)}),a.createElement(Yt.Z,null),a.createElement(c.Tabs,{row:!0,column:!1,"data-testid":"manageWorkspaceModal-tabs",selected:E,onChange:h,TabsHeader:Ya,tabsProps:{column:!0},height:"100%",noDefaultBorder:!0},a.createElement(c.Tab,{basis:0,"data-testid":"manageWorkspaceModal-spaceTab",label:D.fV[D.m3],"data-ga":"manage-space::click-tab::space-tab",isMenuItem:!0},a.createElement(Ka,{"data-testid":"manageWorkspaceModal-spaceTabContent",onClose:I,small:!0})),a.createElement(c.Tab,{basis:0,"data-testid":"manageWorkspaceModal-warRoomsTab","data-ga":"manage-space::click-tab::rooms-tab",label:"Rooms",isMenuItem:!0},a.createElement($a,{"data-testid":"manageWorkspaceModal-warRoomsTabContent"})),(f||C)&&a.createElement(c.Tab,{basis:0,label:"Nodes","data-testid":"manageWorkspaceModal-nodesTab","data-ga":"manage-space::click-tab::nodes-tab",isMenuItem:!0},a.createElement(Qa,{"data-testid":"manageWorkspaceModal-nodesTabContent"})),x&&a.createElement(c.Tab,{basis:0,"data-testid":"manageWorkspaceModal-usersTab","data-ga":"manage-space::click-tab::users-tab",label:"Users",isMenuItem:!0},a.createElement(Xa,{"data-testid":"manageWorkspaceModal-usersTabContent"})),v&&a.createElement(c.Tab,{basis:0,label:"Alerts & Notifications","data-testid":"manageWorkspaceModal-notificationsTab","data-ga":"manage-space::click-tab::notifications-tab",isMenuItem:!0},a.createElement(Ja,null)),b&&a.createElement(c.Tab,{basis:0,"data-testid":"manageWorkspaceModal-billingTab","data-ga":"manage-space::click-tab::billing-tab",label:"Plan & Billing",isMenuItem:!0},a.createElement(el,{"data-testid":"manageWorkspaceModal-billingTabContent"})))):null}));var nl=()=>{const{pathname:e,state:t}=(0,l.TH)();return a.createElement(l.Z5,null,a.createElement(l.AW,{path:"/",element:a.createElement(l.Fg,{state:t,to:{pathname:"".concat(e,"/").concat(D.z2)}})}),a.createElement(l.AW,{path:":settingsTab/*",element:a.createElement(tl,null)}))}},14809:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(87462),l=n(67294),r=n(22195),o=n(89250),c=n(13477),i=n(94666),s=(n(33948),n(88449),n(2490),n(59849),n(4480)),m=n(93017),d=n(274),u=n(46585),g=n(74059),E=n(57079),p=n(58502),h=n(95383),b=n(53606);const f="leave-space-dialog",x="leaveSpaceDialog";var v=e=>{let{id:t,name:n,onClose:v}=e;const C=(0,o.s0)(),y=(0,c.Iy)("id"),w=(0,i.H4)(),I=(0,i.nP)(),T=(0,i.Wy)(),S=(e=>{const[,t]=(0,m.Z)();return(0,s._8)((n=>{let{snapshot:a,set:l,reset:r}=n;return async n=>{let{currentUserId:o,onSuccess:c,onError:s}=n;const m=await a.getPromise((0,g.st)("ids")),b=m.filter((t=>e!==t)),[f]=b;if(!f)return void t({header:"Spaces",text:u.T$.leave});const{slug:x}=f&&await a.getPromise((0,p.ZP)(f));l((0,g.st)("ids"),b),l(E.Z,(t=>t.filter((t=>t!==e))));try{await(0,d.Sz)(e,[o]),c&&c(x),(0,i.zm)(r,e),(0,h.r1)(r,e),r((0,p.ZP)(e))}catch(v){l((0,g.st)("ids"),m),s&&s()}}}),[e])})(t),k=(0,b.Z)(t),F=(0,l.useCallback)((e=>C("/spaces/".concat(e))),[]),A=1===w.length,P=1===I.length&&T,Z=A?{confirmLabel:"Yes, leave","data-ga":"".concat(f,"-last-member"),"data-testid":"".concat(x,"LastMember"),handleConfirm:()=>k({onSuccess:F}),message:l.createElement(l.Fragment,null,"If you leave, space ",l.createElement("strong",null,n)," will be deleted immediately.",l.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(n," space")}:P?{confirmLabel:"Give rights","data-ga":"".concat(f,"-last-admin"),"data-testid":"".concat(x,"LastAdmin"),handleConfirm:()=>C("users"),isConfirmPositive:!0,message:l.createElement(l.Fragment,null,"You are the last admin of ",l.createElement("strong",null,n)," space. Please give admin rights to another member so you can leave this space."),title:"Leave ".concat(n," space")}:{confirmLabel:"Yes, leave","data-ga":f,"data-testid":x,handleConfirm:()=>S({currentUserId:y,onSuccess:F}),message:l.createElement(l.Fragment,null,"You are about to leave ",l.createElement("strong",null,n)," space.",l.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(n," space")};return l.createElement(r.ConfirmationDialog,(0,a.Z)({handleDecline:v},Z))}},73955:function(e,t,n){var a=n(79833),l=0;e.exports=function(e){var t=++l;return a(e)+t}}}]);