!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3f62decf-86b8-467a-be5c-076bc5049d58",e._sentryDebugIdIdentifier="sentry-dbid-3f62decf-86b8-467a-be5c-076bc5049d58")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"1f9bd6d85714735ca8bbf884fbe65fc5566ec047"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[915],{46742:function(e,t,n){n.d(t,{lG:function(){return w},om:function(){return h}});var r=n(29439),o=n(93433),a=n(87462),i=n(45987),c=n(4942),l=(n(47042),n(92222),n(41539),n(39714),n(85827),n(25387),n(2490),n(72608),n(26699),n(32023),n(21249),n(57640),n(9924),n(57327),n(88449),n(59849),n(64211),n(41874),n(47941),n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),u=n(60677),s=n(95248),d=n(57509),f=n(39434),m=["item","onItemClick","itemProps"],p=["value","disabled","onClick","label","selected","indeterminate","textColor","iconName","count","level"],g=["baseKey","extraKey","param","Item","testIdPrefix","collection","getValue","getLabel","itemsProps","itemProps","capitalized","multi"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return e?e[0].toUpperCase()+e.slice(1):"Unknown"},h=(0,u.default)(d.Flex).attrs((function(e){return b({as:"li",role:"option",padding:[1,2],gap:1,justifyContent:"between",width:"100%"},e)})).withConfig({displayName:"checkboxes__ItemContainer",componentId:"sc-1vef46u-0"})(["cursor:",";opacity:",";align-items:",";"," ",""],(function(e){return e.disabled?"default":"pointer"}),(function(e){var t=e.stale,n=e.disabled;return(t||n)&!e.selected?.7:1}),(function(e){return e.alignItems||"center"}),(function(e){var t=e.multi,n=e.selected,r=e.theme;return!t&&n&&"\n    background-color: ".concat(function(e){var t=e.theme;return("Dark"===t.name?(0,d.getRgbColor)(["green","green20"]):(0,d.getRgbColor)(["green","green195"]))({theme:t})}({theme:r}),";\n  ")}),(function(e){var t=e.multi,n=e.selected,r=e.theme;return!t&&!n&&"\n    &:hover {\n      background-color: ".concat((0,d.getColor)("highlight")({theme:r}),";\n    }\n  ")})),w=(0,u.default)(d.Checkbox).withConfig({displayName:"checkboxes__FullWidthCheckbox",componentId:"sc-1vef46u-1"})(["width:100%;"]),O=function(e){var t=e.baseKey,n=e.extraKey,c=e.param,u=e.Item,f=e.testIdPrefix,m=e.collection,p=e.getValue,v=e.getLabel,y=e.itemsProps,h=e.itemProps,w=e.capitalized,O=void 0===w||w,x=e.multi,k=void 0===x||x,C=(0,i.Z)(e,g),I=(0,s.I0)(c,{defaultValue:[],key:t,extraKey:n}),P=(0,r.Z)(I,2),j=P[0],E=void 0===j?[]:j,Z=P[1];(0,l.useEffect)((function(){if(m.length&&E.length){var e=E.filter((function(e){return m.some((function(t){return p(t)===e}))}));e.length!==E.length&&Z(e)}}),[m.length,Z]);var L=(0,l.useCallback)((function(e){var t=e.value,n=e.checked;Z(k?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?t:[]:n?[].concat((0,o.Z)(e),[t]):e.filter((function(e){return e!==t}))}:function(){return n?[t]:[]})}),[Z]),S=(0,l.useMemo)((function(){return function(e){var t=e.collection,n=e.selected,r=e.getValue,a=e.getLabel,i=e.itemsProps,c=e.multi;if(!t.length)return[];var l=c&&t.length<=n.length,u=c&&!l&&!!n.length;return t.reduce((function(e,t){var c=n.includes(r(t));return[].concat((0,o.Z)(e),[b(b(b({},i.row),t),{},{value:r(t),label:a(t),selected:c})])}),c?[b(b({},i.head),{},{label:"Select all",value:t.map(r),selected:l,indeterminate:u})]:[])}({collection:m,selected:E,getValue:p,getLabel:v,itemsProps:y,multi:k})}),[E,Z,m]);return l.createElement(d.MenuDropdown,(0,a.Z)({hideShadow:!0,height:{max:"300px"},width:{max:"600px"},background:"mainBackground",overflow:"auto","data-testid":"".concat(f,'-filter-selections"'),searchMargin:[0,0,2],items:S,Item:u,onItemClick:L,value:E,"data-value":E.join(",")||"all-selected",hasSearch:m.length>5,itemProps:b(b({},h),{},{testIdPrefix:f,capitalized:O,multi:k})},C))},x=function(e){return e};O.defaultProps={itemProps:{padding:[1,.5],maxLength:30,multi:!0},itemsProps:{head:{textColor:"textLite"},row:{textColor:"text"}},Item:function(e){var t=e.item,n=e.onItemClick,r=e.itemProps,o=(0,i.Z)(e,m),c=t.value,u=t.disabled,s=t.onClick,g=t.label,v=t.selected,b=t.indeterminate,O=t.textColor,x=t.iconName,k=t.count,C=t.level,I=void 0===C?0:C,P=(0,i.Z)(t,p),j=r.capitalized,E=r.multi,Z=u||!E&&v,L=function(e){u||(s&&s(e),n({value:c,label:g,checked:!v,item:t}))};return l.createElement(h,(0,a.Z)({"aria-selected":v,selected:v,disabled:Z,stale:0===k||"0"===k},P,o,r,{"data-testid":"".concat(r.testIdPrefix,"-filters-item")}),l.createElement(d.Flex,{gap:2,alignItems:"center",padding:[0,0,0,4*I],width:"100%"},E?l.createElement(w,{"data-testid":"".concat(r.testIdPrefix,"-filters-checkbox-").concat(g),checked:v,disabled:Z,indeterminate:b,onChange:L,label:l.createElement(d.Flex,{gap:1,alignItems:"center",width:"100%"},x&&l.createElement(d.Icon,{name:x,size:"small",color:"textLite"}),l.createElement(f.default,{Component:d.TextSmall,title:g,text:"string"===typeof g&&j?y(g):g.toString(),maxLength:r.maxLength||80,color:O}))}):l.createElement(d.Flex,{gap:1,padding:[0,1],alignItems:"center",onClick:L,"data-testid":"".concat(r.testIdPrefix,"-filters-item-").concat(g)},l.createElement(f.default,{Component:d.TextSmall,title:g,text:"string"===typeof g&&j?y(g):g.toString(),maxLength:r.maxLength||80,color:O}))),!isNaN(k)&&l.createElement(d.Pill,{flavour:"neutral",hollow:!0,"data-testid":"".concat(r.testIdPrefix,"-filters-").concat(g,"-count")},k.toString()))},getValue:x,getLabel:x},t.ZP=O},97193:function(e,t,n){n.d(t,{c:function(){return E}});var r=n(29439),o=n(4942),a=n(93433),i=n(87462),c=n(45987),l=(n(92222),n(41539),n(39714),n(64211),n(2490),n(41874),n(26699),n(32023),n(85827),n(25387),n(72608),n(57327),n(88449),n(59849),n(66992),n(70189),n(78783),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(33948),n(47941),n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),u=n(91966),s=n.n(u),d=n(95062),f=n.n(d),m=n(79655),p=n(97945),g=n(95248),v=n(57509),b=n(39434),y=n(91008),h=n(72233),w=n(39583),O=n(46742),x=["value","disabled","onClick","label","nodeId","selected","status","indeterminate","textColor","iconName","hasAlerts","hasML","hasFn","showAlerts","showMl","showFn","requireML","requireFn","capabilities","count","multi","checkIsDisabled"],k=["item","onItemClick","itemProps","close"],C=["baseKey","extraKey","statusProps","multi","useFilteredIds","nodeCounts","checkIsDisabled"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={Live:{head:{label:"Live nodes",textColor:"textLite",iconName:"connectivityStatusLive",hasML:!0,hasAlerts:!0,hasFn:!0},node:{textColor:"text",showAlerts:!0,showMl:!0,showFn:!0}},Stale:{head:{label:"Stale nodes",textColor:"textLite",iconName:"connectivityStatusStale",hasML:!0},node:{textColor:"text",showMl:!0}},Offline:{head:{label:"Offline nodes",textColor:"textLite",iconName:"connectivityStatusOffline"},node:{textColor:"textLite"}}},E=function(e){var t=e.item,n=t.value,r=t.disabled,o=t.onClick,a=t.label,u=t.nodeId,s=t.selected,d=t.status,g=t.indeterminate,C=t.textColor,I=t.iconName,P=t.hasAlerts,j=t.hasML,E=t.hasFn,Z=t.showAlerts,L=t.showMl,S=t.showFn,D=t.requireML,_=t.requireFn,N=t.capabilities,A=t.count,U=t.multi,F=void 0===U||U,M=t.checkIsDisabled,T=void 0===M?f():M,B=(0,c.Z)(t,x),R=e.onItemClick,G=e.itemProps,V=e.close,K=(0,c.Z)(e,k),z=(0,p.m3)(u),J=(0,l.useMemo)((function(){var e;return!S||!N||(null===(e=N.funcs)||void 0===e?void 0:e.enabled)}),[S]),H=(0,l.useMemo)((function(){var e;return!S||!N||(null===(e=N.ml)||void 0===e?void 0:e.enabled)}),[S]),q=r||D&&!H||_&&!J||!F&&s||T(u),$=function(e){q||(o&&o(e),R({value:n,checked:!s,status:d}))},Y=function(e){e.stopPropagation(),null===V||void 0===V||V()};return l.createElement(O.om,(0,i.Z)({"aria-selected":s,selected:s,disabled:q,stale:0===A||"0"===A},B,K,G,{"data-testid":"filterNodes-item-".concat(a),multi:F}),l.createElement(v.Flex,{gap:2,alignItems:"center",flex:!0},F?l.createElement(l.Fragment,null,l.createElement(O.lG,{"data-testid":"filterNodes-checkbox-".concat(a),checked:s,disabled:q,indeterminate:g,onChange:$,label:l.createElement(v.Flex,{gap:1,alignItems:"center"},I&&l.createElement(v.Icon,{name:I,size:"small",color:"textLite"}),l.createElement(b.default,{Component:v.TextSmall,title:a,text:a,maxLength:(null===G||void 0===G?void 0:G.maxLength)||80,color:C,truncate:!0}),"Offline"!==d&&!Array.isArray(n)&&l.createElement(y.Z,{as:m.rU,to:z,state:{nodeId:u},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:Y},l.createElement(v.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"})))})):l.createElement(v.Flex,{gap:1,padding:[0,1],alignItems:"center",onClick:$,"data-testid":"filterNodes-item-".concat(a),flex:!0},l.createElement(b.default,{Component:v.TextSmall,title:a,text:a,maxLength:(null===G||void 0===G?void 0:G.maxLength)||80,color:C}),"Offline"!==d&&!Array.isArray(n)&&l.createElement(y.Z,{as:m.rU,to:z,state:{nodeId:u},"data-testid":"filterNodes-item-gta",color:"textLite",hoverColor:"text",onClick:Y},l.createElement(v.Icon,{name:"nav_arrow_goto",height:"10px",width:"10px"})))),l.createElement(v.Flex,{gap:1},Z&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:17},l.createElement(w.Z,{id:n,isLive:!0,name:a})),L&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:10},l.createElement(h.Z,{badge:"ml","data-testid":"nodes-indicator-machine-learning",enabled:H,name:a})),S&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:10},l.createElement(h.Z,{badge:"fn","data-testid":"nodes-indicator-fn",enabled:J,name:a})),P&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:17},l.createElement(v.Icon,{name:"alarm",size:"small",color:"textLite"}),l.createElement(v.TextSmall,{strong:!0,color:"textLite"},"Alerts")),j&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:10},l.createElement(v.Icon,{name:"anomaliesLens",size:"small",color:"textLite"}),l.createElement(v.TextSmall,{strong:!0,color:"textLite"},"ML")),E&&l.createElement(v.Flex,{gap:1,justifyContent:"center",width:10},l.createElement(v.Icon,{name:"functions",size:"small",color:"textLite"}),l.createElement(v.TextSmall,{strong:!0,color:"textLite"},"Fn")),!isNaN(A)&&l.createElement(v.Pill,{flavour:"neutral",hollow:!0,"data-testid":"".concat(G.testIdPrefix,"-filters-").concat(a,"-count")},A.toString())))},Z=function(e){var t=e.ids,n=e.status,r=e.selectedIds,o=e.nodesById,i=e.statusProps,c=e.multi,l=void 0===c||c,u=e.nodeCounts,s=e.checkIsDisabled;if(!t.length)return[];var d=l&&!t.some((function(e){return!r.includes(e)})),f=l&&r.length&&!d&&t.some((function(e){return r.includes(e)}));return t.reduce((function(e,t){var c=o[t],d=c.name,f=c.capabilities,m=r.includes(t);return[].concat((0,a.Z)(e),[P(P({value:t,label:d,nodeId:t,selected:m,status:n,capabilities:f},i[n].node),{},{multi:l,checkIsDisabled:s,count:u?u[t]||0:NaN})])}),[P(P({value:t,selected:d,indeterminate:f,disabled:!l,status:n},i[n].head),{},{multi:l})])},L=function(e){return e};t.Z=function(e){var t=e.baseKey,n=e.extraKey,o=e.statusProps,u=void 0===o?j:o,d=e.multi,f=void 0===d||d,m=e.useFilteredIds,b=void 0===m?L:m,y=e.nodeCounts,h=e.checkIsDisabled,w=(0,c.Z)(e,C),O=b((0,g.H7)()),x=(0,g.wT)({defaultValue:[],key:t,extraKey:n}),k=(0,r.Z)(x,2),I=k[0],P=k[1];(0,l.useEffect)((function(){if(O.length&&I.length){var e=I.filter((function(e){return O.includes(e)}));e.length!==I.length&&P(e)}}),[O]);var S=(0,p.HZ)(O),D=(0,p.e5)(O),_=(0,p.mf)(O),N=(0,l.useCallback)((function(e){var t=e.value,n=e.checked;P(f?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?n?(0,a.Z)(new Set([].concat((0,a.Z)(e),(0,a.Z)(t)))):s()(e,t):n?[].concat((0,a.Z)(e),[t]):e.filter((function(e){return e!==t}))}:function(){return n?[t]:[]})}),[P]),A=(0,p.d$)(),U=(0,l.useMemo)((function(){var e=Z({ids:S,status:"Live",selectedIds:I,nodesById:A,statusProps:u,multi:f,nodeCounts:y,checkIsDisabled:h}),t=Z({ids:D,status:"Stale",selectedIds:I,nodesById:A,statusProps:u,multi:f,nodeCounts:y,checkIsDisabled:h}),n=Z({ids:_,status:"Offline",selectedIds:I,nodesById:A,statusProps:u,multi:f,nodeCounts:y,checkIsDisabled:h});return e.concat(t,n)}),[I,S.length,D.length,_.length,y,h]);return l.createElement(v.MenuDropdown,(0,i.Z)({hideShadow:!0,height:{max:"60vh"},width:{max:"600px"},overflow:"auto","data-testid":"filterNodes-drop",searchMargin:[2],items:U,Item:E,onItemClick:N,value:I,"data-value":I.join(",")||"all-nodes",hasSearch:!0},w))}},48450:function(e,t,n){n.d(t,{Kp:function(){return d},MN:function(){return w},ND:function(){return m},hN:function(){return b},jc:function(){return h},sr:function(){return g},uk:function(){return f}});var r=n(4942),o=(n(21249),n(57640),n(9924),n(41539),n(88674),n(92087),n(74916),n(15306),n(92222),n(82481),n(47941),n(82526),n(57327),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(26398)),a=n(66152),i=n(78710);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return{id:e.roomID,alertCounter:e.alarmCounter,unreachableCount:e.unreachableCount,state:e.state}},s=function(e){return{results:(e.results||[]).map(u)}},d=function(e){return(0,i.Ly)(e)?Promise.resolve({data:{results:[]}}):o.Z.get("/api/v2/spaces/".concat(e,"/alarms"),{transform:s})},f=function(e){return(0,i.Ly)(e)?Promise.resolve({data:null}):o.Z.get("/api/v2/spaces/".concat(e,"/alarms/metas"))},m={contexts:null,names:null,roles:null},p=function(e){var t=e.alerts,n=void 0===t?[]:t,r=e.nodes,o=void 0===r?[]:r,i=e.alert_instances,c=void 0===i?[]:i;return(0,a.k5)(c.map((function(e){var t=e.ni,r=e.ati,a=e.tr_i,i=e.tr_v,c=e.tr_t,l=e.cfg,u=e.info,s=e.fami,d=e.ch,f=e.ch_n,m=void 0===f?d:f,p=e.ctx,g=e.v,v=e.t,b=e.flags,y=e.st,h=e.src,w=e.units,O=e.to,x=e.cl,k=e.cm,C=e.tp,I=o[t],P=n[r],j=P.nm,E=P.cr,Z=P.wr,L=P.cl,S=P.er,D=P.in,_=P.nd,N=P.cfg;return{mg:I.mg,nd:I.nd,nodeId:I.nd||I.mg,id:a,context:p,value:g,status:y.toLowerCase(),name:j,displayName:(j||"unknown_alert").replace(/_/g," "),alert:alert,criticalCount:E,warningCount:Z,clearCount:L,errorCount:S,instanceCount:D,nodeCount:_,configCount:N,lastStatusChangeValue:i,lastStatusChange:c,configHash:l,info:u,family:s,instance:d,instanceName:m,lastUpdated:v,flags:b,units:w,source:h,recipient:O,class:x,component:k,type:C}})))},g=function(e,t){return(0,i.Ly)(e)?o.Z.get("/api/v2/alerts?options=summary,instances,values,minify&status=raised",{baseURL:window.envSettings.agentApiUrl,transform:p}):o.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/alerts"),{scope:{nodes:[],contexts:[]},selectors:{status:["raised"]},options:["summary","values","instances"]},{transform:p})},v=function(e){var t=e.transitions,n=void 0===t?[]:t;if(!n[0])return{};var r=n[0],o=r.config_hash_id,a=r.context,i=r.machine_guid,c=r.info,l=r.transition_id,u=r.node_id,s=r.alert,d=r.new,f=d.status,m=d.value,p=r.when,g=r.old,v=g.status,b=g.value,y=g.duration,h=r.instance,w=r.instance_n,O=void 0===w?h:w,x=r.units;return{configHash:o,context:a,name:s,id:l,mg:i,nodeId:u||i,nd:u,alert:s,info:c,displayName:(s||"unknown_alert").replace(/_/g," "),status:f.toLowerCase(),lastStatusChange:p,lastStatusChangeValue:m,prevStatus:v.toLowerCase(),prevValue:b,prevDuration:y,instance:h,instanceName:O,units:x}},b=function(e,t,n){return(0,i.Ly)(e)?o.Z.get("/api/v2/alert_transitions?options=minify&transition=".concat(n),{baseURL:window.envSettings.agentApiUrl,transform:v}).then((function(n){var r=n.data;return x(e,t,r.configHash,r)})):o.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/alert_transitions"),{transition:n},{transform:v}).then((function(n){var r=n.data;return x(e,t,r.configHash,r)}))},y=function(e){var t=e.alerts;return(void 0===t?[]:t).map((function(e){var t=e.nm,n=e.cr,r=e.wr,o=e.cl,a=e.er,i=e.in,c=e.nd,l=e.cfg;return{name:t,displayName:(t||"unknown_alert").replace(/_/g," "),criticalCount:n,warningCount:r,clearCount:o,errorCount:a,instanceCount:i,nodeCount:c,configCount:l}}))},h=function(e,t){return(0,i.Ly)(e)?o.Z.get("/api/v2/alerts?options=minify",{baseURL:window.envSettings.agentApiUrl,transform:y}).then((function(e){return e.data})):o.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/alerts"),{scope:{nodes:[]}},{transform:y}).then((function(e){return e.data}))},w=function(e,t,n){return(0,i.Ly)(e)?o.Z.get("/api/v2/alerts?options=summary,values,instances,minify&alert=".concat(n),{baseURL:window.envSettings.agentApiUrl,transform:p}).then((function(e){return e.data})):o.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/alerts"),{scope:{nodes:[]},selectors:{alert:[n]},options:["summary","instances","values"]},{transform:p}).then((function(e){return e.data}))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t.class,r=t.component,o=t.type,a=t.info,i=t.value,c=i.calc,u=void 0===c?"":c,s=i.update_every,d=i.units,f=i.db,m=t.status,p=t.notification||{},g=p.type,v=p.exec,b=p.to,y=p.delay,h=p.repeat||{},w=h.warn,O=h.crit,x=m||{},k=x.warn,C=x.crit,I=x.green,P=x.red,j=f||{},E=j.dimensions,Z=j.method,L=j.after,S=j.before,D=j.options;return l(l({info:a},e),{},{configInfo:a,class:n,component:r,type:o,calculation:u,updateEvery:s,units:d,warning:k,critical:C,lookupDimensions:E,lookupMethod:Z,lookupAfter:L,lookupBefore:S,lookupOptions:D,notificationType:g,exec:v,recipient:b,delay:y,warnRepeatEvery:w,critRepeatEvery:O,green:I,red:P})}},x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Ly)(e)?o.Z.get("/api/v2/alert_config?options=minify&config=".concat(n),{baseURL:window.envSettings.agentApiUrl,transform:O(r)}):o.Z.post("/api/v2/spaces/".concat(e,"/rooms/").concat(t,"/alert_config"),{config:n},{transform:O(r)})}},84074:function(e,t,n){n.d(t,{E3:function(){return i},Gs:function(){return d},HI:function(){return s},IG:function(){return u},bc:function(){return c},p$:function(){return l}});var r=n(4480),o=n(80239),a=n(48450),i={id:null,loaded:!1,nodeId:null,instance:null,instanceName:null,name:"",calculation:"",lookupAfter:0,lookupBefore:0,status:"unknown",date:"",fullyLoaded:!1,fullyLoading:!1,info:"",configInfo:"",warning:"",critical:"",updateEvery:0,source:"",recipient:"Unknown",units:"",delayUpDuration:null,delayDownDuration:null,delayMaxDuration:null,delayMultiplier:null,delayUpToTimestamp:null,lookupDimensions:"",lookupMethod:"",lookupOptions:"",class:"Unknown",type:"Unknown",component:"Unknown"};t.ZP=(0,r.cn)({key:"alert",default:{}});var c=(0,r.cn)({key:"selectedAlert",default:null}),l=(0,r.cn)({key:"alertsTabsAtom",default:o.U}),u=(0,r.xu)({key:"alertConfigurations",default:function(e){var t=e.spaceId,n=e.roomId;return(0,a.jc)(t,n)}}),s=(0,r.xu)({key:"alertInstances",default:function(e){var t=e.spaceId,n=e.roomId,r=e.name;return(0,a.MN)(t,n,r)}}),d=(0,r.xu)({key:"selectedAlertConfiguration",default:{alertName:null,nodeId:null}})},12008:function(e,t,n){n.d(t,{Bk:function(){return P},E5:function(){return y},ER:function(){return O},E_:function(){return C},JU:function(){return L},O0:function(){return h},__:function(){return S},fp:function(){return b},n_:function(){return E},sb:function(){return k},v3:function(){return D},w4:function(){return Z},yx:function(){return x}});var r=n(4942),o=(n(21249),n(57640),n(9924),n(57327),n(41539),n(88449),n(2490),n(59849),n(85827),n(25387),n(72608),n(47941),n(82526),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(67294)),a=n(4480),i=n(37518),c=n(96929),l=n(99322),u=n(97945),s=n(80239),d=n(74059),f=n(84074),m=n(48450),p=n(45771);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,a.CG)({key:"alertState",get:function(e){var t=e.id,n=e.key;return function(e){var r=(0,e.get)(f.ZP)[t]||f.E3;return n?r[n]:r}},set:function(e){var t=e.id,n=e.key;return function(e,o){var a=e.set;a(f.ZP,n?"function"!==typeof o?function(e){return v(v({},e),{},(0,r.Z)({},t,v(v({},e[t]),{},(0,r.Z)({},n,o))))}:function(e){return v(v({},e),{},(0,r.Z)({},t,v(v({},e[t]),{},(0,r.Z)({},n,o(e[t][n])))))}:function(e){return v(v({},e),{},(0,r.Z)({},t,v(v(v({},f.E3),e[t]),o)))})}}}),y=function(e,t){return(0,a.sJ)(b({id:e,key:t}))},h=function(){return(0,a.FV)(f.bc)},w=(0,a.CG)({key:"alertsState",get:function(e){return function(t){var n=t.get;return e.map((function(e){return n(b({id:e}))}))}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),O=function(e){return(0,a.sJ)(w(e))},x=function(e){var t=(0,i.UL)(),n=(0,d.th)(),r=(0,a._8)((function(r){var o=r.set;return function(){o(b({id:e,key:"fullyLoading"}),!0);var r=(0,m.hN)(n,t,e);return r.then((function(t){var n=t.data;return o(b({id:e}),v(v({},n),{},{fullyLoaded:!0,fullyLoading:!1,loaded:!0}))})).catch((function(){return o(b({id:e,key:"fullyLoading"}),!1)})),function(){return r.cancel()}}}),[t,n]);(0,o.useEffect)((function(){e&&r()}),[e,r])},k=function(){var e=I(),t=(0,c.zN)(),n=(0,u.Ne)(t);return(0,o.useMemo)((function(){return n.map((function(t){var n=e.filter((function(e){return e.nodeId===t.id}));if(!n.length)return t;var o=n.map((function(e){return e.status}));return v(v({},t),{},(0,r.Z)({},s.nb.alertStatus,(0,p.j)(o)))}))}),[e,n])},C=(0,a.CG)({key:"roomAlerts",get:function(e){return function(t){var n=t.get,r=n((0,l.e8)({id:e,key:"ids"}));return n(w(r))}}}),I=function(){var e=(0,i.UL)();return(0,a.sJ)(C(e))},P=function(){var e=(0,i.UL)();return(0,a.sJ)((0,l.e8)({id:e,key:"loaded"}))},j={warning:0,critical:0,clear:0},E=function(e){var t=O(e);return(0,o.useMemo)((function(){return t.reduce((function(e,t){var n=t.status;return e[n]=e[n]+1,e}),v({},j))}),[e])},Z=function(){var e=(0,d.th)(),t=(0,i.UL)();return(0,a.sJ)((0,f.IG)({spaceId:e,roomId:t}))},L=function(e,t){var n=(0,d.th)(),r=(0,i.UL)(),c=(0,a.sJ)((0,f.HI)({spaceId:n,roomId:r,name:e}));return(0,o.useMemo)((function(){return t?c.filter((function(e){return e.nodeId===t})):c}),[c,t])},S=function(){var e=(0,i.UL)();return(0,a.FV)((0,f.Gs)(e))},D=function(){var e=(0,i.UL)();return(0,a.rb)((0,f.Gs)(e))}},38671:function(e,t,n){n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(4942),o=n(29439),a=n(67294),i=n(10034),c=n(58591);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,c.m$)(),t=(0,i.Oi)(),n=(0,o.Z)(t,2),r=n[0],l=n[1],s=(0,i.wC)().reset,d=(0,a.useCallback)((function(){s(),(0,c.xs)(u(u({},e),{},{integrationsModalOpen:"true"})),l("true")}),[s,e]);return{isIntegrationsVisible:r,hideIntegrations:(0,a.useCallback)((function(){(0,c.xs)(u(u({},e),{},{integrationsModalOpen:""})),l("")}),[e]),onIntegrationsClick:d}}},77796:function(e,t,n){n.d(t,{in:function(){return s},ev:function(){return m},rw:function(){return p}});var r=n(93433),o=n(4942),a=(n(2707),n(85827),n(41539),n(25387),n(2490),n(72608),n(92222),n(47941),n(82526),n(57327),n(88449),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070),n(4480)),i=(0,a.cn)({key:"alertIdsByNodeId",default:{}});function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[],s=(0,a.nZ)({key:"nodesAlertIdsState",get:function(e){return(0,e.get)(i)},set:function(e,t){return(0,e.set)(i,t)}}),d=(0,a.CG)({key:"nodeAlertIdsState",get:function(e){return function(t){return(0,t.get)(i)[e]||u}},set:function(e){return function(t,n){(0,t.set)(i,(function(t){return l(l({},t),{},(0,o.Z)({},e,(0,r.Z)(n).sort((function(e,t){return e.id-t.id}))))}))}}}),f=(0,a.CG)({key:"nodesAlertIdsState",get:function(e){return function(t){var n=(0,t.get)(i);return e.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(n[t]||[]))}),[])}},cachePolicy_UNSTABLE:{eviction:"most-recent"}}),m=function(e){return(0,a.sJ)(d(e))},p=function(e){return(0,a.sJ)(f(e))}},4312:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(87462),o=n(45987),a=n(67294),i=n(82351),c=n(60677),l=n(57509),u=(0,c.default)(l.Flex).attrs((function(){return{width:{max:"315px"},overflow:"hidden"}})).withConfig({displayName:"styled__Container",componentId:"sc-d9qxpb-0"})(["color:",";"],(0,l.getColor)("bright")),s=["children"],d=function(e){var t=e.children,n=(0,o.Z)(e,s);return a.createElement(u,(0,r.Z)({"data-testid":"nodeInfoContent"},n),t)},f=n(89050),m=["align","badge","base","children","connectivityState","content","isBasic","status","nodeName","nodeType"],p=function(e){var t=e.align,n=void 0===t?"bottom":t,c=e.badge,l=e.base,u=void 0===l?{background:"main",padding:[2]}:l,s=e.children,p=e.connectivityState,g=e.content,v=e.isBasic,b=void 0===v||v,y=e.status,h=e.nodeName,w=e.nodeType,O=(0,o.Z)(e,m);return a.createElement(i.Z,(0,r.Z)({align:n,base:u,content:function(){return a.createElement(d,{"data-testid":"nodeInfoTooltip-tooltipContent"},g||(0,f.yK)(c,p,y,h,w))},"data-testid":"nodeInfoTooltip",isBasic:b},O),s)}},39583:function(e,t,n){n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(87462),o=n(4942),a=n(45987),i=n(67294),c=n(57509),l=n(12008),u=n(77796),s=n(89050),d=n(4312),f=["id","isLive","name","onClick"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.id,n=e.isLive,o=e.name,m=e.onClick,g=(0,a.Z)(e,f),v=(0,u.ev)(t),b=(0,l.n_)(v),y=b.critical,h=b.warning,w=p(p({},(null===g||void 0===g?void 0:g["data-testid"])&&{dataTestId:null===g||void 0===g?void 0:g["data-testid"]}),{},{isLive:n}),O=(0,s.kR)(p({count:y,type:"critical"},w)),x=(0,s.kR)(p({count:h,type:"warning"},w));return i.createElement(d.Z,(0,r.Z)({badge:"alerts","data-testid":"node-alerts",nodeName:o},g),i.createElement(c.AlertMasterCard,{onClick:O.text||x.text?m:null,pillLeft:O,pillRight:x}))}},72233:function(e,t,n){var r=n(87462),o=n(45987),a=n(67294),i=n(57509),c=n(89050),l=n(4312),u=["children","badge","enabled","name","onClick"];t.Z=function(e){var t=e.children,n=e.badge,s=e.enabled,d=e.name,f=e.onClick,m=(0,o.Z)(e,u),p=(0,c.Dy)(s);return a.createElement(l.Z,(0,r.Z)({badge:n,"data-testid":"node-".concat(n,"-status"),status:p.status,nodeName:d},m),a.createElement(i.Flex,{alignItems:"center",gap:2,onClick:s?f:void 0,cursor:s&&f?"pointer":"default","data-ga":"nodes-list::click-capability::".concat(p.label)},t,a.createElement(i.Pill,{background:p.background,borderColor:p.border,color:p.color,padding:[1,2],textSize:"small"},p.label)))}},53030:function(e,t,n){var r,o=n(87462),a=n(67294),i=n(57509),c=n(4312),l=n(37518),u=n(74059),s=n(15418),d=(r=i.Button,function(e){var t=(0,l.Hm)(),n=(0,u.Q6)();return a.createElement(s.Z,{permission:"node:Create"},(function(l){var u=a.createElement(r,(0,o.Z)({disabled:!l},e));return l?u:a.createElement(c.Z,{content:n?"You are viewing your local node, connect to cloud and connect multiple nodes to view at once":"Only admin users can add nodes to ".concat(t.name),"data-testid":"addNodeTooltipContainer"},a.createElement(i.Box,null,u))}))});t.Z=d},99322:function(e,t,n){n.d(t,{e8:function(){return i},uy:function(){return c}});var r=n(4480),o=n(37518),a={ids:(0,r.xu)({key:"roomAlertIds",default:[]}),error:(0,r.xu)({key:"roomAlertError",default:null}),updatedAt:(0,r.xu)({key:"roomAlertsUpdatedAt",default:""}),loaded:(0,r.xu)({key:"roomAlertsLoaded",default:!1})},i=(0,r.CG)({key:"roomAlertState",get:function(e){var t=e.id,n=e.key;return function(e){return(0,e.get)(a[n](t))}},set:function(e){var t=e.id,n=e.key;return function(e,r){(0,e.set)(a[n](t),r)}}}),c=function(e){return function(e,t){return(0,r.sJ)(i({id:e,key:t}))}((0,o.UL)(),e)}}}]);