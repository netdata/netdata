!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="76266235-2fe2-4216-86c8-80794dddf037",e._sentryDebugIdIdentifier="sentry-dbid-76266235-2fe2-4216-86c8-80794dddf037")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"ed021627f8d20b39f0609a37950c1a1e11c33d03"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[43],{16512:function(e,t,a){a.d(t,{Q0:function(){return l},R4:function(){return m},TT:function(){return s},WL:function(){return c},Y:function(){return d},by:function(){return u},qY:function(){return r},rU:function(){return h},xL:function(){return i}});var n=a(60677),o=a(22195);const l=n.default.img.withConfig({displayName:"styled__Illustration",componentId:"sc-1yhntgl-0"})(["margin:0 auto;"]),r=(0,n.default)(o.Text).withConfig({displayName:"styled__StyledText",componentId:"sc-1yhntgl-1"})(["display:block;"]),d=n.default.div.withConfig({displayName:"styled__TextHeader",componentId:"sc-1yhntgl-2"})(["margin-bottom:",";font-weight:700;"],(0,o.getSizeBy)(2)),c=n.default.div.withConfig({displayName:"styled__StaticCheckmarks",componentId:"sc-1yhntgl-3"})(["margin-top:",";margin-bottom:",";"],(0,o.getSizeBy)(2),(0,o.getSizeBy)(5)),s=n.default.div.withConfig({displayName:"styled__CheckmarkLine",componentId:"sc-1yhntgl-4"})(["display:flex;align-items:center;"]),i=(0,n.default)(o.Icon).withConfig({displayName:"styled__StyledIcon",componentId:"sc-1yhntgl-5"})(["margin-right:4px;height:18px;> use{fill:",";}"],(0,o.getColor)("primary")),u=(0,n.default)(i).withConfig({displayName:"styled__HelpIcon",componentId:"sc-1yhntgl-6"})(["vertical-align:middle;"]),m=n.default.div.withConfig({displayName:"styled__LearnMoreSection",componentId:"sc-1yhntgl-7"})(["margin-top:",";"],(0,o.getSizeBy)(4)),h=n.default.a.withConfig({displayName:"styled__Link",componentId:"sc-1yhntgl-8"})(["text-decoration:underline;color:",";&:visited{color:",";}"],(0,o.getColor)("success"),(0,o.getColor)("success"))},4193:function(e,t,a){a.r(t),a.d(t,{default:function(){return ze}});var n=a(67294),o=a(89250),l=a(39878),r=a(4474),d=a(74059),c=a(29748),s=a(37518),i=a(5934),u=a(47133),m=a(54227),h=a(79619),g=a(78266);var p=()=>n.createElement(g.Z,{title:"Loading charts...","data-testid":"dashboardLoading"}),f=(a(33948),a(61152)),b=a(87462),E=a(22195),C=a(87574),v=a(97945);var y=e=>{let{compact:t,...a}=e;const[,o]=(0,f.Z)("addChartModal"),l=(0,v.Mm)().length>0;return n.createElement(E.Flex,(0,b.Z)({column:!0,alignItems:"center",justifyContent:"center",overflow:{vertical:"auto"},flex:!0,basis:0,"data-testid":"dashboardBlankSlate"},a),!t&&n.createElement(E.Flex,{as:"img",src:C.X,height:"35%"}),n.createElement(E.H3,{margin:[6,0,2]},"Empty Dashboard"),l?n.createElement(n.Fragment,null,n.createElement(E.Text,{textAlign:"center"},"Let\u2019s fill your dashboard."),n.createElement(E.Text,{textAlign:"center"},"Go to a node view or node list and add one chart to this Dashboard or just use")):n.createElement(n.Fragment,null,n.createElement(E.Text,{textAlign:"center"},"You don't have any available node to retrieve charts from."),n.createElement(E.Text,{textAlign:"center"},"Please verify your nodes' state and/or connect a new node to Netdata Cloud")),!t&&n.createElement(E.Button,{margin:[8,0,0,0],onClick:o,disabled:!l,label:"Add chart","data-testid":"dashboardBlankSlate-addChart"}))},x=(a(57640),a(9924),a(31672),a(2490),a(59461),a(16645)),w=a(7693),I=a(92903),k=a(96929),D=a(40970),S=a(89479),_=a(91128),T=a(97723),N=(a(15581),a(34514),a(89692)),M=a(16978),Z=a(9058),F=a(82351);const L=()=>n.createElement(E.Flex,{column:!0,width:"300px",gap:1},n.createElement(E.TextSmall,{strong:!0,color:"white"},"Not finding a chart?"),n.createElement(E.TextSmall,{color:"white"},"When selecting",n.createElement(E.TextSmall,{strong:!0,color:"white",margin:[0,1]},"All Nodes"),"you search and add charts using their context. The outcome will be a composite chart over All Nodes, like on the Overview tab."),n.createElement(E.TextSmall,{color:"white"},"When you select a",n.createElement(E.TextSmall,{strong:!0,color:"white",margin:[0,1]},"specific Node"),"you search and add charts using their name. The result is a specific chart over the node selected, like on Single Node tab."));var B=()=>n.createElement(F.Z,{isBasic:!0,plain:!0,content:L,align:"bottom"},n.createElement(E.Icon,{name:"question",color:"textDescription",size:"small"}));var A=e=>{let{spaceId:t,roomId:a,value:o,onChange:l,options:r,testid:d,selectedNodeIds:c}=e;const s=null===o||void 0===o?void 0:o.value,i=(0,Z.e)(),u=(0,S.Cd)(s&&a,s),m=(0,n.useMemo)((()=>{i.getNodes({id:"newDashboardChart"}).forEach((e=>e.destroy()));const{info:e,valueRange:n,height:o,colors:l}=(0,N.ZP)(u),r=i.makeChart({attributes:{id:"newDashboardChart",contextScope:[s],host:"/api/v3/spaces/".concat(t,"/rooms/").concat(a),roomId:a,info:e,valueRange:n,height:"".concat(o+207,"px"),enabledNavigation:!1,selectedNodes:c,...l&&{colors:l}}});return i.getRoot().appendChild(r),r}),[i,s]);return(0,n.useEffect)((()=>()=>m.destroy()),[]),n.createElement(E.Flex,{gap:6,column:!0},n.createElement(E.Flex,{gap:2,column:!0,"data-testid":d},n.createElement(E.Flex,{gap:2},n.createElement(E.H5,null,"Context in room overview"),n.createElement(B,null)),n.createElement(E.Select,{options:r,value:o,onChange:l,isClearable:!0,form:d})),o&&n.createElement(E.Flex,{height:{min:"320px"},column:!0},n.createElement(M.Z,{chart:m,margin:[2,0,0]})))};const H={label:"All Nodes",value:"all-nodes"},O={label:"All Nodes (no reachable nodes)",value:"all-nodes",isDisabled:!0},R=e=>{let{id:t,isLive:a,name:n}=e;return{label:a?n:"".concat(n," (offline)"),value:t,isDisabled:!a}},U=e=>({value:e,label:e});var P=e=>{let{id:t,onClose:a}=e;const o=(0,d.th)(),l=(0,s.UL)(),r=(0,u.LJ)(t,"name"),c=(0,s.Hm)("name"),i=(0,k.zN)(),m=(0,v.HZ)().length>0,h=(0,k.fD)(),g=(0,v.Ne)(i),p=(0,T.jN)(t),f=m?H:O,[b,C]=(0,n.useState)(f.value),[y,N]=(0,n.useState)(null),M=(0,n.useMemo)((()=>[f,...g.map(R)]),[g]),F=(0,n.useMemo)((()=>M.find((e=>{let{value:t}=e;return t===b}))),[M,b]),L=(0,n.useCallback)((e=>{C((null===e||void 0===e?void 0:e.value)||f.value),N(null)}),[]),B=(0,n.useMemo)((()=>b===f.value?[]:[b]),[b]),P=(0,D.Z)(l,B,{spaceId:o});if(P)throw P;const j=(0,S.Cd)(l),W=(0,n.useMemo)((()=>Object.keys(j).sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"accent"}))).map(U)),[j]);(0,n.useEffect)((()=>{W.length&&F&&N((e=>e||W[0].value))}),[y,W,F]);const z=(0,n.useMemo)((()=>y&&U(y)),[y]),J=(0,n.useCallback)((e=>N(null===e||void 0===e?void 0:e.value)),[]),Y=j[y],q=(0,Z.e)(),V=(0,n.useCallback)((()=>{const e=q.getNode({id:"newDashboardChart"}),{aggregationMethod:t,selectedDimensions:n,groupBy:o,groupByLabel:l,groupingMethod:r,chartType:d,selectedLabels:c,selectedNodes:s,selectedInstances:i,nodesScope:u,contextScope:m}=e.getAttributes();p(m,{aggregationMethod:t,selectedDimensions:n,groupBy:o,groupByLabel:l,groupingMethod:r,chartType:d,selectedLabels:c,selectedNodes:s,selectedInstances:i,nodesScope:u},(()=>setTimeout(a)))}),[b,Y]),K=!y,Q=(0,_.Z)();return(0,n.useEffect)((()=>(Q(!0),()=>Q(!1)))),n.createElement(x.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:a,overflow:"visible"},n.createElement(w.x,{onClose:a,title:"Add Chart to Dashboard"},n.createElement(E.Button,{label:"Add chart",icon:"plus",onClick:V,disabled:K,"data-testid":"addChartModal-addChart-button"})),n.createElement(I.B,null,"Add Charts to ",r),n.createElement(x.TZ,{overflow:"visible"},n.createElement(E.Flex,{gap:6,column:!0},n.createElement(E.Flex,{gap:2,column:!0,"data-testid":"addChartModal-selectNodes"},n.createElement(E.H5,null,"Nodes in ",c),n.createElement(E.Select,{options:M,value:F,onChange:L,isLoading:!h,isClearable:!0,form:"addChartModal-selectNodes"})),z&&n.createElement(A,{id:t,spaceId:o,roomId:l,value:z,onChange:J,options:W,testid:"addChartModal-selectChart",selectedNodeIds:B}))))},j=a(91268);var W=e=>{let{text:t,TextComponent:a=E.Text,...o}=e;const l=(0,n.useRef)(),[r,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!l.current)return;const e=l.current.offsetWidth<l.current.scrollWidth;d(e)}),[]);const c=n.createElement(a,(0,b.Z)({ref:l,truncate:!0},o),t);return r?n.createElement(F.Z,{content:t,align:"bottom",stretch:"align",isBasic:!0},c):c};var z=e=>{let{id:t}=e;const a=(0,u.LJ)(t,"name");return n.createElement(W,{TextComponent:E.H0,text:a})};var J=()=>{const[,e]=(0,f.Z)("addChartModal");return(0,v.Mm)().length>0?n.createElement(E.Button,{neutral:!0,flavour:"hollow",label:"Add chart",icon:"chart_added",onClick:e,"data-testid":"dashboardHeaderActionBar-addChart-button","data-ga":"action-bar::click-add-chart::cust-dashboard"}):null};var Y=e=>{let{id:t}=e;const a=(0,T.Kq)(t);return n.createElement(E.Button,{neutral:!0,flavour:"hollow",label:"Add text",icon:"text_add",onClick:a,"data-testid":"dashboardHeaderActionBar-addText-button","data-ga":"action-bar::click-add-text::cust-dashboard"})},q=a(93017),V=a(67336),K=a(14428);var Q=e=>{let{id:t}=e;const[,a]=(0,q.Z)(),o=(0,V.O9)(t,{onFail:a}),l=(0,u.LJ)(t,"processing"),r=(0,u.LJ)(t,"isOwner"),d=(0,u.DS)(t);return n.createElement(K.Z,{permission:r?"dashboard:Update":"dashboard:UpdateSelf",flavour:"hollow",label:"Save",icon:"save",onClick:o,disabled:d,isLoading:l,"data-testid":"dashboardHeaderActionBar-save-button","data-ga":"action-bar::click-save::cust-dashboard"})};const X=e=>{let{id:t}=e;return n.createElement(E.Flex,{gap:2},n.createElement(J,null),n.createElement(Y,{id:t}),n.createElement(Q,{id:t}))};var G=(0,n.memo)(X),$=a(71992),ee=a(46667),te=a(62200),ae=a(59112),ne=a(16512);var oe=e=>{let{close:t}=e;const[a,l]=(0,n.useState)(!0),r=(0,u.r0)(),[d,c]=(0,u.HI)({id:r,key:"name"}),[i,h]=(0,n.useState)(d),g=(0,V.O9)(r),p=(0,m.UK)(),f=(0,o.s0)(),b=(0,s.A3)(),v=i.length>0,y=a&&v&&i!==d,k=(0,n.useCallback)((()=>{c(i),g().then((e=>{let{data:a}=e;const{slug:n}=a,o="".concat(b,"/dashboards/").concat(n);p({id:r,slug:n,path:o}),f(o,{replace:!0}),t()}))}),[t,i,r,b]);return n.createElement(x.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t,"data-testid":"renameDashboard-modal"},n.createElement(w.x,{onClose:t,title:"Rename Dashboard"},n.createElement(E.Button,{label:"Save Changes",onClick:k,disabled:!y})),n.createElement(I.B,{"data-testid":"renameDashboard-title"},"Rename dashboard ",d),n.createElement(x.TZ,null,n.createElement(ae.Z,{value:i,label:"Name",onChange:e=>{h(e.target.value)},isValid:a,setIsValid:l,isDirty:v,instantFeedback:"all",onKeyDown:e=>e.keyCode===te.DV&&y&&k(),"data-testid":"renameDashboard-input"}),n.createElement(E.Flex,{column:!0,justifyContent:"between",height:"100%",margin:[8,0,16],"data-testid":"renameDashboard-learnMoreSection"},n.createElement(ne.R4,null,n.createElement(ne.by,{name:"help"}),n.createElement(E.Text,null,"Learn more about Dashboards")," ",n.createElement(ne.rU,{href:"https://learn.netdata.cloud/docs/cloud/visualize/dashboards",target:"_blank",rel:"noopener noreferrer"},"In our documentation")),n.createElement(ne.Q0,{src:C.X,alt:"No nodes",title:"No nodes"}))))};var le=()=>{const e=(0,o.s0)(),t=(0,d.uk)(),a=(0,s.vf)(),l=(0,u.r0)(),{name:r}=(0,u.LJ)(l),c=(0,s.Hm)("name"),[i,,m,h]=(0,ee.Z)(),[g,,p,f]=(0,ee.Z)(),b=(0,n.useCallback)((()=>{e("/spaces/".concat(t,"/rooms/").concat(a,"/dashboards"))}),[t,a]),C=(0,T.CO)(l,{onSuccess:b});return n.createElement(n.Fragment,null,n.createElement($.Z,{category:"dashboard",context:"title",testId:"dashboardDropdown"},(e=>{let{close:t}=e;return n.createElement(n.Fragment,null,n.createElement($.h,{icon:"pencilOutline",onClick:()=>{t(),p()},"data-testid":"renameDashboard-option","data-ga":"dropdown-item::click-rename-dashboard::cust-dashboard"},"Rename Dashboard"),n.createElement($.h,{icon:"trashcan",color:"errorText",onClick:()=>{t(),m()},"data-testid":"removeDashboard-option","data-ga":"dropdown-item::click-remove-dashboard::cust-dashboard"},"Delete Dashboard"))})),g&&n.createElement(oe,{close:f}),i&&n.createElement(E.ConfirmationDialog,{confirmLabel:"Yes, delete","data-ga":"delete-dashboard-dialog","data-testid":"deleteDashboardDialog",handleConfirm:C,handleDecline:h,message:n.createElement(n.Fragment,null,"You are about to delete ",n.createElement("strong",null,r)," from ",n.createElement("strong",null,c),".",n.createElement("br",null),"Are you sure you want to continue?"),title:"Delete ".concat(r)}))};const re=e=>{let{id:t}=e;return n.createElement(E.Flex,{justifyContent:"between",padding:[3,2.5],"data-testid":"dashboardHeader"},n.createElement(E.Flex,{alignItems:"center"},n.createElement(le,null),n.createElement(z,{id:t})),n.createElement(G,{id:t}))};var de=(0,n.memo)(re),ce=a(69968),se=a.n(ce),ie=(a(48564),a(79424),a(6811));const ue=(0,ce.WidthProvider)(se()),me=(0,n.forwardRef)(((e,t)=>{let{style:a,className:o,onMouseDown:l,onMouseUp:r,onTouchEnd:d,children:c,...s}=e;return n.createElement("div",(0,b.Z)({style:a,className:o,ref:t,onMouseDown:l,onMouseUp:r,onTouchEnd:d},s),c.map((e=>"function"===typeof e?e({onMouseDown:l,onMouseUp:r,onTouchEnd:d}):e)))})),he=e=>{let{i:t,x:a,y:n,w:o,h:l,minW:r,minH:d}=e;return{i:t,x:a,y:n,w:o,h:l,minW:r,minH:d}},ge=e=>{let{id:t,Component:a,...o}=e;const[l,r]=(0,ie.ZL)(t),d=(0,n.useCallback)((e=>{const t=e.map(he);r(t)}),[]),c=(0,n.useMemo)((()=>l.map((e=>{let{i:o}=e;return n.createElement(me,{key:o},(e=>n.createElement(a,(0,b.Z)({key:o,id:t,cardId:o},e))))}))),[l]);return n.createElement(E.Flex,{column:!0,gap:2,width:"100%",overflow:"auto"},n.createElement(ue,(0,b.Z)({},o,{layout:l,onLayoutChange:d,measureBeforeMount:!0,useCSSTransforms:!0,preventCollision:!1,isDroppable:!0}),c))};ge.defaultProps={rowHeight:30,cols:12};var pe=ge,fe=a(45215),be=a(22841),Ee=a(60677);var Ce=(0,Ee.default)(E.Flex).attrs({height:"100%",background:"mainBackground",round:!0,cursor:"move"}).withConfig({displayName:"container__Card",componentId:"sc-esi601-0"})(["box-shadow:0px 0px 1px rgba(0,0,0,0.04),0px 2px 6px rgba(0,0,0,0.04),0px 10px 20px rgba(0,0,0,0.04);"]);const ve=(0,Ee.default)(E.Flex).attrs({column:!0,cursor:"default",height:{max:"100%"},overflow:"hidden",onMouseDown:e=>e.stopPropagation()}).withConfig({displayName:"content__CardContent",componentId:"sc-1x8kdiw-0"})([""]);var ye=e=>{let{chart:t}=e;return n.createElement(ve,{flex:!0,"data-testid":"chartContent"},n.createElement(M.Z,{chart:t}))};const xe=(0,n.memo)((e=>{let{id:t,cardId:a,onMouseDown:o,onMouseUp:l,onTouchEnd:r,...d}=e;const c=(0,Z.e)(),{nodeId:s,...i}=(0,be._q)(t,a)||{},u=(0,n.useMemo)((()=>{const e=c.makeChart({attributes:{cardId:a,dashboardId:t,...i,...!!s&&{nodesScope:[s]}},makeTrack:fe.vL});return(0,fe.ZO)(c,t).appendChild(e),e}),[t,a]);return(0,n.useLayoutEffect)((()=>{u.updateAttributes({onMouseDownDrag:o,onMouseUpDrag:l,onTouchEndDrag:r})}),[o,l,r]),n.createElement(Ce,(0,b.Z)({"data-testid":"chart","data-testId":"chartCard-".concat((i.contextScope||[]).join(","))},d),n.createElement(ye,{chart:u}))}));var we=xe;const Ie="text",ke="customDashboard",De=e=>{let{id:t,cardId:a,onClick:o}=e;const l=(0,be.I_)(t,a,"editing"),r=(0,be.IT)(t,a,"editing");return n.createElement($.h,{icon:"pencilSolid",onClick:()=>{o(),r(!0)},"data-ga":"".concat(Ie,"-reset::").concat(ke),"data-testid":"textCard-edit",disabled:l},"Edit")},Se=e=>{let{id:t,cardId:a}=e;const o=(0,T.Zj)(t,a);return n.createElement($.h,{icon:"trashcan",onClick:o,"data-ga":"".concat(Ie,"-reset::").concat(ke),"data-testid":"textCard-remove"},"Remove")};var _e=e=>{let{id:t,cardId:a}=e;return n.createElement($.Z,{category:Ie,context:ke,testId:"chartTextDropdown"},(e=>{let{close:o}=e;return n.createElement(n.Fragment,null,n.createElement(De,{id:t,cardId:a,onClick:o}),n.createElement(Se,{id:t,cardId:a}))}))};var Te=e=>{let{id:t,cardId:a}=e;return n.createElement(E.Flex,{alignSelf:"start","data-testid":"textCardHeader"},n.createElement(_e,{id:t,cardId:a}))};const Ne=(0,a(2145).Z)((()=>Promise.all([a.e(575),a.e(189)]).then(a.bind(a,8937))),"Editor");var Me=e=>n.createElement(n.Suspense,{fallback:""},n.createElement(Ne,e));const Ze=(0,Ee.default)(E.Flex).attrs({as:"form",column:!0,flex:!0,gap:2,onMouseDown:e=>e.stopPropagation()}).withConfig({displayName:"form__CardContent",componentId:"sc-3tcqxu-0"})(["cursor:auto;"]),Fe={toolbar:!1,placeholder:{text:"Type your text",hideOnClick:!1}};var Le=e=>{let{id:t,cardId:a}=e;const o=(0,be.I_)(t,a,"text"),l=(0,be.IT)(t,a,"editing"),r=(0,be.IT)(t,a,"text"),[d,c]=(0,n.useState)(o),s=(0,n.useCallback)((()=>l(!1)),[]),i=(0,n.useCallback)((()=>{r(d),l(!1)}),[d]);return n.createElement(Ze,{"data-testid":"textCardForm"},n.createElement(E.Flex,{round:!0,border:!0,padding:[2],column:!0},n.createElement(Me,{autoFocus:!0,text:d,options:Fe,onChange:c})),n.createElement(E.Flex,{justifyContent:"end",gap:1},n.createElement(E.Button,{type:"button",flavour:"borderless",label:"Cancel",small:!0,width:"initial",onClick:s,"data-testid":"textCardForm-cancel"}),n.createElement(E.Button,{type:"button",label:"Done",small:!0,width:"initial",onClick:i,"data-testid":"textCardForm-done"})))};const Be=e=>e.stopPropagation(),Ae={toolbar:!1,disableEditing:!0,placeholder:{text:"Type your text",hideOnClick:!1}};var He=e=>{let{id:t,cardId:a}=e;const o=(0,be.I_)(t,a,"text");return n.createElement(E.Box,{"data-testid":"textCardContent",onMouseDown:Be},n.createElement(Me,{text:o,options:Ae}))};const Oe=(0,Ee.default)(Ce).withConfig({displayName:"text__StyledCard",componentId:"sc-1f67m9f-0"})(["cursor:move;"]);const Re={chart:we,text:(0,n.memo)((e=>{let{id:t,cardId:a}=e;const o=(0,be.I_)(t,a,"editing");return n.createElement(Oe,{column:!0,"data-testid":"textCard"},n.createElement(Te,{id:t,cardId:a}),o&&n.createElement(Le,{id:t,cardId:a}),!o&&n.createElement(He,{id:t,cardId:a}))}))};var Ue=e=>{let{id:t,cardId:a,...o}=e;const l=(0,be.I_)(t,a,"type"),r=Re[l]||Re.chart;return n.createElement(r,(0,b.Z)({id:t,cardId:a},o))};var Pe=e=>{let{id:t,...a}=e;return(0,fe.ZP)(t),n.createElement(pe,(0,b.Z)({id:t,Component:Ue},a))};const je=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{navigator:a}=(0,n.useContext)(o.Us),l=(0,o.TH)();(0,n.useEffect)((()=>{if(!t)return;const n=a.block((t=>{const a={...t,retry(){n(),t.retry()}};e(a)}));return n}),[a,e,t,l])}((0,n.useCallback)((t=>{"REPLACE"!==t.action?window.confirm(e)&&t.retry():t.retry()}),[e]),t)};var We=e=>{let{id:t}=e;const[a,,,o]=(0,f.Z)("addChartModal"),{fullyLoaded:l,cardIds:r}=(0,u.LJ)(t);return(e=>{const t=(0,u.DS)(e);je("Are you sure you want to leave this dashboard?\nChanges will be lost.",!t)})(t),n.createElement(j.Z,{padding:[3],margin:[0,0,8,0]},n.createElement(de,{id:t}),l&&r.length>0&&n.createElement(Pe,{id:t}),l&&0===r.length&&n.createElement(y,null),a&&n.createElement(P,{id:t,onClose:o}))};var ze=(0,n.memo)((()=>{(0,c.Z)(),(()=>{const{dashboardSlug:e}=(0,o.UO)(),t=(0,l.Jh)(),a=(0,l.FP)();(0,n.useEffect)((()=>{a!==e&&t(e)}),[a,e]),(0,n.useEffect)((()=>()=>t(null)),[])})(),(0,r.Pf)();const e=(0,d.th)(),t=(0,d.uk)(),a=(0,s.UL)(),g=(0,s.vf)(),f=(0,u.r0)(),b=(0,u.FV)("slug");(0,m.bV)({title:b,id:f,destination:b,type:"dashboards"});const E=(0,i.L)();return(0,h.Z)(E&&f,{spaceId:e,spaceSlug:t,roomId:a,roomSlug:g})?n.createElement(p,null):n.createElement(We,{id:f})}))}}]);