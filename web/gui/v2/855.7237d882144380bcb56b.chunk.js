!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fae237dc-52e5-4621-bcbf-66317cb1e7db",e._sentryDebugIdIdentifier="sentry-dbid-fae237dc-52e5-4621-bcbf-66317cb1e7db")}catch(e){}}(),(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[855],{21197:(e,t,a)=>{a.d(t,{U:()=>p});var n=a(29439),r=a(67294),o=a(89250),c=a(12599),i=a(54851),s=a(77291),l=a(38700),u=a(72840),m=a(40924),d=a(53843),p=function(e){var t=e.onClose,a=e.isSubmodal,p=void 0===a||a,f=(0,l.th)(),g=(0,r.useState)(""),b=(0,n.Z)(g,2),v=b[0],h=b[1],y=(0,i.useInputValue)({maxChars:255,value:""}),O=(0,n.Z)(y,3),E=O[0],w=O[1],D=O[2],j=function(e){var t=(0,o.s0)(),a=(0,l.uk)();return(0,r.useMemo)((function(){return function(n){var r=n.slug,o=(0,c.Gn)("/spaces/:spaceSlug/rooms/:roomSlug",{spaceSlug:a,roomSlug:r});e(),t(o)}}),[a])}(t),C=(0,u.Dq)(f,{onSuccess:j}),I=(0,r.useCallback)((function(){C({name:v,description:E})}),[v,E]);return r.createElement(m.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:t},r.createElement(d.x,{onClose:t,isSubmodal:p,title:"Create a new War Room"},r.createElement(i.Button,{label:"Add",onClick:I,disabled:!v})),r.createElement(m.TZ,null,r.createElement(s.Q,{roomName:v,setRoomName:h,roomDescription:E,charsDescIndicator:D,setRoomDescription:w,isCreateForm:!0})))}},78145:(e,t,a)=>{a.d(t,{CE:()=>m,M5:()=>p,R4:()=>d,ZP:()=>f});var n=a(29439),r=a(67294),o=a(54851),c=a(38700),i=a(15267),s=a(72840),l=a(28969),u=a(26503),m=function(e){var t=1===e;return"Delete ".concat(e," ").concat(t?"room":"rooms")},d=function(e){return"Delete ".concat(e," room")},p=function(e){var t=e.name,a=e.roomsLength,n=e.spaceName,o=t||"".concat(a,1===a?" room":" rooms");return r.createElement(r.Fragment,null,"You are about to delete ",r.createElement("strong",null,o)," from ",r.createElement("strong",null,n)," space.",r.createElement("br",null),"This cannot be undone. Are you sure you want to continue?")};const f=function(e){var t=e.id,a=e.name,m=e.navigateToParent,f=(0,c.OS)("name"),g=(0,s.tE)(t,"untouchable"),b=(0,l.gI)(u.mk.roomDelete)&&!g,v=(0,s.IX)(t,{onSuccess:m}),h=(0,i.Z)(),y=(0,n.Z)(h,4),O=y[0],E=y[2],w=y[3];return b?r.createElement(r.Fragment,null,r.createElement(o.Button,{"data-testid":"manageWarRoom-delete",flavour:"hollow",onClick:E,label:"Delete room",danger:!0}),O&&r.createElement(o.ConfirmationDialog,{confirmLabel:"Yes, delete","data-ga":"delete-war-room-dialog","data-testid":"deleteWarRoomDialog",handleConfirm:v,handleDecline:w,message:r.createElement(p,{name:a,spaceName:f}),title:d(a)})):null}},77291:(e,t,a)=>{a.d(t,{Q:()=>S});var n=a(4942),r=a(29439),o=a(45987),c=a(67294),i=a(54851),s=a(6792),l=a(97510),u=a(72840),m=a(28969),d=a(26503),p=a(48155),f=a(15267);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var b="leave-war-room-dialog",v="leaveWarRoomDialog";const h=function(e){var t=e.id,a=e.name,o=e.navigateToParent,s=(0,p.IT)(t,"ids"),l=(0,u.iC)(t,{onSuccess:o}),m=(0,u.tE)(t,"untouchable"),d=(0,f.Z)(),h=(0,r.Z)(d,4),y=h[0],O=h[2],E=h[3],w=1===s.length&&!m?{"data-ga":"".concat(b,"-last-member"),"data-testid":"".concat(v,"LastMember"),message:c.createElement(c.Fragment,null,"If you leave, ",c.createElement("strong",null,a)," room will be deleted immediately.",c.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(a," room")}:{"data-ga":b,"data-testid":v,message:c.createElement(c.Fragment,null,"You are about to leave ",c.createElement("strong",null,a)," room.",c.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(a," room")};return c.createElement(c.Fragment,null,c.createElement(i.Button,{"data-ga":"manage-war-room-tab::click-leave-war-room::manage-war-room-modal","data-testid":"manageWarRoom-leave",icon:"switch_off",flavour:"borderless",label:"Leave room",neutral:!0,padding:[0],width:"fit-content",onClick:O}),y&&c.createElement(i.ConfirmationDialog,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({confirmLabel:"Yes, leave",handleConfirm:l,handleDecline:E},w)))};var y=a(78145),O=a(78473),E=["charsIndicator","isDisabled","isValid","handleChange","setIsValid","setValidationMessage","validationMessage","value"];function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=(0,O.A)([function(e){var t=e.length>=1;return(0,O.f)(t,"Give your War Room a name that's at least one character.")},function(e){var t=e.length<=20;return(0,O.f)(t,"A War Room's name can't exceed 20 characters.")}]);const j=function(e){var t=e.charsIndicator,a=e.isDisabled,s=e.isValid,l=e.handleChange,u=e.setIsValid,m=e.setValidationMessage,d=e.validationMessage,p=e.value,f=(0,o.Z)(e,E),g=(0,i.useTouchedState)({}),b=(0,r.Z)(g,2),v=b[0],h=b[1];return(0,c.useEffect)((function(){var e=D(p),t=e.isValid,a=e.messages&&e.messages.length?e.messages[0]:void 0;!s&&t?u(!0):s&&!t&&u(!1),a&&m(a)}),[s,u,p,v,m]),c.createElement(i.TextInput,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({"data-testid":"warRoomOptions-warRoomNameInput",label:"War Room name",name:"createRoom",placeholder:"Enter your War Room's name",fieldMessage:"Tip: Use War Rooms to group your Nodes by their service, purpose, or location.",fieldIndicator:t,value:p,touched:v,onBlur:h,onChange:l,success:s,error:!s&&d,instantFeedback:"all",disabled:a,autoFocus:!0},f))};var C=["id","navigateToParent","isCreateForm","roomName","setRoomName","roomDescription","setRoomDescription","charsDescIndicator","onSaveClick"];function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=new RegExp(/^[\w\s\d]*?$/),S=function(e){var t=e.id,a=e.navigateToParent,p=e.isCreateForm,f=e.roomName,g=e.setRoomName,b=e.roomDescription,v=e.setRoomDescription,O=e.charsDescIndicator,E=e.onSaveClick,w=(0,o.Z)(e,C),D=(0,u.tE)(t),S=(0,l.J7)(),x=(0,c.useState)(!1),R=(0,r.Z)(x,2),k=R[0],Z=R[1],T=(0,c.useState)(""),W=(0,r.Z)(T,2),F=W[0],B=W[1],N=(0,c.useState)(""),V=(0,r.Z)(N,2),_=V[0],z=V[1],L=(0,i.useInputValue)({maxChars:s.v$}),M=(0,r.Z)(L,1)[0],A=(0,c.useCallback)((function(e){return g(e.target.value)}),[g]),Y=!!t,U=((0,m.gI)(d.mk.roomLeaveAllNodes)||!D.untouchable)&&S.length>1&&D.isMember,J=(0,i.useTouchedState)({defaultState:!0}),X=(0,r.Z)(J,2),$=X[0],q=X[1],G=!D.name||f===D.name&&b===D.description;return(0,c.useEffect)((function(){z(P.test(b)&&$?"":"The description can only contain digits, letters, and spaces.")}),[$,b]),c.createElement(i.Flex,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({column:!0,"data-testid":"manageWarRoom",flex:"grow",justifyContent:"between",height:"100%"},w),c.createElement(i.Flex,{column:!0,"data-testid":"manageWarRoom-settings",gap:2},c.createElement(i.Box,{"data-testid":"manageWarRoom-createRoomInputBox"},c.createElement(j,{"data-testid":"manageWarRoom-createRoomInput",value:f,handleChange:A,charsIndicator:M,validationMessage:F,setValidationMessage:B,isValid:k,setIsValid:Z,isDisabled:Y&&D.untouchable})),c.createElement(i.Box,{"data-testid":"manageWarRoom-descriptionInputBox"},c.createElement(i.TextInput,{"data-testid":"manageWarRoom-descriptionInput",label:"Description",name:"roomDescription",placeholder:"Type War Room description",instantFeedback:"positiveFirst",touched:$,onBlur:q,fieldIndicator:O,error:""!==_&&_,success:""===_,value:b,onChange:v}))),c.createElement(i.Flex,{"data-testid":"manageWarRoom-actions"},c.createElement(i.Flex,{"data-testid":"manageWarRoom-deleteLeaveActions",gap:4},Y&&U&&c.createElement(h,{id:t,name:D.name,navigateToParent:a}),Y&&c.createElement(y.ZP,{id:t,name:f,navigateToParent:a})),!p&&c.createElement(i.Button,{"data-ga":"manage-war-room-tab::click-save::manage-war-room-modal","data-testid":"manageRoom-saveButton",label:"Save",onClick:E,disabled:G,margin:[0,0,0,"auto"]})))}},50526:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(4942),r=a(45987),o=a(93433),c=a(15861),i=a(64687),s=a.n(i),l=a(4480),u=a(96477),m=a(36727),d=a(35835),p=function(e,t){return d.Z.put("/api/v1/spaces/".concat(e,"/apps"),t)},f=["name"];function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){return e.map((function(e){return e.name}))};const h=function(e){return(0,l._8)((function(t){var a=t.snapshot,n=t.set,i=t.reset;return function(){var t=(0,c.Z)(s().mark((function t(c){var l,d,g,h,y,O,E,w,D=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=c.name,d=c.url,g=c.description,h=c.onFail,y=c.onSuccess,O=D.length>1&&void 0!==D[1]&&D[1],t.next=4,a.getPromise((0,u.Yp)(e));case 4:return E=t.sent,w=O?E.filter((function(e){var t=e.name;return l!==t})):[].concat((0,o.Z)(E),[{name:l,url:d,description:g}]),n((0,m.pX)(e),v(w)),O?i((0,u.pJ)({spaceId:e,appName:l})):n((0,u.pE)({spaceId:e,appName:l}),{name:l,url:d,description:g}),t.prev=8,t.next=11,p(e,w);case 11:t.next=18;break;case 13:t.prev=13,t.t0=t.catch(8),h&&h(),n((0,m.pX)(e),v(E)),O?E.forEach((function(t){var a=t.name,o=(0,r.Z)(t,f);return n((0,u.pE)({spaceId:e,appName:a}),b({name:a},o))})):i((0,u.Yp)({spaceId:e,appName:l}));case 18:return t.prev=18,y&&y(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[8,13,18,21]])})));return function(e){return t.apply(this,arguments)}}()}),[e])}},87060:(e,t,a)=>{a.d(t,{J:()=>h});var n=a(15861),r=a(29439),o=a(64687),c=a.n(o),i=a(67294),s=a(54851),l=a(40924),u=a(53843),m=a(16702),d=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.:;~+=-]*)?(\\#[;&a-z\\d%_.:;~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),p=a(38700),f=a(50526),g=a(73575),b=a(60677).default.div.withConfig({displayName:"creation-sidebarstyles__CreationBox",componentId:"sc-1mywzq8-0"})(["margin-top:30px;height:100%;padding-left:",";padding-right:",";display:flex;flex-direction:column;justify-content:flex-start;align-items:center;"],(0,s.getSizeBy)(6),(0,s.getSizeBy)(6)),v=/^https?:\/\//,h=function(e){var t=e.onToggle,a=e.isSubDialog,o=void 0!==a&&a,h=(0,p.th)(),y=(0,f.Z)(h),O=(0,i.useState)(""),E=(0,r.Z)(O,2),w=E[0],D=E[1],j=(0,s.useTouchedState)({}),C=(0,r.Z)(j,2),I=C[0],P=C[1],S=(0,s.useInputValue)({maxChars:g.rc}),x=(0,r.Z)(S,3),R=x[0],k=x[1],Z=x[2],T=(0,s.useInputValue)({maxChars:50}),W=(0,r.Z)(T,3),F=W[0],B=W[1],N=W[2],V=(0,s.useInputValue)({maxChars:g.rc}),_=(0,r.Z)(V,3),z=_[0],L=_[1],M=_[2],A=function(){return t(!1)},Y=function(){return t(!0)},U=function(){var e=(0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=3;break}return e.next=3,y({name:F,url:R,description:z,onSuccess:A,onFail:Y});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e;D((e=R,d.test(e)&&v.test(R)&&I?"":"This is not a valid URL"))}),[I,R]),i.createElement(l.u6,{right:!0,closeOnEsc:!0,closeOnOverlayClick:!0,onClose:A},i.createElement(u.x,{onClose:A,title:"Create a bookmark",isSubmodal:o},i.createElement(s.Button,{onClick:U,label:"Save",disabled:!!w||!F})),i.createElement(m.B,null,"Create an application bookmark"),i.createElement(b,null,i.createElement(s.TextInput,{onChange:B,value:F,fieldIndicator:N,label:"Name"}),i.createElement(s.TextInput,{onChange:k,onBlur:P,value:R,touched:I,error:w,label:"URL",fieldIndicator:Z}),i.createElement(s.TextInput,{onChange:L,value:z,fieldIndicator:M,label:"Description"})))}}}]);