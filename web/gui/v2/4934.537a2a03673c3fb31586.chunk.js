!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="926a47f1-0b16-40b5-b759-b45ffcec1344",e._sentryDebugIdIdentifier="sentry-dbid-926a47f1-0b16-40b5-b759-b45ffcec1344")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"244e9076fc96e7376f23eb1cdd133b10e73b7c56"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[4934],{39979:function(e,t,n){n.d(t,{Z:function(){return g}});n(47941),n(82526),n(57327),n(41539),n(88449),n(2490),n(59849),n(38880),n(15581),n(34514),n(54747),n(49337),n(33321),n(69070);var r=n(87462),a=n(4942),o=n(45987),c=n(67294),i=n(87267),u=["callback","feature","isStart","isSuccess","isFailure","eventReason","payload"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return(0,c.forwardRef)((function(t,n){var l=t.callback,d=t.feature,s=t.isStart,b=t.isSuccess,p=t.isFailure,y=t.eventReason,g=t.payload,O=void 0===g?{}:g,w=(0,o.Z)(t,u),m=(0,i.Z)(),v=m.sendLog,j=m.isReady,E=(0,c.useCallback)((function(){var e=w[l],t=f(f(f(f(f({feature:d,isStart:s,isSuccess:b,isFailure:p,eventReason:y},O),w["data-ga"]?{dataGa:w["data-ga"]}:{}),w.dataGa?{dataGa:w.dataGa}:{}),w["data-track"]?{dataTrack:w["data-track"]}:{}),w.label?{label:w.label}:{});"function"==typeof e&&e(),v(t,!0)}),[l,v,j,O,w]),k=(0,c.useMemo)((function(){return f(f({},w),{},(0,a.Z)({},l,E))}),[w,l,E]);return c.createElement(e,(0,r.Z)({ref:n},k))}))},s=n(16294),b=["payload"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){return(0,c.forwardRef)((function(t,n){var a=t.payload,i=void 0===a?{}:a,u=(0,o.Z)(t,b),l=d(e);return c.createElement(l,(0,r.Z)({},u,{ref:n,callback:"onClick",payload:y(y({},i),{},{action:s.Nw.buttonClicked})}))}))}},64934:function(e,t,n){n.r(t),n.d(t,{Trust:function(){return s}});var r=n(29439),a=(n(74916),n(64765),n(69826),n(41539),n(31672),n(2490),n(59461),n(88674),n(17727),n(15306),n(92222),n(67294)),o=n(17563),c=n(51154),i=n(1043),u=n(78266),l=n(39979),f=n(87267),d=(0,l.Z)(c.Button),s=function(){var e=(0,a.useMemo)((function(){var e=window.location.search,t=o.parse(e);return[t.redirect_uri,t.agent_uri]})),t=(0,r.Z)(e,2),n=t[0],l=t[1],s=(0,a.useState)(),b=(0,r.Z)(s,2),p=b[0],y=b[1],g=(0,i.So)(),O=(0,r.Z)(g,3),w=O[0],m=O[1],v=O[2],j=(0,i.aJ)({},[w]),E=(0,r.Z)(j,2),k=E[0],h=E[1],P=(0,f.Z)(),Z=P.sendLog,R=P.isReady;return(0,a.useEffect)((function(){var e=!0,t=null,r=k.find((function(e){return e.url===l}));return r?Z({feature:"TrustUrl",description:"Redirect due to trusted url"}).finally((function(){location.replace("/api/v1/auth/account/origins/".concat(r.id,"/redirect?redirect_uri=").concat(encodeURIComponent(n),"&agent_uri=").concat(encodeURIComponent(l)))})):t=setTimeout((function(){e&&y(!0)}),1e3),function(){e=!1,t&&(clearTimeout(t),t=null)}}),[n,l,k,R]),p?a.createElement(c.Layer,{full:!0},a.createElement(c.Flex,{"data-testid":"trust",alignItems:"center",justifyContent:"center",column:!0,width:"100%",height:"100%",background:"mainBackground",gap:4},a.createElement(u.H,{animate:v}),a.createElement(c.Text,{textAlign:"center"},"Do you trust ",a.createElement(c.Text,{strong:!0},l),"?"),a.createElement(c.Flex,{column:!0,gap:2,alignItems:"center"},a.createElement(c.TextBig,null,"Authorizing this URL will allow it to request your Netdata data."),a.createElement(c.Flex,{gap:2},a.createElement(d,{flavour:"borderless",onClick:function(){return window.location.replace(decodeURIComponent(n))},disabled:h||v,"data-ga":"url-authorization::click-cancel-button",feature:"TrustUrl",payload:{label:"Cancel"}},"Cancel"),a.createElement(d,{onClick:function(){return m(l)},disabled:h||v,isLoading:h||v,"data-ga":"url-authorization::click-yes-button",feature:"TrustUrl",payload:{label:"Yes"}},"Yes"))))):a.createElement(u.Z,null)};t.default=s}}]);