!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7056b0fe-0b23-4b8d-91f5-b9c512ecdab3",e._sentryDebugIdIdentifier="sentry-dbid-7056b0fe-0b23-4b8d-91f5-b9c512ecdab3")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"2df453d1740ea3fd4166e96ce96aba2123cc3bf5"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[6301],{16301:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(29439),r=(n(91058),n(67294)),o=n(23855),i=n(12274),l=n(33913),u=n(29422),s=n(84314),c=n(49474),d=n(50157),f=n(11699),m=n(8958),p=n(19013),b=n(82268),g=n(52149),D=n(24262),h=n(13882),w=1440,v=2520,y=43200,Z=86400;function x(e,t){return(0,h.Z)(1,arguments),function(e,t,n){var a,r;(0,h.Z)(2,arguments);var o=(0,s.j)(),i=null!==(a=null!==(r=null===n||void 0===n?void 0:n.locale)&&void 0!==r?r:o.locale)&&void 0!==a?a:m.Z;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=(0,c.Z)(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var u,x,E=(0,g.Z)((0,b.Z)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:l});l>0?(u=(0,p.default)(t),x=(0,p.default)(e)):(u=(0,p.default)(e),x=(0,p.default)(t));var I,S=(0,f.Z)(x,u),M=((0,D.Z)(x)-(0,D.Z)(u))/1e3,k=Math.round((S-M)/60);if(k<2)return null!==n&&void 0!==n&&n.includeSeconds?S<5?i.formatDistance("lessThanXSeconds",5,E):S<10?i.formatDistance("lessThanXSeconds",10,E):S<20?i.formatDistance("lessThanXSeconds",20,E):S<40?i.formatDistance("halfAMinute",0,E):S<60?i.formatDistance("lessThanXMinutes",1,E):i.formatDistance("xMinutes",1,E):0===k?i.formatDistance("lessThanXMinutes",1,E):i.formatDistance("xMinutes",k,E);if(k<45)return i.formatDistance("xMinutes",k,E);if(k<90)return i.formatDistance("aboutXHours",1,E);if(k<w){var X=Math.round(k/60);return i.formatDistance("aboutXHours",X,E)}if(k<v)return i.formatDistance("xDays",1,E);if(k<y){var P=Math.round(k/w);return i.formatDistance("xDays",P,E)}if(k<Z)return I=Math.round(k/y),i.formatDistance("aboutXMonths",I,E);if((I=(0,d.Z)(x,u))<12){var T=Math.round(k/y);return i.formatDistance("xMonths",T,E)}var _=I%12,L=Math.floor(I/12);return _<3?i.formatDistance("aboutXYears",L,E):_<9?i.formatDistance("overXYears",L,E):i.formatDistance("almostXYears",L+1,E)}(e,Date.now(),t)}var E=n(49546),I=n(26398),S=n(4480),M=n(13655),k=n(45916),X=n(91008),P=n(46667),T=(0,S.nZ)({key:"fetchLicense",get:function(){return I.Z.get("/api/v1/license").then((function(e){return e.data})).catch((function(){return null}))}}),_=(0,S.cn)({key:"licenseAtom",default:T}),L=function(){if(!window.envSettings.onprem)return null;var e=(0,S.$P)(_),t=(0,P.Z)(),n=(0,a.Z)(t,2),s=n[0],c=n[1],d=(0,r.useState)(),f=(0,a.Z)(d,2),m=f[0],p=f[1],b=(0,r.useState)(!1),g=(0,a.Z)(b,2),D=g[0],h=g[1];return(0,r.useEffect)((function(){if("hasValue"===e.state){var t=e.contents,n=(0,o.default)(t.exp);if(p(n),(0,i.default)(n)){var a=parseInt((n-new Date)/1e3/60/60/24);if(!(a>30)){var r=localStorage.getItem("dismissLicenceWarning");r&&(0,i.default)((0,o.default)(r))&&!(0,l.Z)((0,o.default)(r))&&a>0||(c(!0),a<0&&h(!0))}}}}),[e]),s?D?r.createElement(M.Layer,{full:!0,backdropProps:{backdropBlur:"3px"}},r.createElement(k.Z,{testId:"onprem-banner",width:"100%",background:"errorBackground",position:"absolute",top:"0",tooltipProps:{align:"top"},zIndex:20},r.createElement(M.Flex,{justifyContent:"center",alignItems:"center",width:"100%",gap:2},r.createElement(M.Text,null,"Your Netdata Enterprise On-prem License has expired on ",(0,E.default)(m,"PPPP"),". Please contact your admin /"," ",r.createElement(X.Z,{"data-testid":"renew",href:"mailto:billing@netdata.cloud",as:"a",cursor:"pointer",textDecoration:"underline",color:"main"},"billing@netdata.cloud")," ","to renew your license.")))):r.createElement(k.Z,{testId:"onprem-banner",width:"100%",background:"warningBackground",position:"absolute",top:"0",onClose:function(){c(),localStorage.setItem("dismissLicenceWarning",(0,u.Z)(new Date,{days:1}).toISOString())},tooltipProps:{align:"top"},zIndex:20},r.createElement(M.Flex,{justifyContent:"center",alignItems:"center",width:"100%",gap:2},r.createElement(M.Text,null,"Your Netdata Enterprise On-prem License will expire in ",x(m),". Please contact your admin /"," ",r.createElement(X.Z,{"data-testid":"renew",href:"mailto:billing@netdata.cloud",as:"a",cursor:"pointer",textDecoration:"underline",color:"main"},"billing@netdata.cloud")," ","to renew your license."))):null}},33913:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(19013),r=n(13882);function o(e){return(0,r.Z)(1,arguments),(0,a.default)(e).getTime()<Date.now()}}}]);