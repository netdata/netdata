!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e700a089-16a3-4716-b87c-95de13c949e6",e._sentryDebugIdIdentifier="sentry-dbid-e700a089-16a3-4716-b87c-95de13c949e6")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"c7c7339595f9a6dcd399b7cc9a0dd276316e4ddf"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[86],{52971:function(e,t,n){"use strict";n.d(t,{Ci:function(){return r},Ew:function(){return i},pD:function(){return a}});var o=n(85456);const r={denied:"denied",granted:"granted"},a={denied:"inactive",granted:"active"},i=(/app\.netdata\.cloud/.test(location.hostname),/testing\.netdata\.cloud/.test(location.hostname),{defaultCookies:{defaultValue:r.granted,description:"These cookies are essential so that you can have the best experience using Netdata Products. Without these cookies Netdata Products may not work as a result. These do not store any personally identifiable data.",disabled:!0,eventName:"necessary",ga:"default-cookies",gmtKeys:["functionality_storage"],handleAccept:()=>{},handleDeny:()=>{},id:"defaultCookies",title:"Necessary"},analyticsCookies:{description:"These cookies are used to understand how visitors interact with Netdata Products. They help provide non-identifiable information on user activities through Netdata Products, which is valuable to help us improve our product.",defaultValue:r.granted,disabled:!1,eventName:"analytical",ga:"analytics-cookies",gmtKeys:["ad_storage","analytics_storage"],handleAccept:()=>{(0,o.vD)()},handleDeny:()=>{(0,o.g2)()},id:"analyticsCookies",title:"Analytical and Tracking"},performanceCookies:{description:"These cookies are used to track the performance and errors you may experience using Netdata Products. These are key for us to monitor the status of the product and easily identify issues.",defaultValue:r.granted,disabled:!1,eventName:"performance",ga:"performance-cookies",gmtKeys:[],handleAccept:()=>{},handleDeny:()=>{},id:"performanceCookies",title:"Performance and error tracking"}});(0,o.ej)(i.defaultCookies.id)},80606:function(e,t,n){"use strict";n.d(t,{F:function(){return c},I:function(){return i}});var o=n(4480),r=n(78401),a=(0,o.cn)({key:"cookiePreferences",default:(0,r.O)()});const i=()=>(0,o.sJ)(a),c=()=>(0,o.FV)(a)},85456:function(e,t,n){"use strict";n.d(t,{d8:function(){return a},ej:function(){return r},fY:function(){return s},g2:function(){return c},gs:function(){return u},lF:function(){return d},ow:function(){return f},v:function(){return l},vD:function(){return i}});n(68216),n(2490),n(79433),n(25387),n(72608),n(15581),n(34514);var o=n(52971);const r=e=>{var t;return(null===(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)")))||void 0===t?void 0:t.pop())||""},a=(e,t,n)=>{(n||window[e])&&(document.cookie="".concat(e,"=").concat(n||window[e],"; Path=/; Domain=").concat(window.envSettings.cookieDomain,"; Expires=").concat(t,";"))},i=()=>{var e,t;null!==(e=(t=window.posthog).has_opted_out_capturing)&&void 0!==e&&e.call(t)&&window.posthog.opt_in_capturing()},c=()=>{window.posthog.has_opted_out_capturing&&!window.posthog.has_opted_out_capturing()&&window.posthog.opt_out_capturing()},s=e=>Object.keys(e).every((t=>e[t]===(!r(t)||u(t)))),u=e=>window.envSettings.tracking&&(!r(e)||r(e)===o.Ci.granted),d=()=>Object.values(o.Ew).reduce(((e,t)=>{let{defaultValue:n,id:a}=t;return{[a]:(r(a)||n)===o.Ci.granted,...e}}),{}),l=e=>{window.gtag&&window.gtag("consent","update",e)},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return new Date(t.setFullYear(t.getFullYear()+e))}},38086:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});n(33948),n(9170),n(34668),n(57640),n(9924),n(31672),n(2490),n(59461),n(15306);var o=n(67294),r=n(89250),a=n(17563),i=n(26398),c=n(62200),s=n(13477),u=n(25819),d=n(93017),l=n(76201),f=n(74059),g=n(78401),p=n(80606);const h=()=>{var e;if(null===(e=window.posthog)||void 0===e||!e.__loaded)return;const t=(new Date).toISOString();window.posthog.register_once({event_source:"cloud",posthog_first_seen_at:t,posthog_first_distinct_id:"get_distinct_id"in window.posthog&&window.posthog.get_distinct_id()})};var w=()=>(0,o.useEffect)(h,[]),m=n(7335),y=n(18761),v=n(64358),_=n(32950),k=n(78710);const E=e=>{let{errorRetry:t,token:n,redirectUri:r}=e;const i=a.parseUrl(decodeURIComponent(t)),{url:c,query:s}=i,{redirect_uri:u}=s,d=(0,o.useRef)(!1);return d.current||(d.current=!0,window.location="".concat(c,"?token=").concat(n,"&redirect_uri=").concat(u||r)),null};var b=()=>{const e=(0,s.Iy)("isLoaded"),t=(0,s.Iy)("isAnonymous");(0,l.Z)(),w(),(()=>{const e=(0,s.Iy)("id"),t=(0,s.Iy)("name"),n=(0,s.Iy)("email"),r=(0,s.Iy)("createdAt"),a=(0,s.Iy)("verifiedEmail"),i=(0,s.Iy)("avatarUrl"),c=(0,f.GM)("loaded"),u=(0,f.GM)("ids"),d=(0,p.I)();(0,o.useEffect)((()=>{e&&c&&(0,g.Z)({avatar:i,createdAt:r,email:n,id:e,name:t,spacesCount:u.length,verifiedEmail:a})}),[e,c,d]),(0,o.useEffect)((()=>{var e;if(null!==(e=window.posthog)&&void 0!==e&&e.__loaded)try{window.posthog.onFeatureFlags((function(){window.posthog.isFeatureEnabled&&window.posthog.isFeatureEnabled("user-age-less-than-7d")&&window.posthog.startSessionRecording()}))}catch(t){}}),[])})();const n=(0,r.bS)("/sign-in/*"),h=(0,r.bS)("/sign-up/*"),b=!!n||!!h,C=(()=>{const[,e]=(0,d.Z)(),t=(0,m.DH)();return(0,o.useCallback)((function(){let{origin:n,id:o,name:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n)return;const a=decodeURIComponent(o),s=decodeURIComponent(n);(0,y.kq)(o).then((n=>{let{data:o=[]}=n;return t(a,s,r),o.length?i.Z.get(c.MC).then((e=>{let{data:t}=e;return Promise.any(t.map((e=>i.Z.get((0,v.W)({spaceId:e.id})).then((t=>{let{data:n}=t;return Promise.any(n.map((t=>(0,u.Fz)({roomId:t.id,spaceId:e.id}).then((n=>{let{nodes:r}=n;const a=r.find((e=>{let{id:t}=e;return o.includes(t)}));if(!a)throw new Error("can't find matching node");const{protocol:i,host:c}=window.location;return"".concat(i,"//").concat(c,"/spaces/").concat(e.slug,"/rooms/").concat(t.slug,"/nodes/").concat(a.id)})))))})))))})).catch((()=>{})):(0,y.YZ)(a).then((t=>{let{data:n}=t;const{claimed:o}=n;throw e(o?{errorMsgKey:"ErrForbidden",errorMessage:"You tried to access this Node on Netdata Cloud and you don't have access to it. Please contact your Space admin to give you access to it."}:{errorMsgKey:"ErrForbidden",errorMessage:"This Node isn't connected to Netdata Cloud. Please connect it, if you have permission for it, or contact your Space admin."}),"no access"}))})).then((e=>{e&&setTimeout(location.assign(e))})).catch((()=>{}))}),[])})(),I=(0,_.Z)();if(!e||I.isFetching||I.hasAccess&&!b)return null;const{pathname:P,search:S,hash:A}=window.location,{error_retry:D,token:T}=a.parse(A),{cloudRoute:R,redirect_uri:N,...F}=a.parse(S);if(!t&&D)return o.createElement(E,{errorRetry:D,token:T,redirectUri:N});if(!t&&b){if(R){const e=R.includes("join-callback")?decodeURI(R):R,t=Array.isArray(e)?e[0]:e;return o.createElement(r.Fg,{replace:!0,to:t})}return N?(C(F),window.location.replace(decodeURIComponent(N)),null):o.createElement(r.Fg,{replace:!0,to:"/spaces"})}if(k.ZP)return null;if(t&&!b){const e=A.includes("join-callback")?A:encodeURIComponent(A),t="".concat(S).concat(S?"&":"?","cloudRoute=").concat(P);return o.createElement(r.Fg,{replace:!0,to:{pathname:"/sign-in",search:t,hash:e}})}return null}},7335:function(e,t,n){"use strict";n.d(t,{aG:function(){return w},H3:function(){return g},XU:function(){return m},DH:function(){return h},z2:function(){return f},lL:function(){return p}});n(57640),n(9924),n(25387),n(2490),n(72608),n(88449),n(59849),n(33948),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(76651),n(61437),n(35285),n(39865),n(31672),n(59461);var o=n(67294),r=n(4480),a=n(89250),i=n(13477),c=(0,r.xu)({key:"visitedNodes",default:()=>[]}),s=n(97945),u=n(18761),d=n(78710);const l=(0,r.CG)({key:"visitedNodeIdsValue",get:e=>t=>{let{get:n}=t;return n(c(e)).map((e=>{let{id:t}=e;return t}))}}),f=()=>{const e=(0,i.jr)(),t=(0,r.sJ)(c(e)),n=(0,r._8)((e=>{let{set:t}=e;return e=>{t(s.Jz,{values:e.reduce(((e,t)=>({...e,[t.id]:{...t,loaded:!0}})),{}),merge:!0})}}),[]);return(0,o.useEffect)((()=>{n(t)}),[t]),(0,r.sJ)(l(e))},g=e=>{const t=(0,i.jr)(),n=(0,r.sJ)(c(t)),a=(0,o.useMemo)((()=>e?n.filter((t=>t.name.toUpperCase().includes(e.toUpperCase()))):n),[n,e]);return(0,o.useMemo)((()=>a.map((e=>e.id))),[a])},p=()=>(0,r._8)((e=>{let{snapshot:t,set:n}=e;return async(e,o)=>{const r=await t.getPromise((0,i.KL)("id")),{urls:a,name:d}=await t.getPromise((0,s.zP)({id:e})),l=a.filter((e=>e!==o));n((0,s.zP)({id:e,key:"urls"}),l),l.length||n(c(r),(t=>t.filter((t=>t.id!==e))));try{await(l.length?(0,u.RX)(r,e,d,l):(0,u.Sd)(r,[e])),(0,u.Wy)(r,e).catch((()=>{}))}catch(f){n((0,s.zP)({id:e,key:"urls"}),a)}}}),[]),h=()=>{const{pathname:e}=(0,a.TH)(),t=(0,i.jr)(),n=w(t,{autoFetch:!1});return(0,r._8)((e=>{let{snapshot:t,set:o}=e;return async(e,r,a)=>{if(await t.getPromise((0,i.KL)("isAnonymous")))return;const d=await t.getPromise((0,i.KL)("id")),{urls:l,name:f}=await t.getPromise((0,s.zP)({id:e}));let g=r?[r,...l]:l;g=[...new Set([window.location.href,...g])];const p=g.length!==l.length;try{o((0,s.zP)({id:e,key:"urls"}),g),o(c(d),(t=>{const n=t.find((t=>t.id===e)),o=t.filter((t=>t.id!==e));return n?[{...n,accessCount:n.accessCount+1,lastAccessTime:(new Date).toISOString()},...o]:[{accessCount:1,id:e,lastAccessTime:(new Date).toISOString(),urls:g,name:a},...o]})),p&&await(0,u.RX)(d,e,a||f,g),n(),await(0,u.Wy)(d,e)}catch(h){o((0,s.zP)({id:e,key:"urls"}),l)}}}),[n,e,t])},w=function(e){let{autoFetch:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[,n]=(0,r.FV)(c(e)),[a,i]=(0,o.useState)(0),s=(0,o.useCallback)((()=>{i((e=>e+1))}),[i]);return(0,o.useEffect)((()=>{e&&(t||a)&&(0,u.Fz)(e).then((e=>{if(!e||d.ZP)return;const{data:{results:t}}=e,o=t.sort(((e,t)=>new Date(t.lastAccessTime)-new Date(e.lastAccessTime)));n(o)}))}),[t,a,e]),s},m=()=>{const e=(0,i.jr)(),t=c(e);return(0,r._8)((e=>{let{snapshot:n,set:o}=e;return async e=>{const r=(await n.getPromise((0,s.$E)(e))).map((e=>e.machineGUID)),a=await n.getPromise(t),i=a.filter((e=>!r.includes(e.id)));i.length!==a.length&&o(t,i)}}),[e])}},78401:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});n(25387),n(2490),n(72608),n(33948);var o=n(52971),r=n(85456);const a=()=>Object.entries(o.Ew).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:(0,r.gs)(o.id)}}),{});t.Z=e=>{let{avatar:t,createdAt:n,email:a,id:i,name:c,spacesCount:s,verifiedEmail:u}=e;if(!window.envSettings.tracking)return;if(a&&a.includes("@netdata.msdc.co"))return;if(i&&"00000000-0000-0000-0000-000000000000"===i)return;if(a&&a.includes("anonymous@netdata.cloud"))return;const d=new Date,l=d.toISOString(),f=new Date(n),g=Math.floor((d-f)/864e5);var p;(0,r.gs)(o.Ew.analyticsCookies.id)&&(window.dataLayer&&window.dataLayer.push({event:"UserInfoAvailable",user_id:i,userIdentifier:i,userName:c,userEmail:a,userAccountCreatedAt:n,userAccountCreatedDaysAgo:g,userAvatarURL:t,userEmailVerified:u,spacesCount:s}),window.gtag&&window.gtag("config","G-J69Z2JCTFB",{user_id:i}),null!==(p=window.posthog)&&void 0!==p&&p.__loaded&&(window.posthog.identify(i),window.posthog.people.set({email:a||"unknown email",name:c,netdata_cloud_account_created_at:n,netdata_cloud_account_created_days_ago:g}),window.posthog.register({netdata_cloud_account_created_days_ago:g}),window.posthog.register_once({event_source:"cloud",netdata_cloud_account_created_at:n,netdata_cloud_account_email:a||"unknown email",netdata_cloud_account_id:i,netdata_cloud_signed_in_at:l})))}},17072:function(e,t,n){var o=n(5112)("iterator"),r=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){r=!0}};i[o]=function(){return this},Array.from(i,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[o]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(c){}return n}},7871:function(e,t,n){var o=n(83823),r=n(35268);e.exports=!o&&!r&&"object"==typeof window&&"object"==typeof document},83823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},35268:function(e,t,n){var o=n(84326);e.exports="undefined"!=typeof process&&"process"==o(process)},11060:function(e,t,n){var o=n(1702),r=Error,a=o("".replace),i=String(r("zxcasd").stack),c=/\n\s*at [^:]*:[^\n]*/,s=c.test(i);e.exports=function(e,t){if(s&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=a(e,c,"");return e}},5392:function(e,t,n){var o=n(68880),r=n(11060),a=n(22914),i=Error.captureStackTrace;e.exports=function(e,t,n,c){a&&(i?i(e,t):o(e,"stack",r(n,c)))}},22914:function(e,t,n){var o=n(47293),r=n(79114);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},58340:function(e,t,n){var o=n(70111),r=n(68880);e.exports=function(e,t){o(t)&&"cause"in t&&r(e,"cause",t.cause)}},56277:function(e,t,n){var o=n(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},63702:function(e,t,n){var o=n(17854),r=n(2492),a=n(60614),i=n(54705),c=n(42788),s=n(5112),u=n(7871),d=n(83823),l=n(31913),f=n(7392),g=r&&r.prototype,p=s("species"),h=!1,w=a(o.PromiseRejectionEvent),m=i("Promise",(function(){var e=c(r),t=e!==String(r);if(!t&&66===f)return!0;if(l&&(!g.catch||!g.finally))return!0;if(!f||f<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=o,!(h=n.then((function(){}))instanceof o))return!0}return!t&&(u||d)&&!w}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:w,SUBCLASSING:h}},80612:function(e,t,n){var o=n(2492),r=n(17072),a=n(63702).CONSTRUCTOR;e.exports=a||!r((function(e){o.all(e).then(void 0,(function(){}))}))},56967:function(e,t,n){"use strict";var o=n(82109),r=n(47976),a=n(79518),i=n(27674),c=n(99920),s=n(70030),u=n(68880),d=n(79114),l=n(58340),f=n(5392),g=n(20408),p=n(56277),h=n(5112)("toStringTag"),w=Error,m=[].push,y=function(e,t){var n,o=r(v,this);i?n=i(w(),o?a(this):v):(n=o?this:s(v),u(n,h,"Error")),void 0!==t&&u(n,"message",p(t)),f(n,y,n.stack,1),arguments.length>2&&l(n,arguments[2]);var c=[];return g(e,m,{that:c}),u(n,"errors",c),n};i?i(y,w):c(y,w,{name:!0});var v=y.prototype=s(w.prototype,{constructor:d(1,y),message:d(1,""),name:d(1,"AggregateError")});o({global:!0,constructor:!0,arity:2},{AggregateError:y})},9170:function(e,t,n){n(56967)},34668:function(e,t,n){"use strict";var o=n(82109),r=n(46916),a=n(19662),i=n(35005),c=n(78523),s=n(12534),u=n(20408),d=n(80612),l="No one promise resolved";o({target:"Promise",stat:!0,forced:d},{any:function(e){var t=this,n=i("AggregateError"),o=c.f(t),d=o.resolve,f=o.reject,g=s((function(){var o=a(t.resolve),i=[],c=0,s=1,g=!1;u(e,(function(e){var a=c++,u=!1;s++,r(o,t,e).then((function(e){u||g||(g=!0,d(e))}),(function(e){u||g||(u=!0,i[a]=e,--s||f(new n(i,l)))}))})),--s||f(new n(i,l))}));return g.error&&f(g.value),o.promise}})}}]);