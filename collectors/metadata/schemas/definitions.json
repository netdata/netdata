{
  "definitions": {
    "monitored_instance": {
      "type": "object",
      "description": "Information about the monitored instance (metrics source).",
      "properties": {
        "name": {
          "description": "Metrics source name (e.g. VerneMQ, Network interfaces, Files and directories). Use official spelling for applications.",
          "type": "string"
        },
        "link": {
          "description": "Link to the monitored instance official website if any.",
          "type": "string"
        },
        "categories": {
          "type": "array",
          "description": "Categories this integration falls into.",
          "items": {
            "$ref": "#/definitions/category"
          }
        },
        "icon_path": {
          "type": "string",
          "description": "Path to the integration's icon."
        }
      },
      "required": [
        "name",
        "link",
        "categories",
        "icon_path"
      ]
    },
    "category": {
      "type": "object",
      "description": "Category and subcategory of the collector/monitored instance.",
      "properties": {
        "level0": {
          "type": "string",
          "description": "Category name",
          "oneOf": [
            {
              "enum": [
                "data-collection"
              ]
            }
          ]
        },
        "level1": {
          "type": "string",
          "description": "Subcategory name",
          "oneOf": [
            {
              "enum": [
                "databases",
                "web-servers",
                "message-brokers",
                "hardware-and-sensors",
                "operating-systems",
                "containers-and-vms"
              ]
            }
          ]
        }
      }
    },
    "alerts": {
      "type": "array",
      "description": "The list of configured alerts shipped with Netdata for this collector.",
      "items": {
        "type": "object",
        "description": "Information about the configured alert.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Alert's 'alarm' or 'template' value (https://learn.netdata.cloud/docs/alerting/health-configuration-reference#alarm-line-alarm-or-template)."
          },
          "link": {
            "type": "string",
            "description": "Link to github .conf file that this alert originates from"
          },
          "metric": {
            "type": "string",
            "description": "Alert's 'on' value (https://learn.netdata.cloud/docs/alerting/health-configuration-reference#alarm-line-on)."
          },
          "info": {
            "type": "string",
            "description": "Alert's 'info' value (https://learn.netdata.cloud/docs/alerting/health-configuration-reference#alarm-line-info)."
          },
          "os": {
            "type": "string",
            "description": "Alert's 'os' value (https://learn.netdata.cloud/docs/alerting/health-configuration-reference#alarm-line-os)."
          }
        },
        "required": [
          "name",
          "link",
          "metric",
          "info"
        ]
      }
    },
    "metrics": {
      "type": "object",
      "description": "Collected metrics grouped by scope. The scope defines the instance that the metric belongs to. An instance is uniquely identified by a set of labels.",
      "properties": {
        "folding": {
          "$ref": "#/definitions/folding"
        },
        "description": {
          "type": "string",
          "description": "General description of collected metrics/scopes."
        },
        "availability": {
          "type": "array",
          "description": "Metrics collection availability conditions. Some metrics are only available when certain conditions are met. For example, Apache exposes additional metrics when Extended status is configured, Consul exposes different set of metrics depends on its mode. This field should list the available conditions that will later be matched for each of the metrics.",
          "items": {
            "type": "string",
            "description": "Availability condition name."
          }
        },
        "scopes": {
          "type": "array",
          "description": "List of scopes and their metrics.",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Scope name."
              },
              "description": {
                "type": "string",
                "description": "Scope description."
              },
              "labels": {
                "type": "array",
                "description": "Label set of the scope.",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Label name."
                    },
                    "description": {
                      "type": "string",
                      "description": "Label description."
                    }
                  },
                  "required": [
                    "name",
                    "description"
                  ]
                }
              },
              "metrics": {
                "type": "array",
                "description": "List of collected metrics (chart contexts) in the scope.",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Metric name (chart context)."
                    },
                    "availability": {
                      "type": "array",
                      "description": "Metric collection availability conditions. An empty list means that it is available for all conditions defined in 'metrics.availability'.",
                      "items": {
                        "type": "string",
                        "description": "Availability condition name."
                      }
                    },
                    "description": {
                      "type": "string",
                      "description": "Metric description (chart title)."
                    },
                    "unit": {
                      "type": "string",
                      "description": "Metric description (chart unit)."
                    },
                    "chart_type": {
                      "type": "string",
                      "description": "Metric description (chart type)."
                    },
                    "dimensions": {
                      "type": "array",
                      "description": "",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "description": "Dimension name."
                          }
                        },
                        "required": [
                          "name"
                        ]
                      }
                    }
                  },
                  "required": [
                    "name",
                    "description",
                    "unit",
                    "chart_type",
                    "dimensions"
                  ]
                }
              }
            },
            "required": [
              "name",
              "description",
              "labels",
              "metrics"
            ]
          }
        }
      },
      "required": [
        "folding",
        "description",
        "availability",
        "scopes"
      ]
    },
    "folding": {
      "type": "object",
      "description": "Content folding settings.",
      "properties": {
        "title": {
          "description": "Folded content summary title",
          "type": "string"
        },
        "enabled": {
          "description": "Determines if this content should be folded",
          "type": "boolean"
        }
      },
      "required": [
        "title",
        "enabled"
      ]
    },
    "non-empty-string": {
      "type": "string",
      "minLength": 2
    }
  }
}
