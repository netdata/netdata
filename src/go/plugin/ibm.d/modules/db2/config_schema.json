{
  "jsonSchema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "properties": {
      "backup_history_days": {
        "default": 30,
        "description": "BackupHistoryDays controls how many days of backup history are retrieved.",
        "title": "Backup History Days",
        "type": "integer"
      },
      "collect_bufferpool_metrics": {
        "default": "auto",
        "description": "CollectBufferpoolMetrics toggles buffer pool efficiency metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Bufferpool Metrics",
        "type": "string"
      },
      "collect_connection_metrics": {
        "default": "auto",
        "description": "CollectConnectionMetrics toggles per-connection activity metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Connection Metrics",
        "type": "string"
      },
      "collect_database_metrics": {
        "default": "auto",
        "description": "CollectDatabaseMetrics toggles high-level database status metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Database Metrics",
        "type": "string"
      },
      "collect_databases_matching": {
        "default": "",
        "description": "CollectDatabasesMatching filters databases by name using glob patterns.",
        "title": "Collect Databases Matching",
        "type": "string"
      },
      "collect_index_metrics": {
        "default": "auto",
        "description": "CollectIndexMetrics toggles index usage metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Index Metrics",
        "type": "string"
      },
      "collect_lock_metrics": {
        "default": "auto",
        "description": "CollectLockMetrics toggles lock contention metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Lock Metrics",
        "type": "string"
      },
      "collect_memory_metrics": {
        "default": true,
        "description": "CollectMemoryMetrics enables memory pool statistics.",
        "title": "Collect Memory Metrics",
        "type": "boolean"
      },
      "collect_table_io_metrics": {
        "default": true,
        "description": "CollectTableIOMetrics enables table I/O statistics when available.",
        "title": "Collect Table Io Metrics",
        "type": "boolean"
      },
      "collect_table_metrics": {
        "default": "auto",
        "description": "CollectTableMetrics toggles table-level size and row metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Table Metrics",
        "type": "string"
      },
      "collect_tablespace_metrics": {
        "default": "auto",
        "description": "CollectTablespaceMetrics toggles tablespace capacity metrics.",
        "enum": [
          "auto",
          "enabled",
          "disabled"
        ],
        "title": "Collect Tablespace Metrics",
        "type": "string"
      },
      "collect_wait_metrics": {
        "default": true,
        "description": "CollectWaitMetrics enables wait time statistics (locks, logs, I/O).",
        "title": "Collect Wait Metrics",
        "type": "boolean"
      },
      "dsn": {
        "default": "",
        "description": "DSN provides a full DB2 connection string when manual control is required.",
        "title": "DSN",
        "type": "string"
      },
      "exclude_bufferpools": {
        "default": "nil",
        "description": "ExcludeBufferpools excludes buffer pools after inclusion.",
        "items": {
          "type": "string"
        },
        "title": "Exclude Bufferpools",
        "type": "array"
      },
      "exclude_connections": {
        "default": [
          "*TEMP*"
        ],
        "description": "ExcludeConnections excludes connections after inclusion matching.",
        "items": {
          "type": "string"
        },
        "title": "Exclude Connections",
        "type": "array"
      },
      "exclude_indexes": {
        "default": "nil",
        "description": "ExcludeIndexes excludes indexes after inclusion.",
        "items": {
          "type": "string"
        },
        "title": "Exclude Indexes",
        "type": "array"
      },
      "exclude_tables": {
        "default": "nil",
        "description": "ExcludeTables excludes tables after inclusion.",
        "items": {
          "type": "string"
        },
        "title": "Exclude Tables",
        "type": "array"
      },
      "exclude_tablespaces": {
        "default": [
          "TEMPSPACE2"
        ],
        "description": "ExcludeTablespaces excludes tablespaces after inclusion.",
        "items": {
          "type": "string"
        },
        "title": "Exclude Tablespaces",
        "type": "array"
      },
      "include_bufferpools": {
        "default": [
          "IBMDEFAULTBP",
          "IBMSYSTEMBP*",
          "IBMHADRBP*"
        ],
        "description": "IncludeBufferpools filters buffer pools by name.",
        "items": {
          "type": "string"
        },
        "title": "Include Bufferpools",
        "type": "array"
      },
      "include_connections": {
        "default": [
          "db2sysc*",
          "db2agent*",
          "db2hadr*",
          "db2acd*",
          "db2bmgr*"
        ],
        "description": "IncludeConnections filters monitored connections by application ID or application name (wildcards supported).",
        "items": {
          "type": "string"
        },
        "title": "Include Connections",
        "type": "array"
      },
      "include_indexes": {
        "default": "nil",
        "description": "IncludeIndexes filters indexes by schema/name.",
        "items": {
          "type": "string"
        },
        "title": "Include Indexes",
        "type": "array"
      },
      "include_tables": {
        "default": "nil",
        "description": "IncludeTables filters tables by schema/name.",
        "items": {
          "type": "string"
        },
        "title": "Include Tables",
        "type": "array"
      },
      "include_tablespaces": {
        "default": [
          "SYSCATSPACE",
          "TEMPSPACE*",
          "SYSTOOLSPACE"
        ],
        "description": "IncludeTablespaces filters tablespaces by name.",
        "items": {
          "type": "string"
        },
        "title": "Include Tablespaces",
        "type": "array"
      },
      "max_bufferpools": {
        "default": 20,
        "description": "MaxBufferpools caps the number of buffer pools charted.",
        "title": "Max Bufferpools",
        "type": "integer"
      },
      "max_connections": {
        "default": 50,
        "description": "MaxConnections caps the number of connection instances charted.",
        "title": "Max Connections",
        "type": "integer"
      },
      "max_databases": {
        "default": 10,
        "description": "MaxDatabases caps the number of databases charted.",
        "title": "Max Databases",
        "type": "integer"
      },
      "max_db_conns": {
        "default": 1,
        "description": "MaxDbConns limits the connection pool size.",
        "title": "Max Db Conns",
        "type": "integer"
      },
      "max_db_life_time": {
        "default": 600000000000,
        "description": "MaxDbLifeTime forces pooled connections to be recycled after the specified duration.",
        "title": "Max Db Life Time",
        "type": "integer"
      },
      "max_indexes": {
        "default": 50,
        "description": "MaxIndexes caps the number of indexes charted.",
        "title": "Max Indexes",
        "type": "integer"
      },
      "max_tables": {
        "default": 25,
        "description": "MaxTables caps the number of tables charted.",
        "title": "Max Tables",
        "type": "integer"
      },
      "max_tablespaces": {
        "default": 50,
        "description": "MaxTablespaces caps the number of tablespaces charted.",
        "title": "Max Tablespaces",
        "type": "integer"
      },
      "timeout": {
        "default": 2000000000,
        "description": "Timeout controls how long DB2 RPCs may run before cancellation.",
        "title": "Timeout",
        "type": "integer"
      },
      "update_every": {
        "default": 5,
        "description": "Data collection frequency",
        "minimum": 1,
        "title": "Update Every",
        "type": "integer"
      },
      "vnode": {
        "default": "",
        "description": "Vnode allows binding the collector to a virtual node.",
        "title": "Vnode",
        "type": "string"
      }
    },
    "title": "db2 collector configuration",
    "type": "object"
  },
  "uiSchema": {
    "exclude_bufferpools": {
      "ui:listFlavour": "list"
    },
    "exclude_connections": {
      "ui:listFlavour": "list"
    },
    "exclude_indexes": {
      "ui:listFlavour": "list"
    },
    "exclude_tables": {
      "ui:listFlavour": "list"
    },
    "exclude_tablespaces": {
      "ui:listFlavour": "list"
    },
    "include_bufferpools": {
      "ui:listFlavour": "list"
    },
    "include_connections": {
      "ui:listFlavour": "list"
    },
    "include_indexes": {
      "ui:listFlavour": "list"
    },
    "include_tables": {
      "ui:listFlavour": "list"
    },
    "include_tablespaces": {
      "ui:listFlavour": "list"
    },
    "ui:flavour": "tabs",
    "ui:options": {
      "tabs": [
        {
          "fields": [
            "update_every",
            "vnode",
            "dsn",
            "timeout"
          ],
          "title": "Connection"
        },
        {
          "fields": [
            "max_db_conns",
            "max_db_life_time",
            "backup_history_days"
          ],
          "title": "Advanced"
        },
        {
          "fields": [
            "collect_database_metrics",
            "max_databases",
            "collect_databases_matching"
          ],
          "title": "Databases"
        },
        {
          "fields": [
            "collect_bufferpool_metrics",
            "max_bufferpools",
            "include_bufferpools",
            "exclude_bufferpools"
          ],
          "title": "Buffer Pools"
        },
        {
          "fields": [
            "collect_tablespace_metrics",
            "max_tablespaces",
            "include_tablespaces",
            "exclude_tablespaces"
          ],
          "title": "Tablespaces"
        },
        {
          "fields": [
            "collect_connection_metrics",
            "max_connections",
            "include_connections",
            "exclude_connections"
          ],
          "title": "Connections Monitoring"
        },
        {
          "fields": [
            "collect_lock_metrics",
            "collect_memory_metrics",
            "collect_wait_metrics",
            "collect_table_io_metrics"
          ],
          "title": "Other Metrics"
        },
        {
          "fields": [
            "collect_table_metrics",
            "max_tables",
            "include_tables",
            "exclude_tables"
          ],
          "title": "Tables"
        },
        {
          "fields": [
            "collect_index_metrics",
            "max_indexes",
            "include_indexes",
            "exclude_indexes"
          ],
          "title": "Indexes"
        }
      ]
    },
    "uiOptions": {
      "fullPage": true
    }
  }
}