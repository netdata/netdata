<!--startmeta
custom_edit_url: "https://github.com/netdata/netdata/edit/master/src/go/plugin/ibm.d/modules/db2/README.md"
meta_yaml: "https://github.com/netdata/netdata/edit/master/src/go/plugin/ibm.d/modules/db2/metadata.yaml"
sidebar_label: "IBM DB2"
learn_status: "Published"
learn_rel_path: "Collecting Metrics/Databases"
most_popular: False
keywords: ['db2']
message: "DO NOT EDIT THIS FILE DIRECTLY, IT IS GENERATED BY THE COLLECTOR'S metadata.yaml FILE"
endmeta-->

# IBM DB2


<img src="https://netdata.cloud/img/ibm.svg" width="150"/>


Plugin: ibm.d.plugin
Module: db2

<img src="https://img.shields.io/badge/maintained%20by-Netdata-%2300ab44" />

## Overview

Monitors IBM DB2 databases using system catalog views and MON_GET_* table
functions to expose connections, locking, buffer pool efficiency, tablespace
capacity, and workload performance metrics.

Detailed charts are opt-in per object family through include/exclude lists.
Defaults focus on engine activity (system connections, core buffer pools,
catalog tablespaces). Matching uses glob patterns that can target schema or
application names, with include rules taking precedence over excludes.

When the number of matching objects exceeds the configured `max_*` limits,
the collector publishes deterministic top-N per-instance charts, aggregates
the remainder under `group="__other__"`, and logs a throttled warning so you
can refine selectors before cardinality runs away. Group charts (by schema,
application prefix, or buffer pool family) are always emitted so high-level
visibility is preserved even when individual instances are trimmed.


The collector connects to IBM DB2 and collects metrics via its monitoring interface.


This collector is supported on all platforms.

This collector supports collecting metrics from multiple instances of this integration, including remote instances.


### Default Behavior

#### Auto-Detection

This integration doesn't support auto-detection.

#### Limits

The default configuration for this integration does not impose any limits on data collection.

#### Performance Impact

The default configuration for this integration is not expected to impose a significant performance impact on the system.

## Metrics

Metrics grouped by *scope*.

The scope defines the instance that the metric belongs to. An instance is uniquely identified by a set of labels.



### Per bufferpool

These metrics refer to bufferpool instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| bufferpool | Bufferpool identifier |
| page_size | Page_size identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.bufferpool_instance_hit_ratio | overall | percentage |
| db2.bufferpool_instance_detailed_hit_ratio | data, index, xda, column | percentage |
| db2.bufferpool_instance_reads | logical, physical | reads/s |
| db2.bufferpool_instance_data_reads | logical, physical | reads/s |
| db2.bufferpool_instance_index_reads | logical, physical | reads/s |
| db2.bufferpool_instance_pages | used, total | pages |
| db2.bufferpool_instance_writes | writes | writes/s |

### Per bufferpoolgroup

These metrics refer to bufferpoolgroup instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| group | Group identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.bufferpool_group_hit_ratio | overall | percentage |
| db2.bufferpool_group_detailed_hit_ratio | data, index, xda, column | percentage |
| db2.bufferpool_group_reads | logical, physical | reads/s |
| db2.bufferpool_group_data_reads | logical, physical | reads/s |
| db2.bufferpool_group_index_reads | logical, physical | reads/s |
| db2.bufferpool_group_pages | used, total | pages |
| db2.bufferpool_group_writes | writes | writes/s |

### Per connection

These metrics refer to connection instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| application_id | Application_id identifier |
| application_name | Application_name identifier |
| client_hostname | Client_hostname identifier |
| client_ip | Client_ip identifier |
| client_user | Client_user identifier |
| state | State identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.connection_state | state | state |
| db2.connection_activity | read, written | rows/s |
| db2.connection_wait_time | lock, log_disk, log_buffer, pool_read, pool_write, direct_read, direct_write, fcm_recv, fcm_send | milliseconds |
| db2.connection_processing_time | routine, compile, section, commit, rollback | milliseconds |

### Per connectiongroup

These metrics refer to connectiongroup instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| group | Group identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.connection_group.count | count | connections |
| db2.connection_group.state | state | state |
| db2.connection_group.activity | read, written | rows/s |
| db2.connection_group.wait_time | lock, log_disk, log_buffer, pool_read, pool_write, direct_read, direct_write, fcm_recv, fcm_send | milliseconds |
| db2.connection_group.processing_time | routine, compile, section, commit, rollback | milliseconds |

### Per database

These metrics refer to database instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| database | Database identifier |
| status | Status identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.database_instance_status | status | status |
| db2.database_applications | applications | applications |

### Per index

These metrics refer to index instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| index | Index identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.index_usage | index, full | scans/s |

### Per indexgroup

These metrics refer to indexgroup instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| group | Group identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.index_group_usage | index, full | scans/s |

### Per memorypool

These metrics refer to memorypool instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| pool_type | Pool_type identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.memory_pool_usage | used | bytes |
| db2.memory_pool_hwm | hwm | bytes |

### Per memoryset

These metrics refer to memoryset instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| host | Host identifier |
| database | Database identifier |
| set_type | Set_type identifier |
| member | Member identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.memory_set_usage | used | bytes |
| db2.memory_set_committed | committed | bytes |
| db2.memory_set_high_water_mark | hwm | bytes |
| db2.memory_set_additional_committed | additional | bytes |
| db2.memory_set_percent_used_hwm | used_hwm | percentage |

### Per prefetcher

These metrics refer to prefetcher instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| bufferpool | Bufferpool identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.prefetcher_prefetch_ratio | ratio | percentage |
| db2.prefetcher_cleaner_ratio | ratio | percentage |
| db2.prefetcher_physical_reads | reads | reads/s |
| db2.prefetcher_async_reads | reads | reads/s |
| db2.prefetcher_wait_time | wait_time | milliseconds |
| db2.prefetcher_unread_pages | unread | pages/s |

### Per IBM DB2 instance

These metrics refer to the entire monitored instance.

This scope has no labels.

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.service_health | connection, database | status |
| db2.connections | total, active, executing, idle, max_allowed | connections |
| db2.locking | waits, timeouts, escalations | events/s |
| db2.deadlocks | deadlocks | deadlocks/s |
| db2.lock_details | active, waiting_agents, memory_pages | locks |
| db2.lock_wait_time | wait_time | milliseconds |
| db2.sorting | sorts, overflows | sorts/s |
| db2.row_activity | read, returned, modified | rows/s |
| db2.bufferpool_hit_ratio | hits, misses | percentage |
| db2.bufferpool_data_hit_ratio | hits, misses | percentage |
| db2.bufferpool_index_hit_ratio | hits, misses | percentage |
| db2.bufferpool_xda_hit_ratio | hits, misses | percentage |
| db2.bufferpool_column_hit_ratio | hits, misses | percentage |
| db2.bufferpool_reads | logical, physical | reads/s |
| db2.bufferpool_data_reads | logical, physical | reads/s |
| db2.bufferpool_index_reads | logical, physical | reads/s |
| db2.bufferpool_xda_reads | logical, physical | reads/s |
| db2.bufferpool_column_reads | logical, physical | reads/s |
| db2.bufferpool_writes | writes | writes/s |
| db2.log_space | used, available | bytes |
| db2.log_utilization | utilization | percentage |
| db2.log_io | reads, writes | operations/s |
| db2.log_operations | commits, rollbacks, reads, writes | operations/s |
| db2.log_timing | avg_commit, avg_read, avg_write | milliseconds |
| db2.log_buffer_events | buffer_full | events/s |
| db2.long_running_queries | total, warning, critical | queries |
| db2.backup_status | status | status |
| db2.backup_age | full, incremental | hours |
| db2.federation_connections | active, idle | connections |
| db2.federation_operations | rows_read, selects, waits | operations/s |
| db2.database_status | active, inactive | status |
| db2.database_count | active, inactive | databases |
| db2.cpu_usage | user, system, idle, iowait | percentage |
| db2.active_connections | active, total | connections |
| db2.memory_usage | database, instance, bufferpool, shared_sort | MiB |
| db2.sql_statements | selects, modifications | statements/s |
| db2.transaction_activity | committed, aborted | transactions/s |
| db2.time_spent | direct_read, direct_write, pool_read, pool_write | milliseconds |

### Per table

These metrics refer to table instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| table | Table identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.table_size | data, index, long_obj | bytes |
| db2.table_activity | read, written | rows/s |

### Per tablegroup

These metrics refer to tablegroup instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| group | Group identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.table_group_size | data, index, long_obj | bytes |
| db2.table_group_activity | read, written | rows/s |

### Per tableio

These metrics refer to tableio instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| table | Table identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.table_io_scans | scans | scans/s |
| db2.table_io_rows | read | rows/s |
| db2.table_io_activity | inserts, updates, deletes | operations/s |
| db2.table_io_overflow | overflow | accesses/s |

### Per tablespace

These metrics refer to tablespace instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| tablespace | Tablespace identifier |
| type | Type identifier |
| content_type | Content_type identifier |
| state | State identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.tablespace_usage | used | percentage |
| db2.tablespace_size | used, free | bytes |
| db2.tablespace_usable_size | total, usable | bytes |
| db2.tablespace_state | state | state |

### Per tablespacegroup

These metrics refer to tablespacegroup instances.

Labels:

| Label      | Description     |
|:-----------|:----------------|
| group | Group identifier |

Metrics:

| Metric | Dimensions | Unit |
|:------|:----------|:----|
| db2.tablespace_group_usage | used | percentage |
| db2.tablespace_group_size | used, free | bytes |
| db2.tablespace_group_usable_size | total, usable | bytes |
| db2.tablespace_group_state | state | state |



## Alerts

There are no alerts configured by default for this integration.


## Setup


### Prerequisites

#### Enable monitoring interface

Ensure the IBM DB2 monitoring interface is accessible.



### Configuration

#### Options

Configuration options for the db2 collector.


<details open><summary>Config options</summary>



| Option | Description | Default | Required |
|:-----|:------------|:--------|:---------:|
| update_every | Data collection frequency. | 1 | no |
| endpoint | Connection endpoint. | dummy://localhost | no |


</details>



#### via File

The configuration file name for this integration is `ibm.d/db2.conf`.


You can edit the configuration file using the [`edit-config`](https://github.com/netdata/netdata/blob/master/docs/netdata-agent/configuration/README.md#edit-configuration-files) script from the
Netdata [config directory](https://github.com/netdata/netdata/blob/master/docs/netdata-agent/configuration/README.md#locate-your-config-directory).

```bash
cd /etc/netdata 2>/dev/null || cd /opt/netdata/etc/netdata
sudo ./edit-config ibm.d/db2.conf
```

##### Examples

###### Basic

Basic configuration example.

<details open><summary>Config</summary>

```yaml
jobs:
  - name: local
    endpoint: dummy://localhost

```
</details>


