# Metrics mixin for Cisco voice devices.

metrics:
  - MIB: HOST-RESOURCES-MIB
    table:
      name: hrSWRunPerfTable
      OID: 1.3.6.1.2.1.25.5.1
    symbols:
      - name: hrSWRunPerfMem
        OID: 1.3.6.1.2.1.25.5.1.1.2
        description: memory usage of the software run
        unit: "{byte}"
      - name: hrSWRunPerfCPU
        OID: 1.3.6.1.2.1.25.5.1.1.1
        description: cpu usage of the software run
        unit: "%"
    metric_tags:
      - symbol:
          name: hrSWRunIndex
          OID: 1.3.6.1.2.1.25.4.2.1.1
        table: hrSWRunTable
        tag: run_index
  - MIB: HOST-RESOURCES-MIB
    table:
      name: hrSWRunTable
      OID: 1.3.6.1.2.1.25.4.2
    symbols:
      - name: hrSWRunStatus
        OID: 1.3.6.1.2.1.25.4.2.1.7
        description: status of the software run
        unit: "TBD"
    metric_tags:
      - symbol:
          name: hrSWRunIndex
          OID: 1.3.6.1.2.1.25.4.2.1.1
        table: hrSWRunTable
        tag: run_index
  - MIB: CISCO-CVP-MIB
    table:
      name: ccvpSipTable
      OID: 1.3.6.1.4.1.9.9.590.1.6.1
    symbols:
      - name: ccvpSipIntAvgLatency1
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.5
        description: average latency interval 1
        unit: "{millisecond}"
      - name: ccvpSipIntAvgLatency2
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.6
        description: average latency interval 2
        unit: "{millisecond}"
      - name: ccvpSipIntConnectsRcv
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.4
        description: number of connects received
        unit: "{connection}"
      - name: ccvpSipIntNewCalls
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.3
        description: number of new calls
        unit: "{call}"
      - name: ccvpSipRtActiveCalls
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.1
        description: number of active calls
        unit: "{call}"
      - name: ccvpSipRtTotalCallLegs
        OID: 1.3.6.1.4.1.9.9.590.1.6.1.1.2
        description: total number of call legs
        unit: "{call_leg}"
    metric_tags:
      - symbol:
          name: ccvpServiceIndex
          OID: 1.3.6.1.4.1.9.9.590.1.5.1.1.1
        table: ccvpServiceTable
        tag: service_index

  - MIB: CISCO-CVP-MIB
    metric_type: gauge
    symbol:
      name: ccvpLicAggMaxPortsInUse
      OID: 1.3.6.1.4.1.9.9.590.1.2.12.0
      description: maximum number of ports in use aggregated
      unit: "{port}"
  - MIB: CISCO-CVP-MIB
    symbol:
      name: ccvpLicRtPortsInUse
      OID: 1.3.6.1.4.1.9.9.590.1.2.2.0
      description: current number of ports in use
      unit: "{port}"

  - MIB: CISCO-CCM-MIB
    metric_type: gauge
    symbol:
      name: ccmRegisteredGateways
      OID: 1.3.6.1.4.1.9.9.156.1.5.8.0
      description: number of registered gateways
      unit: "{gateway}"
  - MIB: CISCO-CCM-MIB
    metric_type: gauge
    symbol:
      name: ccmRegisteredPhones
      OID: 1.3.6.1.4.1.9.9.156.1.5.5.0
      description: number of registered phones
      unit: "{phone}"
  - MIB: CISCO-CCM-MIB
    metric_type: gauge
    symbol:
      name: ccmRejectedPhones
      OID: 1.3.6.1.4.1.9.9.156.1.5.7.0
      description: number of rejected phones
      unit: "{phone}"
  - MIB: CISCO-CCM-MIB
    metric_type: gauge
    symbol:
      name: ccmUnregisteredPhones
      OID: 1.3.6.1.4.1.9.9.156.1.5.6.0
      description: number of unregistered phones
      unit: "{phone}"

  - MIB: CISCO-VOICE-DIAL-CONTROL-MIB
    table:
      name: cvCallVolIfTable
      OID: 1.3.6.1.4.1.9.9.63.1.3.8.5
    symbols:
      - name: cvCallVolMediaIncomingCalls
        OID: 1.3.6.1.4.1.9.9.63.1.3.8.5.1.1
        description: number of media incoming calls
        unit: "{call}"
      - name: cvCallVolMediaOutgoingCalls
        OID: 1.3.6.1.4.1.9.9.63.1.3.8.5.1.2
        description: number of media outgoing calls
        unit: "{call}"
    metric_tags:
      - MIB: IF-MIB
        symbol:
          OID: 1.3.6.1.2.1.31.1.1.1.1
          name: ifName
        table: ifXTable
        tag: interface

  - MIB: CISCO-VOICE-DIAL-CONTROL-MIB
    table:
      name: cvCallVolPeerTable
      OID: 1.3.6.1.4.1.9.9.63.1.3.8.4
    symbols:
      - name: cvCallVolPeerIncomingCalls
        OID: 1.3.6.1.4.1.9.9.63.1.3.8.4.1.1
        description: number of peer incoming calls
        unit: "{call}"
      - name: cvCallVolPeerOutgoingCalls
        OID: 1.3.6.1.4.1.9.9.63.1.3.8.4.1.2
        description: number of peer outgoing calls
        unit: "{call}"
    metric_tags:
      - index: 1
        tag: peer_index

  - MIB: DIAL-CONTROL-MIB
    metric_type: monotonic_count
    table:
      name: dialCtlPeerStatsTable
      OID: 1.3.6.1.2.1.10.21.1.2.2
    symbols:
      - name: dialCtlPeerStatsAcceptCalls
        OID: 1.3.6.1.2.1.10.21.1.2.2.1.5
        description: number of accepted calls
        unit: "{call}"
      - name: dialCtlPeerStatsFailCalls
        OID: 1.3.6.1.2.1.10.21.1.2.2.1.4
        description: number of failed calls
        unit: "{call}"
      - name: dialCtlPeerStatsRefuseCalls
        OID: 1.3.6.1.2.1.10.21.1.2.2.1.6
        description: number of refused calls
        unit: "{call}"
      - name: dialCtlPeerStatsSuccessCalls
        OID: 1.3.6.1.2.1.10.21.1.2.2.1.3
        description: number of successful calls
        unit: "{call}"
    metric_tags:
      - index: 1
        tag: peer_index

  - MIB: CISCO-CONTACT-CENTER-APPS-MIB
    table:
      name: cccaPimTable
      OID: 1.3.6.1.4.1.9.9.473.1.3.6
    symbols:
      - name: cccaPimStatus
        OID: 1.3.6.1.4.1.9.9.473.1.3.6.1.4
        description: status of the pim
        unit: "TBD"
    metric_tags:
      - symbol:
          OID: 1.3.6.1.4.1.9.9.473.1.3.6.1.1
          name: cccaPimNumber
        tag: pim_num
      - symbol:
          OID: 1.3.6.1.4.1.9.9.473.1.3.6.1.2
          name: cccaPimPeripheralName
        tag: pim_name
      - symbol:
          OID: 1.3.6.1.4.1.9.9.473.1.3.6.1.5
          name: cccaPimPeripheralHostName
        tag: pim_host

  - MIB: CISCO-CONTACT-CENTER-APPS-MIB
    table:
      name: cccaRouterTable
      OID: 1.3.6.1.4.1.9.9.473.1.3.1
    symbols:
      - name: cccaRouterAgentsLoggedOn
        OID: 1.3.6.1.4.1.9.9.473.1.3.1.1.3
        description: number of agents logged on
        unit: "{agent}"
      - name: cccaRouterCallsInProgress
        OID: 1.3.6.1.4.1.9.9.473.1.3.1.1.4
        description: number of calls in progress
        unit: "{call}"
      - name: cccaRouterCallsInQueue
        OID: 1.3.6.1.4.1.9.9.473.1.3.1.1.8
        description: number of calls in queue
        unit: "{call}"
    metric_tags:
      - tag: instance_number
        index: 1  # Index of cccaRouterTable is (cccaInstanceNumber, cccaComponentIndex)