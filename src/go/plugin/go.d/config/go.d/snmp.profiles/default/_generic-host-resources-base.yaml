# Generic Resource metrics for devices

# Currently covers basic uptime and system process count along with storage stats
# TODO: add device table

metrics:
  #
  # General System Information
  #
  #
  # General System Information
  #
  - MIB: HOST-RESOURCES-MIB
    symbol:
      OID: 1.3.6.1.2.1.25.1.1.0
      name: hrSystemUptime
    description: General System Information
    unit: s
  - MIB: HOST-RESOURCES-MIB
    symbol:
      OID: 1.3.6.1.2.1.25.1.5.0
      name: hrSystemNumUsers
    description: Number of current users
    unit: user
  - MIB: HOST-RESOURCES-MIB
    symbol:
      OID: 1.3.6.1.2.1.25.1.6.0
      name: hrSystemProcesses
    description: Number of system processes
    unit: process
  - MIB: HOST-RESOURCES-MIB
    symbol:
      OID: 1.3.6.1.2.1.25.1.7.0
      name: hrSystemMaxProcesses
    description: Maximum number of system processes
    unit: process

  #
  # Storage Devices
  #
  - MIB: HOST-RESOURCES-MIB
    table:
      OID: 1.3.6.1.2.1.25.2.3
      name: hrStorageTable
    symbols:
      - OID: 1.3.6.1.2.1.25.2.3.1.4
        name: hrStorageAllocationUnits
        description: Size of the allocation units in bytes
        unit: B
      - OID: 1.3.6.1.2.1.25.2.3.1.5
        name: hrStorageSize
        description: Total size of the storage
        unit: B
      - OID: 1.3.6.1.2.1.25.2.3.1.6
        name: hrStorageUsed
        description: Used storage space
        unit: B
      - OID: 1.3.6.1.2.1.25.2.3.1.7
        name: hrStorageAllocationFailures
        description: Number of storage allocation failures
        unit: failure
    metric_tags:
      - tag: storagedesc
        symbol:
          OID: 1.3.6.1.2.1.25.2.3.1.3
          name: hrStorageDescr
        description: Storage description
        unit: "{storage_description}"
      - tag: storagetype
        symbol:
          OID: 1.3.6.1.2.1.25.2.3.1.2
          name: hrStorageType
        description: Storage type
        unit: "{storage_type}"

  #
  # Processor Load
  #
  - MIB: HOST-RESOURCES-MIB
    table:
      OID: 1.3.6.1.2.1.25.3.3
      name: hrProcessorTable
    symbols:
      - OID: 1.3.6.1.2.1.25.3.3.1.2
        name: hrProcessorLoad
        description: Processor load
        unit: '%'
    metric_tags:
      - index: 1  # hrDeviceIndex
        tag: hr_device_index
        description: hrDeviceIndex
        unit: "{device_index}"
      - tag: processorid
        symbol:
          OID: 1.3.6.1.2.1.25.3.3.1.1
          name: hrProcessorFrwID
        description: Processor firmware ID
        unit: "{firmware_id}"