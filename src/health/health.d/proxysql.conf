# you can disable an alarm notification by setting the 'to' line to: silent

 template: proxysql_hostgroup_no_online_backends
       on: proxysql.hostgroup_backends_status
    class: Errors
     type: Database
component: ProxySQL
   lookup: min -1m unaligned of online
    units: backends
    every: 10s
     crit: $this == 0
  summary: ProxySQL hostgroup ${label:hostgroup} has no ONLINE backends
     info: ProxySQL hostgroup ${label:hostgroup} currently has zero ONLINE backends. This means no traffic can be served for this hostgroup.
       to: dba

 template: proxysql_backend_shunned
       on: proxysql.backend_status
    class: Errors
     type: Database
component: ProxySQL
   lookup: max -1m unaligned of shunned
    units: status
    every: 10s
     crit: $this == 1
  summary: ProxySQL backend SHUNNED (${label:host}:${label:port} hostgroup ${label:hostgroup})
     info: ProxySQL backend ${label:host}:${label:port} in hostgroup ${label:hostgroup} is SHUNNED (temporarily out of use due to too many connection errors in a short time or replication lag exceeding the allowed threshold)
       to: dba

 template: proxysql_backend_offline_hard
       on: proxysql.backend_status
    class: Errors
     type: Database
component: ProxySQL
   lookup: max -1m unaligned of offline_hard
    units: status
    every: 10s
     warn: $this == 1
  summary: ProxySQL backend OFFLINE_HARD (${label:host}:${label:port} hostgroup ${label:hostgroup})
     info: ProxySQL backend ${label:host}:${label:port} in hostgroup ${label:hostgroup is in OFFLINE_HARD mode. Backend is effectively removed from the hostgroup and no longer serves traffic.
       to: dba
