!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5d403afd-e5b2-4fbe-974e-d4995af6873e",e._sentryDebugIdIdentifier="sentry-dbid-5d403afd-e5b2-4fbe-974e-d4995af6873e")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"30b1ba65cc8722be7e184f4a401fb43e6b21634d"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[3968],{18686:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(96540),n=a(83199),o=a(47731);const r=e=>{let{children:t}=e;return(0,o.J)()?l.createElement(n.Layer,{full:!0},l.createElement(n.Flex,{width:"100%",background:"mainBackground","data-testid":"alertView-mobileContainer"},t)):t}},41122:(e,t,a)=>{a.d(t,{A:()=>N});var l=a(96540),n=a(83199),o=a(64118),r=a(28738),d=a(47731),i=a(69765),c=a(11164),s=a(43407),m=a(5871),u=a(52768),g=a(47767),f=a(27467),p=a(47762),E=a(8711);const b=(0,E.default)(n.Flex).attrs({alignItems:"center"}).withConfig({displayName:"styled__StyledButtonContainer",componentId:"sc-1glv09p-0"})(["position:sticky;bottom:0;"]);var h=a(38966);const w=(0,a(92155).A)(n.Button),I=e=>{let{disabled:t,nodeId:a,alertId:o,context:r,lastStatusChange:d,onClose:i,isLoading:c,small:s=!1,testid:m="alertDetailsModal"}=e;const u=(0,g.Zp)(),E=(0,p.Zl)(a),I=(0,l.useCallback)((()=>{i&&i(),u(E,o?{state:{alertId:o}}:{state:{contextToGo:r}})}),[E,o]),y=(0,f.rI)(),x=(0,l.useCallback)((()=>{const e=1e3*d;y({highlight:{after:e-6e4,before:e},correlation:!0}),I()}),[d,r,I,o]);return l.createElement(b,{justifyContent:"end",gap:2},l.createElement(n.Flex,{gap:2,justifyContent:"end"},l.createElement(w,{small:s,label:"Run correlations",onClick:x,flavour:"hollow",isLoading:c,width:s?"112px":"170px","data-testid":"".concat(m,"-runCorrelations-button"),"data-ga":"alert-modal::click-run-correlations::alerts-view",payload:{action:"Run correlations",alertId:o,nodeId:a}}),l.createElement(w,{small:s,label:"Go to chart",onClick:I,isLoading:c,disabled:c||t,width:s?"112px":"150px","data-testid":"".concat(m,"-goToNode-button"),"data-ga":"alert-modal::click-goto-chart::alerts-view",payload:{action:"Go to chart",alertId:o,nodeId:a}}),l.createElement(h.A,{alertId:o,nodeId:a,isLoading:c,small:s,"data-testid":"".concat(m,"-edit-alert-button")})))},y=(0,l.memo)(I);var x=a(7660),C=a(40267);const v=e=>{let{alertId:t,context:a,name:o,nodeId:r,status:i,lastStatusChange:c,fullyLoaded:s,isWebview:m}=e;const u=(0,d.J)(),g=u?n.H4:n.H0;return l.createElement(n.Flex,{column:!0,gap:4},l.createElement(n.Flex,{justifyContent:"between"},l.createElement(n.Flex,{alignItems:"center",gap:2},l.createElement(C.A,{margin:u?null:[.5,0,0],flavour:i,"data-testid":"alertView-statusPill"},i),l.createElement(g,{"data-testid":"alertView-alertName"},o)),!1),l.createElement(n.Flex,{justifyContent:"between",alignItems:"center"},l.createElement(x.A,{alertId:t}),!m&&s&&!u&&l.createElement(y,{lastStatusChange:c,alertId:t,context:a,name:o,nodeId:r,small:!0,testid:"alertView"})))};var A=a(68831),k=a(63314);const L=E.default.img.withConfig({displayName:"sc-404__Illustration",componentId:"sc-4w81fg-0"})(["height:35%;width:35%;"]),S=E.default.div.withConfig({displayName:"sc-404__ButtonContainer",componentId:"sc-4w81fg-1"})(["margin:",";"],(0,n.getSizeBy)(4)),_=()=>{const e="".concat(A.A.assetsBaseURL,"/img/no-nodes-room.svg");return l.createElement(k.DL,null,l.createElement(n.Flex,{column:!0,alignItems:"center",justifyItems:"center",justifyContent:"center",height:"100%",width:"100%",padding:[0,0,"10%"]},l.createElement(L,{src:e,alt:"Unreachable alert",title:"Unreachable alert"}),l.createElement(n.H3,null,"We couldn't find the alert"),l.createElement(n.Text,null,"This can be a temporary problem of that specific alert."),l.createElement(S,null,l.createElement(n.Button,{label:"Retry",icon:"reload"}))))};var V=a(4974),F=a(73865),B=a(85686);const R=e=>{let{children:t}=e;return l.createElement(n.Flex,{background:"modalHeaderBackground",height:12,flex:!1,gap:4,padding:[0,2,0,4],alignItems:"center"},l.createElement(n.Icon,{name:"logo_s",color:"success",width:"23px"}),t)},N=e=>{let{alertId:t,spaceId:a,roomId:g,isWebview:f,nodeName:p}=e;const E=(0,i.XA)("name"),{isNodeRestricted:b}=(0,F.A)(),{fullyLoaded:h=!1,fullyLoading:w=!0,info:I,units:y,lastStatusChangeValue:x,lastStatusChange:C,context:A,instance:L,name:S,nodeId:N,status:T,lastUpdated:D,value:J}=(0,o.JL)(t);(0,o.yk)(t,{spaceId:a,roomId:g});const j=(0,u.J4)(J,y),H=(0,u.J4)(x,y),U=(0,d.J)();return N&&b(N)?l.createElement(k.Ay,{feature:"AlertDetailsViewRestricted"},l.createElement(B.A,null)):l.createElement(k.Ay,{feature:"AlertDetailsView"},l.createElement(n.Flex,{column:!0,width:U?"100%":{max:280},padding:U?null:[0,0,10],background:U?"modalBackground":null},!f&&U&&l.createElement(R,null,l.createElement(n.Flex,{column:!0},l.createElement(n.H6,{color:"textLite"},"ROOM"),l.createElement(n.Text,{"data-testid":"alertView-mobile-roomName"},E))),l.createElement(n.Flex,{column:!0,padding:U?[3]:[0],overflow:U?"auto":"visible",gap:3},l.createElement(v,{alertId:t,context:A,status:T,name:S,nodeId:N,lastStatusChange:C,fullyLoaded:h,isWebview:f}),h?null:w?l.createElement(r.A,{title:"Loading alert..."}):l.createElement(_,null),h&&I&&l.createElement(l.Fragment,null,l.createElement(s.A,{iconName:"documentation"},"Alert Description"),l.createElement(n.Text,{"data-testid":"alertView-info"},I),l.createElement(V.A,{alertId:t})),h&&l.createElement(c.A,{id:t,context:A,instance:L,formattedLastValue:j,formattedLastStatusChangeValue:H,lastStatusChange:C,lastUpdated:D,isFormattedValueLoaded:h,nodeId:N,status:T,testid:"alertView",spaceId:a,roomId:g}),h&&l.createElement(m.A,{id:t,nodeName:p,testid:"alertView"})),U&&l.createElement(n.Box,{position:"sticky",padding:[4],background:"modalBackground",bottom:0,border:{side:"top",color:"border"}},l.createElement(n.TextSmall,null,"In order to ",l.createElement(n.TextSmall,{strong:!0},"Run Correlations")," or"," ",l.createElement(n.TextSmall,{strong:!0},"View the Chart")," you will have to visit this alert from its' dedicated page on a desktop device."))))}},73968:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var l=a(96540),n=a(54621),o=a(64118),r=a(83084),d=a(28738),i=a(47767),c=a(45588),s=a(86663);var m=a(41122),u=a(18686);const g=()=>{const e=(()=>{const{alertId:e,...t}=(0,i.g)(),{search:a}=(0,i.zy)(),{transition:n}=s.parse(a),o=(0,l.useRef)(n||e),r=(0,i.Zp)();return(0,l.useEffect)((()=>{n&&n!==e&&r((0,c.tW)("/spaces/:spaceSlug/rooms/:roomSlug/alerts/".concat(n),t),{replace:!0})}),[e,n]),o.current})(),{name:t="unknown alert",fullyLoaded:a=!1}=(0,o.JL)(e),g=(0,o.x)();return(0,n.ZB)({title:t,id:e,destination:e,params:location.hash,type:"alerts",isReady:a}),g?l.createElement(r.A,{overflow:{vertical:"auto"},margin:[0,0,8],padding:[3]},g&&l.createElement(u.A,null,l.createElement(m.A,{alertId:e}))):l.createElement(d.A,{title:"Loading alert..."})}}}]);