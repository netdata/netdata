!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="e64832dc-26ea-4e8b-9ee9-4433adcc06fb",e._sentryDebugIdIdentifier="sentry-dbid-e64832dc-26ea-4e8b-9ee9-4433adcc06fb")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"9c0c65e34a6698dc41ea348af50419e952d9ce57"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[7959],{7959:(e,a,n)=>{n.r(a),n.d(a,{default:()=>g});n(62953);var t=n(96540),o=n(83199),l=n(3914),s=n(87659),r=n(46741),c=n(98496),i=n(39522),d=n(4659),m=n(84976);const u={noRoomPermission:{header:e=>"Your role doesn't give you permission to access any of the troubleshooting information on ".concat(e,".")},noSpacePermission:{header:e=>"Your role doesn't give you permission to access any information on ".concat(e,".")},noRooms:{header:e=>"You currently don't have permission to see any room on ".concat(e,".")}},f=e=>{let{onClick:a,spaceName:n}=e;return t.createElement(t.Fragment,null,t.createElement(o.Text,{margin:[2,0,0]},"You can also leave this Space if you wish. "),t.createElement(o.Button,{flavour:"borderless",icon:"switch_off",label:"Leave ".concat(n),margin:[0,0,0,7],onClick:a,strong:!0}))},g=e=>{let{reason:a}=e;const n=(0,l.ap)(),[g,,p,b]=(0,s.A)(),{header:h}=u[a],y=(0,l.bq)(),E=(0,r.JT)("billing:ReadBasic");return t.createElement(c.A,{title:h(n.name)},t.createElement(t.Fragment,null,"noSpacePermission"===a&&t.createElement(t.Fragment,null,t.createElement(o.Text,null,"Please contact the Space administrators if this is unexpected."),t.createElement(f,{onClick:p,spaceName:n.name})),E&&"noRooms"!==a&&t.createElement(o.Text,null,"To manage Plan & Billing information please"," ",t.createElement(d.A,{as:m.N_,to:"/spaces/".concat(y,"/settings/billing")},"click here.")),"noRooms"===a&&t.createElement(t.Fragment,null,t.createElement(o.Text,null,"Please contact a Space administrator or manager if this is unexpected."),t.createElement(f,{onClick:p,spaceName:n.name})),g&&t.createElement(i.A,{id:n.id,name:n.name,onClose:b})))}},39522:(e,a,n)=>{n.d(a,{A:()=>v});var t=n(58168),o=n(96540),l=n(83199),s=n(47767),r=n(22292),c=n(55463),i=(n(17333),n(98992),n(54520),n(62953),n(47444)),d=n(71835),m=n(54702),u=n(55189),f=n(3914),g=n(48849),p=n(56639),b=n(14994);var h=n(57992);const y="leave-space-dialog",E="leaveSpaceDialog",v=e=>{let{id:a,name:n,onClose:v}=e;const w=(0,s.Zp)(),C=(0,r.uW)("id"),A=(0,c.Gi)(),S=(0,c.i3)(),k=(0,c.pB)(),_=(e=>{const[,a]=(0,d.A)();return(0,i.Zs)((n=>{let{snapshot:t,set:o,reset:l}=n;return async n=>{let{currentUserId:s,onSuccess:r,onError:i}=n;const d=await t.getPromise((0,f.nC)("ids")),h=d.filter((a=>e!==a)),[y]=h;if(!y)return void a({header:"Spaces",text:u.sh.leave});const{slug:E}=y&&await t.getPromise((0,p.Ay)(y));o((0,f.nC)("ids"),h),o(g.A,(a=>a.filter((a=>a!==e))));try{await(0,m.XY)(e,[s]),r&&r(E),(0,c.Z8)(l,e),(0,b.Is)(l,e),l((0,p.Ay)(e))}catch(v){o((0,f.nC)("ids"),d),i&&i()}}}),[e])})(a),L=(0,h.A)(a),P=(0,o.useCallback)((e=>w("/spaces/".concat(e))),[]),Y=1===A.length,I=1===S.length&&k,x=Y?{confirmLabel:"Yes, leave","data-ga":"".concat(y,"-last-member"),"data-testid":"".concat(E,"LastMember"),handleConfirm:()=>L({onSuccess:P}),message:o.createElement(o.Fragment,null,"If you leave, space ",o.createElement("strong",null,n)," will be deleted immediately.",o.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(n," space")}:I?{confirmLabel:"Give rights","data-ga":"".concat(y,"-last-admin"),"data-testid":"".concat(E,"LastAdmin"),handleConfirm:()=>w("users"),isConfirmPositive:!0,message:o.createElement(o.Fragment,null,"You are the last admin of ",o.createElement("strong",null,n)," space. Please give admin rights to another member so you can leave this space."),title:"Leave ".concat(n," space")}:{confirmLabel:"Yes, leave","data-ga":y,"data-testid":E,handleConfirm:()=>_({currentUserId:C,onSuccess:P}),message:o.createElement(o.Fragment,null,"You are about to leave ",o.createElement("strong",null,n)," space.",o.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(n," space")};return o.createElement(l.ConfirmationDialog,(0,t.A)({handleDecline:v},x))}}}]);