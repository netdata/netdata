!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ab16de72-dc9f-47f6-ac2a-d39c4e215ee3",e._sentryDebugIdIdentifier="sentry-dbid-ab16de72-dc9f-47f6-ac2a-d39c4e215ee3")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"30b1ba65cc8722be7e184f4a401fb43e6b21634d"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[6469],{62727:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});n(17333),n(41393),n(98992),n(54520),n(81454),n(62953);var r=n(96540),o=n(45467),l=n(11128),a=n(47762),i=n(45123),c=n(87659),s=n(47731),d=n(82230),u=n(24398),m=n(57605),f=n(11261),p=n(38413),h=n(8711),g=n(83199),v=n(49389),E=n(63950),x=n.n(E),y=n(78062),b=n(50876);const w=e=>{let{startAddingNodes:t=x(),close:n=x(),children:o}=e;const{sendLog:l}=(0,b.A)(),a=(0,r.useCallback)((()=>{n(),t(),l({feature:"NodesFilterAddNodes"})}),[n,t,l]);return r.createElement(g.Flex,{column:!0,gap:1,padding:[2,2,1],zIndex:1,border:{side:"top",color:"border"}},r.createElement(g.Flex,{gap:2,justifyContent:"end"},r.createElement(y.A,{icon:"nodes_hollow",flavour:"hollow",onClick:a,small:!0,label:"Add Nodes"})),o)};var A=n(99292),C=n(94177),k=n(90535),I=n(22292),F=n(73865),T=n(6586),N=n(12602);const S=e=>{let{onAnchorClick:t}=e;const{loaded:n,hasLimitations:o,maxNodes:l}=(0,F.A)();return n&&o?r.createElement(g.Flex,{gap:2,padding:[3]},r.createElement(g.Icon,{name:"warning_triangle",size:"small",color:"warning"}),r.createElement(g.Text,null,"Your plan is limited to ",l," nodes."," ",r.createElement(N.A,{onClick:t},r.createElement(g.Text,{color:"primary"},"Upgrade for no limitations"))," ","or"," ",r.createElement(T.A,{onClick:t},r.createElement(g.Text,{color:"primary"},"review your Space active Nodes")),".")):null},R=e=>{let{onAnchorClick:t=x()}=e;return(0,I.uW)("isAnonymous")?null:r.createElement(S,{onAnchorClick:t})},_=["filters"],D=(0,h.default)(g.Drop).attrs({backdrop:!0,align:{top:"bottom",right:"right"},animation:!0,background:"modalBackground",column:!0,margin:[2,0,0],padding:[2,0],round:4,width:200}).withConfig({displayName:"dropdown__Dropdown",componentId:"sc-1birv08-0"})([""]),O=(0,r.memo)((e=>{let{target:t,onClose:n,onAddNodes:o}=e;const a=(0,l.w7)(),i=(0,m.A)();return(0,r.useEffect)((()=>{i()}),[]),r.createElement(D,{target:t,onEsc:n,onClickOutside:n},r.createElement(g.Flex,{column:!0,height:{max:"60vh"}},r.createElement(g.Flex,{flex:"1",overflow:"hidden"},r.createElement(g.Flex,{column:!0,flex:!0},r.createElement(g.Flex,{alignItems:"center",padding:[3],border:{side:"bottom",color:"border"},height:12,flex:!1},r.createElement(g.Text,{strong:!0},"Visualizing data in space from ",a.length||"all"," ",(0,v.su)(a.length))),r.createElement(R,{onAnchorClick:n}),r.createElement(C.A,{testIdPrefix:"node-ids",param:"selectedNodeIds",groupProps:{collapsible:!1,background:"modalBackground",padding:[3],flex:"1",overflow:"hidden"},height:"auto",width:"100%"})),r.createElement(A.Ay,{basis:60,baseWidth:60,flex:!1,title:"Dynamic filters",help:"Filter your nodes for this page. Count next to each item refer to the number of nodes that will be selected and used across the page.",includedTabs:_,loaded:!0,onClose:n,groupProps:{background:"modalBackground"},background:"modalBackground"})),r.createElement(w,{startAddingNodes:o,close:n},r.createElement(k.A,null))))})),P=(0,r.memo)((()=>{const e=(0,s.J)(),[t,n,,h]=(0,c.A)(!1),g=(0,r.useRef)(),v=(0,l.w7)(),E=(0,a.BU)().length,x=(0,a.Ig)().length,y=(0,a.GE)().length,b=(0,a.no)().length,w=(0,a.BU)(v.length?v:void 0).length,A=(0,a.Ig)(v.length?v:void 0).length,C=(0,a.GE)(v.length?v:void 0).length,k=(0,a.no)(v.length?v:void 0).length,I=(0,r.useMemo)((()=>({live:{selected:w,total:E,statusText:"Live"},stale:{selected:A,total:x,statusText:"Stale"},offline:{selected:C,total:y,statusText:"Offline"},unseen:{selected:k,total:b,statusText:"Unseen"}})),[E,x,y,b,w,A,C]),F=(0,m.A)();(0,o.A)((()=>{F(t)}),[t]);const[T,,N,S]=(0,c.A)();return r.createElement(r.Fragment,null,r.createElement(i.A,{ref:g,testid:"globalFilter-nodes",icon:"nodes",onClick:n,round:1,padding:e?[1]:[2],width:"auto",cursor:"pointer",selected:t},r.createElement(f.A,{"data-testid":"nodesIndicator",alignItems:"center",justifyContent:"end",gap:2},Object.keys(I).filter((e=>I[e].total)).map((t=>r.createElement(d.A,{key:t,statusText:I[t].statusText,total:I[t].total,selected:I[t].selected,statusColor:u.P[t],isScreenSmall:e}))))),g.current&&t&&r.createElement(O,{target:g.current,onClose:h,onAddNodes:N}),T&&r.createElement(p.A,{onClose:S}))}))},78062:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(58168),o=n(96540),l=n(83199),a=n(28146),i=n(69765),c=n(3914),s=n(53285);var d;const u=(d=l.Button,e=>{const t=(0,i.XA)(),n=(0,c.dg)();return o.createElement(s.A,{permission:"node:Create"},(i=>{const c=o.createElement(d,(0,r.A)({disabled:!i},e));return i?c:o.createElement(a.A,{content:n?"You are viewing your local node, connect to cloud and connect multiple nodes to view at once":"Only admin users can add nodes to ".concat(t.name),"data-testid":"addNodeTooltipContainer"},o.createElement(l.Box,null,c))}))})},90535:(e,t,n)=>{n.d(t,{A:()=>g});n(41393),n(81454),n(62953);var r=n(96540),o=n(83199),l=n(47762),a=n(11128);const i=e=>{let{children:t}=e;return r.createElement(o.Flex,{"data-testid":"selected-nodes-container",alignItems:"center",width:"100%"},r.createElement(o.Flex,{alignItems:"center"},r.createElement(o.TextSmall,{whiteSpace:"nowrap","data-testid":"selected-nodes-container-message",color:"primary"},"Selected filters:")),r.createElement(o.Flex,{overflow:"hidden",padding:[1],gap:1,alignItems:"center",flexWrap:!0},t))},c=(0,r.memo)(i);var s=n(4659);const d=e=>{let{onRemove:t}=e;return r.createElement(o.Box,{"data-testid":"remove-button",as:o.Icon,name:"close_circle",onClick:t,cursor:"pointer",width:3,height:3,color:"textLite"})},u=(0,r.forwardRef)(((e,t)=>{let{removeFilter:n,group:l,id:a,value:i,isAnchorDisabled:c,onClick:u}=e;const[m,f]=i.split("|"),p=f?"".concat(m," > ").concat(f):m;return r.createElement(o.Flex,{width:"100%",ref:t,"data-testid":"selected-node-item-".concat(a)},r.createElement(o.Pill,{flavour:"neutral",hollow:!0},r.createElement(o.Flex,{position:"relative",gap:2,alignItems:"center"},u?r.createElement(s.A,{Component:o.TextSmall,disabled:c,onClick:u,cursor:"pointer",color:"text",hoverColor:"primary",visitedColor:"accent",disabledColor:"textLite"},p):r.createElement(o.TextSmall,null,p),r.createElement(d,{onRemove:()=>n({param:l,removedValue:a}),id:a}))))})),m=(0,r.memo)(u),f={selectedNodeIds:"Node",nodeStatuses:"Status",nodeLabels:"Host label",nodeCapabilities:"Capability",nodeVersions:"Version"},p=(0,r.forwardRef)(((e,t)=>{let{group:n,values:l,hasUnion:a,union:i="AND",removeFilter:c,Component:s=m}=e;const d=f[n];return null!==l&&void 0!==l&&l.length?r.createElement(r.Fragment,{key:"filter"},a&&r.createElement(o.TextSmall,{strong:!0},i),r.createElement(o.Pill,{flavour:"neutral",hollow:!0,gap:1,TextComponent:o.Flex,textProps:{alignItems:"center",gap:1},flexWrap:!0},r.createElement(o.TextNano,{strong:!0},d,":"),l.map(((e,t)=>r.createElement(r.Fragment,{key:e},t>0&&r.createElement(o.TextSmall,{strong:!0},"OR"),r.createElement(s,{removeFilter:c,id:e,value:e,group:n})))))):null})),h=(0,r.forwardRef)(((e,t)=>{let{removeFilter:n,value:o}=e;const a=(0,l.xY)(o,"name"),i=(0,l.xY)(o,"isOffline"),c=(0,l.d3)(o);return r.createElement(m,{ref:t,removeFilter:n,group:"selectedNodeIds",id:o,value:a,isAnchorDisabled:i,onClick:c})})),g=(0,r.memo)((e=>{let{flavour:t}=e;const[[n,l=[]],i]=(0,a._e)({extraKey:t,merge:!1});return n.length||l.length?r.createElement(o.Flex,{width:"100%",overflow:"hidden"},r.createElement(c,null,n.map(((e,t)=>{let[n,o]=e;return r.createElement(p,{key:n,group:n,values:o,hasUnion:t>0,removeFilter:i})})),r.createElement(p,{group:"selectedNodeIds",values:l,hasUnion:!!n.length&&!!l.length,union:"OR",removeFilter:i,Component:h}))):r.createElement("div",null)}))},24074:(e,t,n)=>{var r=n(69565),o=n(28551),l=n(2360),a=n(55966),i=n(56279),c=n(91181),s=n(97751),d=n(53982),u=n(62529),m=s("Promise"),f="AsyncFromSyncIterator",p=c.set,h=c.getterFor(f),g=function(e,t,n){var r=e.done;m.resolve(e.value).then((function(e){t(u(e,r))}),n)},v=function(e){e.type=f,p(this,e)};v.prototype=i(l(d),{next:function(){var e=h(this);return new m((function(t,n){var l=o(r(e.next,e.iterator));g(l,t,n)}))},return:function(){var e=h(this).iterator;return new m((function(t,n){var l=a(e,"return");if(void 0===l)return t(u(void 0,!0));var i=o(r(l,e));g(i,t,n)}))}}),e.exports=v},84428:(e,t,n)=>{var r=n(78227)("iterator"),o=!1;try{var l=0,a={next:function(){return{done:!!l++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(i){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(i){return!1}var n=!1;try{var l={};l[r]=function(){return{next:function(){return{done:n=!0}}}},e(l)}catch(i){}return n}},87290:(e,t,n)=>{var r=n(50516),o=n(19088);e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},50516:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},19088:(e,t,n)=>{var r=n(24475),o=n(44576);e.exports="process"===o(r.process)},50133:(e,t,n)=>{var r=n(69565),o=n(94901),l=n(28551),a=n(1767),i=n(50851),c=n(55966),s=n(78227),d=n(24074),u=s("asyncIterator");e.exports=function(e){var t,n=l(e),s=!0,m=c(n,u);return o(m)||(m=i(n),s=!1),void 0!==m?t=r(m,n):(t=n,s=!0),l(t),a(s?t:new d(a(t)))}},48646:(e,t,n)=>{var r=n(69565),o=n(28551),l=n(1767),a=n(50851);e.exports=function(e,t){t&&"string"===typeof e||o(e);var n=a(e);return l(o(void 0!==n?r(n,e):e))}},10916:(e,t,n)=>{var r=n(24475),o=n(80550),l=n(94901),a=n(92796),i=n(33706),c=n(78227),s=n(87290),d=n(50516),u=n(96395),m=n(77388),f=o&&o.prototype,p=c("species"),h=!1,g=l(r.PromiseRejectionEvent),v=a("Promise",(function(){var e=i(o),t=e!==String(o);if(!t&&66===m)return!0;if(u&&(!f.catch||!f.finally))return!0;if(!m||m<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(h=n.then((function(){}))instanceof r))return!0}return!t&&(s||d)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:h}},90537:(e,t,n)=>{var r=n(80550),o=n(84428),l=n(10916).CONSTRUCTOR;e.exports=l||!o((function(e){r.all(e).then(void 0,(function(){}))}))},30237:(e,t,n)=>{n(6469)("flatMap")},96167:(e,t,n)=>{var r=n(46518),o=n(69565),l=n(79306),a=n(36043),i=n(1103),c=n(72652);r({target:"Promise",stat:!0,forced:n(90537)},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,s=n.reject,d=i((function(){var n=l(t.resolve),a=[],i=0,s=1;c(e,(function(e){var l=i++,c=!1;s++,o(n,t,e).then((function(e){c||(c=!0,a[l]={status:"fulfilled",value:e},--s||r(a))}),(function(e){c||(c=!0,a[l]={status:"rejected",reason:e},--s||r(a))}))})),--s||r(a)}));return d.error&&s(d.value),n.promise}})},32679:(e,t,n)=>{var r=n(46518),o=n(69565),l=n(79306),a=n(28551),i=n(20034),c=n(1767),s=n(92059),d=n(62529),u=n(50133),m=n(20772),f=n(96395),p=s((function(e){var t=this,n=t.iterator,r=t.mapper;return new e((function(l,c){var s=function(e){t.done=!0,c(e)},f=function(e){m(n,s,e,s)},p=function(){try{e.resolve(a(o(t.next,n))).then((function(n){try{if(a(n).done)t.done=!0,l(d(void 0,!0));else{var o=n.value;try{var c=r(o,t.counter++),m=function(e){try{t.inner=u(e),h()}catch(n){f(n)}};i(c)?e.resolve(c).then(m,f):m(c)}catch(p){f(p)}}}catch(g){s(g)}}),s)}catch(c){s(c)}},h=function(){var n=t.inner;if(n)try{e.resolve(a(o(n.next,n.iterator))).then((function(e){try{a(e).done?(t.inner=null,p()):l(d(e.value,!1))}catch(n){f(n)}}),f)}catch(r){f(r)}else p()};h()}))}));r({target:"AsyncIterator",proto:!0,real:!0,forced:f},{flatMap:function(e){return a(this),l(e),new p(c(this),{mapper:e,inner:null})}})},30670:(e,t,n)=>{var r=n(46518),o=n(69565),l=n(79306),a=n(28551),i=n(1767),c=n(48646),s=n(19462),d=n(9539),u=n(96395),m=s((function(){for(var e,t,n=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=a(o(t.next,t.iterator))).done)return e.value;this.inner=null}catch(l){d(n,"throw",l)}if(e=a(o(this.next,n)),this.done=!!e.done)return;try{this.inner=c(r(e.value,this.counter++),!1)}catch(l){d(n,"throw",l)}}}));r({target:"Iterator",proto:!0,real:!0,forced:u},{flatMap:function(e){return a(this),l(e),new m(i(this),{mapper:e,inner:null})}})}}]);