!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9004da80-8dbb-4a79-98f7-0c6229f6c3ce",e._sentryDebugIdIdentifier="sentry-dbid-9004da80-8dbb-4a79-98f7-0c6229f6c3ce")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"67fcafa0e89723987481f6de299b5bd1fcd6618a"},(self.webpackChunkcloud_frontend=self.webpackChunkcloud_frontend||[]).push([[1261],{81261:function(e,n,t){t.r(n);var a=t(29439),r=t(67294),o=t(99113),c=t(74059),s=t(46667),l=t(17145),i=t(14809),u=t(91008),m=t(79655),d={noRoomPermission:{header:function(e){return"Your role doesn't give you permission to access any of the troubleshooting information on ".concat(e,".")}},noSpacePermission:{header:function(e){return"Your role doesn't give you permission to access any information on ".concat(e,".")}},noRooms:{header:function(e){return"You currently don't have permission to see any room on ".concat(e,".")}}},f=function(e){var n=e.onClick,t=e.spaceName;return r.createElement(r.Fragment,null,r.createElement(o.Text,{margin:[2,0,0]},"You can also leave this Space if you wish. "),r.createElement(o.Button,{flavour:"borderless",icon:"switch_off",label:"Leave ".concat(t),margin:[0,0,0,7],onClick:n,strong:!0}))};n.default=function(e){var n=e.reason,t=(0,c.OS)(),g=(0,s.Z)(),p=(0,a.Z)(g,4),b=p[0],h=p[2],v=p[3],y=d[n].header,E=(0,c.uk)();return r.createElement(l.Z,{title:y(t.name)},r.createElement(r.Fragment,null,"noSpacePermission"===n&&r.createElement(r.Fragment,null,r.createElement(o.Text,null,"Please contact the Space administrators if this is unexpected."),r.createElement(f,{onClick:h,spaceName:t.name})),"noRoomPermission"===n&&r.createElement(o.Text,null,"To manage Plan & Billing information please"," ",r.createElement(u.Z,{as:m.rU,to:"/spaces/".concat(E,"/settings/billing")},"click here.")),"noRooms"===n&&r.createElement(r.Fragment,null,r.createElement(o.Text,null,"Please contact a Space administrator or manager if this is unexpected."),r.createElement(f,{onClick:h,spaceName:t.name})),b&&r.createElement(i.Z,{id:t.id,name:t.name,onClose:v})))}},14809:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(87462),r=t(67294),o=t(99113),c=t(89250),s=t(13477),l=t(94666),i=t(15861),u=t(29439),m=t(64687),d=t.n(m),f=(t(57327),t(41539),t(88449),t(2490),t(59849),t(4480)),g=t(93017),p=t(274),b=t(46585),h=t(74059),v=t(57079),y=t(58502),E=t(95383),w=t(53606),k="leave-space-dialog",Z="leaveSpaceDialog",x=function(e){var n=e.id,t=e.name,m=e.onClose,x=(0,c.s0)(),C=(0,s.Iy)("id"),P=(0,l.H4)(),S=(0,l.nP)(),_=(0,l.Wy)(),L=function(e){var n=(0,g.Z)(),t=(0,u.Z)(n,2)[1];return(0,f._8)((function(n){var a=n.snapshot,r=n.set,o=n.reset;return function(){var n=(0,i.Z)(d().mark((function n(c){var s,i,m,f,g,w,k,Z,x;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=c.currentUserId,i=c.onSuccess,m=c.onError,n.next=3,a.getPromise((0,h.st)("ids"));case 3:if(f=n.sent,g=f.filter((function(n){return e!==n})),w=(0,u.Z)(g,1),k=w[0]){n.next=9;break}return t({header:"Spaces",text:b.T$.leave}),n.abrupt("return");case 9:if(n.t0=k,!n.t0){n.next=14;break}return n.next=13,a.getPromise((0,y.ZP)(k));case 13:n.t0=n.sent;case 14:return Z=n.t0,x=Z.slug,r((0,h.st)("ids"),g),r(v.Z,(function(n){return n.filter((function(n){return n!==e}))})),n.prev=18,n.next=21,(0,p.Sz)(e,[s]);case 21:i&&i(x),(0,l.zm)(o,e),(0,E.r1)(o,e),o((0,y.ZP)(e)),n.next=31;break;case 27:n.prev=27,n.t1=n.catch(18),r((0,h.st)("ids"),f),m&&m();case 31:case"end":return n.stop()}}),n,null,[[18,27]])})));return function(e){return n.apply(this,arguments)}}()}),[e])}(n),I=(0,w.Z)(n),Y=(0,r.useCallback)((function(e){return x("/spaces/".concat(e))}),[]),D=1===P.length,F=1===S.length&&_,T=D?{confirmLabel:"Yes, leave","data-ga":"".concat(k,"-last-member"),"data-testid":"".concat(Z,"LastMember"),handleConfirm:function(){return I({onSuccess:Y})},message:r.createElement(r.Fragment,null,"If you leave, space ",r.createElement("strong",null,t)," will be deleted immediately.",r.createElement("br",null),"Are you sure you want to continue?"),title:"Leave and delete ".concat(t," space")}:F?{confirmLabel:"Give rights","data-ga":"".concat(k,"-last-admin"),"data-testid":"".concat(Z,"LastAdmin"),handleConfirm:function(){return x("users")},isConfirmPositive:!0,message:r.createElement(r.Fragment,null,"You are the last admin of ",r.createElement("strong",null,t)," space. Please give admin rights to another member so you can leave this space."),title:"Leave ".concat(t," space")}:{confirmLabel:"Yes, leave","data-ga":k,"data-testid":Z,handleConfirm:function(){return L({currentUserId:C,onSuccess:Y})},message:r.createElement(r.Fragment,null,"You are about to leave ",r.createElement("strong",null,t)," space.",r.createElement("br",null),"Are you sure you want to continue?"),title:"Leave ".concat(t," space")};return r.createElement(o.ConfirmationDialog,(0,a.Z)({handleDecline:m},T))}}}]);